(function(e,d){typeof exports=="object"&&typeof module<"u"?module.exports=d(require("vue"),require("@/utils/http"),require("decimal.js"),require("@/components/PageManage.vue"),require("element-plus"),require("@/composables/useConvert"),require("vue-router")):typeof define=="function"&&define.amd?define(["vue","@/utils/http","decimal.js","@/components/PageManage.vue","element-plus","@/composables/useConvert","vue-router"],d):(e=typeof globalThis<"u"?globalThis:e||self,e.ShopGroupOrderDetail=d(e.ShopGroupOrderDetailContext.Vue,e.ShopGroupOrderDetailContext.UtilsHttp,e.ShopGroupOrderDetailContext.Decimal,e.ShopGroupOrderDetailContext.PageManageTwo,e.ShopGroupOrderDetailContext.ElementPlus,e.ShopGroupOrderDetailContext.UseConvert,e.ShopGroupOrderDetailContext.VueRouter))})(this,function(e,d,ne,G,u,z,T){"use strict";var h=document.createElement("style");h.textContent=`@charset "UTF-8";.groupDetail__info[data-v-695398f7]{border:1px solid #d5d5d5;font-size:14px;color:#333;padding-top:25px}.groupDetail__info-row[data-v-695398f7]{display:flex;justify-content:flex-start;align-items:center;margin-bottom:30px}.groupDetail__info-row--label[data-v-695398f7]{width:104px;text-align:right}.groupDetail__info-row--right[data-v-695398f7]{display:flex;justify-content:center;align-items:center;margin-left:11px}.mg[data-v-695398f7]{margin-left:10px}.ellipsis[data-v-695398f7]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
`,document.head.appendChild(h);const j=n=>d.http.get({url:`addon-team/team/activity/order/summary?teamNo=${n}`}),q=(n,i)=>d.http.get({url:"addon-team/team/activity/order/users",params:{teamNo:n,size:i.size,current:i.current}}),I={class:"groupDetail"},U={class:"groupDetail__info"},k={class:"groupDetail__info-row"},M={class:"groupDetail__info-row--right"},H={class:"mg"},P={class:"groupDetail__info-row"},A={class:"groupDetail__info-row--right"},B={class:"groupDetail__info-row"},F={class:"groupDetail__info-row--right"},L={class:"groupDetail__info-row"},R={class:"groupDetail__info-row--right"},$={class:"groupDetail__info-row"},J={class:"groupDetail__info-row--right"},K={class:"mg"},Q={class:"groupDetail__info-row"},W={class:"groupDetail__info-row--right"},X={class:"groupDetail__info-row"},Y={class:"groupDetail__info-row--right"},Z={class:"ellipsis"},v=e.defineComponent({__name:"ShopGroupOrderDetail",setup(n){const{divTenThousand:i}=z(),p=T.useRoute(),o=e.ref(),m=e.ref([]),l=e.reactive({current:1,size:10,total:0});te(),f();const ee=r=>({SUCCESS:"拼团成功",FAIL:"拼团失败",ING:"拼团中"})[r];async function te(){const r=p.query.teamNo,{code:t,data:s}=await j(r);if(t!==200)return u.ElMessage.error("获取拼团信息失败");o.value=s}async function f(){const r=p.query.teamNo,{total:t,...s}=l,{code:g,data:_}=await q(r,s);if(g!==200)return u.ElMessage.error("获取拼团用户信息失败");m.value=_.records,l.total=_.total}const oe=r=>{l.size=r,f()},re=r=>{l.current=r,f()};return(r,t)=>{var N,D,w,V,x,y,C,E,S,O,b;const s=e.resolveComponent("el-image"),g=e.resolveComponent("el-col"),_=e.resolveComponent("el-row"),c=e.resolveComponent("el-table-column"),ae=e.resolveComponent("el-table");return e.openBlock(),e.createElementBlock("div",I,[e.createElementVNode("div",U,[e.createElementVNode("div",k,[t[0]||(t[0]=e.createElementVNode("div",{class:"groupDetail__info-row--label"},"开团人:",-1)),e.createElementVNode("div",M,[e.createVNode(s,{src:(N=o.value)==null?void 0:N.commanderAvatar,style:{width:"36px",height:"36px"}},null,8,["src"]),e.createElementVNode("span",H,e.toDisplayString((D=o.value)==null?void 0:D.commanderNickname),1)])]),e.createElementVNode("div",P,[t[1]||(t[1]=e.createElementVNode("div",{class:"groupDetail__info-row--label"},"活动名称:",-1)),e.createElementVNode("div",A,e.toDisplayString((w=o.value)==null?void 0:w.name),1)]),e.createElementVNode("div",B,[t[2]||(t[2]=e.createElementVNode("div",{class:"groupDetail__info-row--label"},"开团时间:",-1)),e.createElementVNode("div",F,e.toDisplayString((V=o.value)==null?void 0:V.openTime),1)]),e.createElementVNode("div",L,[t[3]||(t[3]=e.createElementVNode("div",{class:"groupDetail__info-row--label"},"参团人数:",-1)),e.createElementVNode("div",R,e.toDisplayString((x=o.value)==null?void 0:x.currentNum)+"/"+e.toDisplayString((y=o.value)==null?void 0:y.totalNum),1)]),e.createElementVNode("div",$,[t[4]||(t[4]=e.createElementVNode("div",{class:"groupDetail__info-row--label"},"拼团商品:",-1)),e.createElementVNode("div",J,[e.createVNode(s,{src:(C=o.value)==null?void 0:C.productImage,style:{width:"36px",height:"36px"}},null,8,["src"]),e.createElementVNode("span",K,e.toDisplayString((E=o.value)==null?void 0:E.productName),1)])]),e.createElementVNode("div",Q,[t[5]||(t[5]=e.createElementVNode("div",{class:"groupDetail__info-row--label"},"购买件数:",-1)),e.createElementVNode("div",W,e.toDisplayString((S=o.value)==null?void 0:S.buyNum),1)]),e.createElementVNode("div",X,[t[6]||(t[6]=e.createElementVNode("div",{class:"groupDetail__info-row--label"},"拼团状态:",-1)),e.createElementVNode("div",Y,e.toDisplayString(((O=o.value)==null?void 0:O.status)&&ee((b=o.value)==null?void 0:b.status)),1)])]),e.createVNode(ae,{data:m.value,width:"100%"},{default:e.withCtx(()=>[e.createVNode(c,{label:"拼团人信息",width:"200"},{default:e.withCtx(({row:a})=>[e.createVNode(_,{justify:"center",align:"middle"},{default:e.withCtx(()=>[e.createVNode(g,{span:6},{default:e.withCtx(()=>[e.createVNode(s,{src:a.avatar,style:{width:"36px",height:"36px"}},null,8,["src"])]),_:2},1024),e.createVNode(g,{span:18},{default:e.withCtx(()=>[e.createElementVNode("div",Z,e.toDisplayString(a.nickname),1)]),_:2},1024)]),_:2},1024)]),_:1}),e.createVNode(c,{label:"拼团价",align:"center"},{default:e.withCtx(({row:a})=>[e.createTextVNode(e.toDisplayString(e.unref(i)(a.price)),1)]),_:1}),e.createVNode(c,{label:"实付金额",align:"center"},{default:e.withCtx(({row:a})=>[e.createTextVNode(e.toDisplayString(e.unref(i)(a.amount)),1)]),_:1}),e.createVNode(c,{label:"团员身份",align:"center"},{default:e.withCtx(({row:a})=>[e.createElementVNode("div",null,e.toDisplayString(a.commander?"团长":"团员"),1)]),_:1}),e.createVNode(c,{label:"创建时间",prop:"createTime",width:"180",align:"center"}),e.createVNode(c,{label:"订单号",align:"center",width:"220",fixed:"right"},{default:e.withCtx(({row:a})=>[e.createElementVNode("div",null,e.toDisplayString(a.orderNo),1)]),_:1})]),_:1},8,["data"]),e.createVNode(_,{justify:"end",align:"middle"},{default:e.withCtx(()=>[e.createVNode(G,{"page-size":l.size,"page-num":l.current,total:l.total,onHandleSizeChange:oe,onHandleCurrentChange:re},null,8,["page-size","page-num","total"])]),_:1})])}}}),ie="";return((n,i)=>{const p=n.__vccOpts||n;for(const[o,m]of i)p[o]=m;return p})(v,[["__scopeId","data-v-695398f7"]])});
