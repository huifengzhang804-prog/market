(function(e,s){typeof exports=="object"&&typeof module<"u"?module.exports=s(require("vue"),require("vue-router"),require("element-plus"),require("@/apis/http"),require("@/components/BetterPageManage/BetterPageManage.vue"),require("@/components/schema-form/index.vue")):typeof define=="function"&&define.amd?define(["vue","vue-router","element-plus","@/apis/http","@/components/BetterPageManage/BetterPageManage.vue","@/components/schema-form/index.vue"],s):(e=typeof globalThis<"u"?globalThis:e||self,e.PlatformStoreList=s(e.PlatformStoreListContext.Vue,e.PlatformStoreListContext.VueRouter,e.PlatformStoreListContext.ElementPlus,e.PlatformStoreListContext.Request,e.PlatformStoreListContext.PageManage,e.PlatformStoreListContext.SchemaForm))})(this,function(e,s,u,g,y,x){"use strict";var _=document.createElement("style");_.textContent=`@charset "UTF-8";[data-v-1ab964d2]{color:#333}.button[data-v-1ab964d2]{margin:15px 0 20px}.ellipsis[data-v-1ab964d2]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;white-space:normal}
`,document.head.appendChild(_);const b=i=>g.get({url:"addon-shop-store/store/list",params:i}),C={class:"table_container"},N={class:"ellipsis",style:{width:"220px"}},S={class:"ellipsis"},P=["onClick"],w=e.defineComponent({__name:"PlatformStoreList",setup(i){const m=s.useRouter(),c=e.ref(!1),d=e.ref([]),l=e.reactive({shopName:"",storeName:"",status:""}),n=e.reactive({size:20,current:1,total:0}),V=[{label:"店铺名称",labelWidth:75,prop:"shopName",valueType:"copy",fieldProps:{placeholder:"请填写店铺名称",maxlength:20}},{label:"门店名称",labelWidth:90,prop:"storeName",valueType:"copy",fieldProps:{placeholder:"请填写门店名称",maxlength:20}},{label:"状态",labelWidth:45,prop:"status",valueType:"select",options:[{value:"",label:"全部"},{value:"NORMAL",label:"已启用"},{value:"SHOP_FORBIDDEN",label:"已禁用"}],fieldProps:{placeholder:"请选择"}}];p();async function p(){const{code:t,data:a}=await b({...n,...l});t===200&&a?(d.value=a.records,n.total=a.total):u.ElMessage.error("获取列表失败")}const E=(t,a,h)=>{m.push({path:"/store/AddStore",query:{shopId:t,id:a,lookType:h}})},L=t=>{n.size=t,p()},k=t=>{n.current=t,p()},D=t=>{t&&Object.keys(t).forEach(a=>l[a]=t[a])},f=()=>{n.current=1,p()},O=()=>{Object.keys(l).forEach(t=>l[t]=""),f()};return(t,a)=>{const h=e.resolveComponent("el-config-provider"),r=e.resolveComponent("el-table-column"),B=e.resolveComponent("el-table");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(h,{"value-on-clear":"","empty-values":[void 0,null]},{default:e.withCtx(()=>[c.value?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(x,{key:0,columns:V,"v-model":l,"has-unfold":"",onChangeFormItem:D,onSearchHandle:f,onHandleReset:O},null,8,["v-model"]))]),_:1}),a[0]||(a[0]=e.createElementVNode("div",{class:"grey_bar"},null,-1)),e.createElementVNode("div",C,[e.createVNode(B,{data:d.value,"header-cell-style":{"background-color":"#F7F8FA","font-weight":"bold",color:"#333",height:"48px"},"row-style":{height:"80px"},"empty-text":"暂无数据~",style:{width:"100%"}},{default:e.withCtx(()=>[e.createVNode(r,{label:"门店名称",width:"300"},{default:e.withCtx(({row:o})=>[e.createElementVNode("div",N,e.toDisplayString(o.storeName),1)]),_:1}),e.createVNode(r,{label:"负责人姓名",width:"180"},{default:e.withCtx(({row:o})=>[e.createElementVNode("div",null,e.toDisplayString(o.functionaryName),1)]),_:1}),e.createVNode(r,{label:"手机号",width:"180"},{default:e.withCtx(({row:o})=>[e.createElementVNode("div",null,e.toDisplayString(o.functionaryPhone),1)]),_:1}),e.createVNode(r,{label:"店铺名称"},{default:e.withCtx(({row:o})=>[e.createElementVNode("div",S,e.toDisplayString(o.shopName),1)]),_:1}),e.createVNode(r,{label:"门店状态",width:"150"},{default:e.withCtx(({row:o})=>[e.createElementVNode("div",{style:e.normalizeStyle({color:o.status==="SHOP_FORBIDDEN"?"#999":"#333"})},e.toDisplayString(o.status==="NORMAL"?"已启用":o.status==="SHOP_FORBIDDEN"?"已禁用":"平台禁用"),5)]),_:1}),e.createVNode(r,{align:"right",label:"操作",width:"70",fixed:"right"},{default:e.withCtx(({row:o})=>[e.createElementVNode("span",{style:{color:"#555cfd",cursor:"pointer"},onClick:q=>E(o.shopId,o.id,"OnlyLook")},"查看",8,P)]),_:1})]),_:1},8,["data"])]),e.createVNode(y,{"page-num":n.current,"page-size":n.size,total:n.total,class:"pagination",onHandleSizeChange:L,onHandleCurrentChange:k},null,8,["page-num","page-size","total"])],64)}}}),F="";return((i,m)=>{const c=i.__vccOpts||i;for(const[d,l]of m)c[d]=l;return c})(w,[["__scopeId","data-v-1ab964d2"]])});
