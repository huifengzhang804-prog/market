(function(e,Q){typeof exports=="object"&&typeof module<"u"?module.exports=Q(require("vue"),require("@/components/chrome-tab/index.vue"),require("@/components/PageManage.vue"),require("element-plus"),require("decimal.js"),require("@/components/q-icon/q-icon.vue"),require("@/apis/good"),require("@/components/SchemaForm.vue"),require("@/composables/useConvert"),require("@/components/q-choose-goods-popup/q-choose-goods-popup.vue"),require("vue-clipboard3"),require("vue-router"),require("@/utils/date"),require("@element-plus/icons-vue"),require("@/components/qszr-core/packages/q-table/QTable"),require("@/components/qszr-core/packages/q-table/q-table-column.vue"),require("@/apis/http")):typeof define=="function"&&define.amd?define(["vue","@/components/chrome-tab/index.vue","@/components/PageManage.vue","element-plus","decimal.js","@/components/q-icon/q-icon.vue","@/apis/good","@/components/SchemaForm.vue","@/composables/useConvert","@/components/q-choose-goods-popup/q-choose-goods-popup.vue","vue-clipboard3","vue-router","@/utils/date","@element-plus/icons-vue","@/components/qszr-core/packages/q-table/QTable","@/components/qszr-core/packages/q-table/q-table-column.vue","@/apis/http"],Q):(e=typeof globalThis<"u"?globalThis:e||self,e.ShopDistribute=Q(e.ShopDistributeContext.Vue,e.ShopDistributeContext.ChromeTab,e.ShopDistributeContext.PageManageTwo,e.ShopDistributeContext.ElementPlus,e.ShopDistributeContext.Decimal,e.ShopDistributeContext.QIcon,e.ShopDistributeContext.GoodAPI,e.ShopDistributeContext.SchemaForms,e.ShopDistributeContext.UseConvert,e.ShopDistributeContext.QChooseGoodsPopup,e.ShopDistributeContext.VueClipboard3,e.ShopDistributeContext.VueRouter,e.ShopDistributeContext.DateUtil,e.ShopDistributeContext.ElementPlusIconsVue,e.ShopDistributeContext.QTable,e.ShopDistributeContext.QTableColumn,e.ShopDistributeContext.Request))})(this,function(e,Q,ne,T,D,le,xe,re,v,Ne,ye,we,Ce,me,Ee,H,A){"use strict";var pe=document.createElement("style");pe.textContent=`@charset "UTF-8";[data-v-cf56fbd5]{font-size:14px}.table-height-fit[data-v-cf56fbd5]{height:calc(100vh - 370px);overflow:auto}.dis[data-v-cf56fbd5]{padding:0}.dis__header[data-v-cf56fbd5]{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px}.com[data-v-cf56fbd5]{color:#515151;display:flex}.com__img[data-v-cf56fbd5]{width:68px;height:68px;margin-right:12px}.com__right[data-v-cf56fbd5]{height:68px;text-align:left;display:flex;flex-direction:column;justify-content:space-between}.com__right--name[data-v-cf56fbd5]{line-height:normal;width:217px;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.dialogCom[data-v-cf56fbd5]{display:flex;justify-content:center;align-items:center}.dialogCom__img[data-v-cf56fbd5]{width:60px;height:60px;margin-right:12px;border-radius:10px}.dialogCom__right--name[data-v-cf56fbd5]{width:210px;font-size:14px;color:#333;line-height:20px}.tableCom__img[data-v-cf56fbd5]{width:36px;height:36px;margin-right:12px;border-radius:10px}.color51[data-v-cf56fbd5]{color:#515151}.colorRed[data-v-cf56fbd5]{color:#fd0505}.color33[data-v-cf56fbd5]{color:#333}.column[data-v-cf56fbd5]{display:flex;flex-direction:column;align-items:start;justify-content:center}.column button[data-v-cf56fbd5]{margin:0}.flex[data-v-cf56fbd5]{display:flex;justify-content:flex-start;align-items:center}.amount[data-v-cf56fbd5]:before{content:"￥";display:inline-block}.percentage[data-v-cf56fbd5]:after{content:"%";display:inline-block}.tiShi[data-v-cf56fbd5]{color:#fd0505;font-size:12px;margin:10px 0 20px}[data-v-cf56fbd5] .el-button.is-link{padding:0}[data-v-cf56fbd5] .el-button+.el-button{margin-left:10px}.head[data-v-724cf590]{width:1256px;display:flex;align-items:center;background-color:#f7f8fa;height:52px;padding-left:16px;color:#333}.head div[data-v-724cf590]:after{content:"|";padding:0 8px;position:relative;top:-1px;color:#333!important}.head .last[data-v-724cf590]:after{content:""}.content[data-v-724cf590]{display:flex}.content__right1[data-v-724cf590]{border:1px solid #ebeef5;display:flex;align-items:center;justify-content:space-around;line-height:26px;width:470px;flex-shrink:0;padding-left:10px}.content__right1--item[data-v-724cf590]{display:flex;flex-direction:column}.content__right1--item span[data-v-724cf590]{line-height:18px}.content__right2[data-v-724cf590]{width:157px;flex-shrink:0;font-size:13px;text-align:center;line-height:26px}.content__right2--item[data-v-724cf590]{height:100px;line-height:100px;border:1px solid #ebeef5}.content__right3[data-v-724cf590]{width:196px;flex-shrink:0;font-size:13px;border:1px solid #ebeef5;display:flex;flex-wrap:wrap;justify-content:center;flex-direction:column;padding-left:5px;line-height:26px}.content__right3--item[data-v-724cf590]{padding:0 10px}.goods[data-v-724cf590]{width:410px;height:68px;display:flex}.goods__pic[data-v-724cf590]{margin-right:10px;width:60px;height:50px;position:relative}.goods__pic--state[data-v-724cf590]{background:#7f83f7;position:absolute;width:40px;height:40px;border-radius:50%;top:5px;left:10px;color:#fff;line-height:40px;text-align:center;font-size:10px}.goods__info[data-v-724cf590]{display:flex;flex-direction:column;justify-content:space-between;margin-left:10px}.goods__info-flex[data-v-724cf590]{width:310px;display:flex;align-items:center;justify-content:space-between}.goods__info-flex--name[data-v-724cf590]{width:220px;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;margin-right:10px}.goods__info-flex--price[data-v-724cf590]{font-size:12px}.goods__info-flex--specs[data-v-724cf590]{color:#999;width:220px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.goods__info-flex--num[data-v-724cf590]{position:relative;top:7px;font-size:12px}[data-v-724cf590] .el-table thead{display:none}.amount[data-v-724cf590]:before{content:"￥";display:inline-block}.percentage[data-v-724cf590]:after{content:"%";display:inline-block}.ellipsis[data-v-724cf590]{max-width:125px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.buyer[data-v-724cf590]{max-width:100px;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.buyer-container[data-v-724cf590]{display:flex;justify-content:flex-start;align-items:center}.name[data-v-724cf590]{width:109px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:#555cfd}.dialog-footer button[data-v-0e7e373b]:first-child{margin-right:10px}.fw[data-v-0e7e373b]{font-weight:700;margin:20px 0 10px}.distribution_order_table_container[data-v-bb2b8e20]{overflow:auto;position:relative;border-left:16px solid transparent;border-right:16px solid transparent}.distribution_order_table_container .tbhead[data-v-bb2b8e20]{background-color:#f2f2f2;position:sticky;top:0;z-index:100}.count[data-v-bb2b8e20]{height:48px;line-height:48px;padding-left:16px;background-color:#555cfd0d}.count span[data-v-bb2b8e20]{margin-right:16px}.tbhead[data-v-bb2b8e20]{width:1256px;display:flex;align-items:center;height:48px;font-weight:700;background-color:#f7f8fa}.tbhead__goods[data-v-bb2b8e20]{margin-left:16%}.tbhead__state[data-v-bb2b8e20]{margin-left:23%}.tbhead__detail[data-v-bb2b8e20]{margin-left:29%}.tbhead__total[data-v-bb2b8e20]{margin-left:8%}.ml[data-v-bb2b8e20]{margin-left:30px}[data-v-ba6df2b1]{font-size:14px!important}.tool[data-v-ba6df2b1]{width:100%;height:56px;background:#fff;position:relative}.tool__btn[data-v-ba6df2b1]{position:absolute;left:0}.tool__btn--drop[data-v-ba6df2b1]{width:120px}.tool__input[data-v-ba6df2b1]{width:250px;font-size:14px;position:absolute;right:0;top:50%;margin-top:-24px}.q-table[data-v-ba6df2b1]{width:100%;overflow:auto}.color51[data-v-ba6df2b1]{color:#515151;display:flex;flex-direction:column;justify-content:space-around}.color58[data-v-ba6df2b1]{color:#586884}.color33[data-v-ba6df2b1]{color:#333}.column[data-v-ba6df2b1]{display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}.column button[data-v-ba6df2b1]{margin:0}.ellipsis[data-v-ba6df2b1]{width:135px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ml[data-v-ba6df2b1]{margin-left:30px}
`,document.head.appendChild(pe);const Ve=e.defineComponent({__name:"ShopDistribute",setup(s){const f={distributionCom:e.defineAsyncComponent(()=>Promise.resolve().then(()=>pt)),distributionOrder:e.defineAsyncComponent(()=>Promise.resolve().then(()=>ao)),wholeSaler:e.defineAsyncComponent(()=>Promise.resolve().then(()=>xo))},c=[{label:"分销商品",name:"distributionCom"},{label:"分销订单",name:"distributionOrder"},{label:"分销商",name:"wholeSaler"}],r=e.ref("distributionCom"),u=e.computed(()=>f[r.value]),g=x=>{x&&(r.value=x)};return(x,i)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(Q,{"tab-list":c,value:r.value,onHandleTabs:g},null,8,["value"]),(e.openBlock(),e.createBlock(e.resolveDynamicComponent(u.value),{ref:"componentRef"},null,512))],64))}}),Te=s=>A.post({url:"addon-distribute/distribute/product",data:s}),Se=(s,f)=>A.put({url:`addon-distribute/distribute/product/${s}`,data:f}),ke=s=>A.post({url:"addon-distribute/distribute/product/page",data:s}),De=s=>A.del({url:`addon-distribute/distribute/product/${s.join(",")}`}),he=s=>A.put({url:`addon-distribute/distribute/product/cancel/${s.join(",")}`}),Ie=s=>A.put({url:`addon-distribute/distribute/product/again/${s}`}),$e=()=>A.get({url:"addon-distribute/distribute/config"}),Be=s=>A.get({url:"addon-distribute/distribute/order",params:s}),Fe=s=>A.get({url:"addon-distribute/distribute/distributor",params:s}),Oe=s=>A.get({url:"addon-distribute/distribute/distributor/team",params:s}),Ue=s=>A.get({url:"addon-distribute/distribute/distributor/rank",params:s}),Ae={class:"handle_container"},Le={class:"table_container"},ze={class:"com f12 color51"},Pe={class:"com__right"},Re={class:"com__right--name"},qe={key:1,class:"com__right--name"},je={key:2},He={key:3},Xe={class:"f12 color51"},We={class:"f12 color51 column"},Ge={class:"f12 color51"},Me={key:0,class:"f12 color51"},Ye={key:1,class:"f12 color51"},Je={class:"f12 color33"},Ke={class:"f12 color33"},Ze={style:{display:"flex"}},Qe={key:0,placement:"bottom",effect:"light",class:"colorRed"},ve={key:1,class:"f12 colorRed"},et={class:"f12 color51"},tt={style:{display:"flex",gap:"20px"}},ot={class:"flex"},nt={class:"tableCom flex"},lt={class:"f12 color51"},at={key:0,class:"f12 colorRed"},rt={key:1,class:"f12 colorRed"},st={key:0,class:"f12 colorRed"},dt={key:1,class:"f12 colorRed"},it={key:0,class:"f12 colorRed"},ct={key:1,class:"f12 colorRed"},ft=["onClick"],mt=e.defineComponent({__name:"DistributionCom",setup(s){const f=e.reactive({list:[],current:1,pages:1,total:0,size:10,productName:"",distributionStatus:"ALL"}),{mulTenThousand:c,divTenThousand:r,divHundred:u}=v(),g=e.ref("add"),x=e.ref(!1),i=e.ref("ONE"),n=e.ref({}),E=e.ref(),R=e.computed(()=>g.value==="add"?"新增":g.value==="edit"?"编辑":"查看"),V=e.reactive({pages:1,current:1,list:[],total:0,size:10,name:"",loading:!1,excludeProductIds:[]}),l=e.reactive({shareType:"UNIFIED",one:"0",two:"0",three:"0",productIds:[],listId:""}),N=e.reactive({one:[{required:!0,validator:ue,trigger:"blur"}],two:[{required:!0,validator:No,trigger:"blur"}],three:[{required:!0,validator:yo,trigger:"blur"}]}),S=e.ref([]),I=e.ref([]);e.ref([]);const W=[{label:"商品名称",prop:"productName",valueType:"copy",fieldProps:{placeholder:"请输入商品名称"}}];U(),To();const G=()=>{g.value="add",x.value=!0},X=()=>{if(g.value==="see"){x.value=!1;return}E.value&&E.value.validate(async a=>{if(a){const t=JSON.parse(JSON.stringify(l));t.shareType==="RATE"||t.shareType==="FIXED_AMOUNT"?(t.one=String(c(t.one)),t.two=String(c(t.two)),t.three=String(c(t.three))):(t.shareType=n.value.shareType,(n.value.shareType==="RATE"||n.value.shareType==="FIXED_AMOUNT")&&(t.one=String(c(n.value.one)),t.two=String(c(n.value.two)),t.three=String(c(n.value.three))));const{code:d,msg:m}=g.value==="add"?await Te(be(t)):await Se(t.listId,be(t));d===200?(T.ElMessage.success(g.value==="add"?"新增成功":"修改成功"),x.value=!1,U()):T.ElMessage.error(m||(g.value==="add"?"新增失败":"修改失败"))}})},z=()=>{ce.value=!0,B()},M=a=>{f.current=a,U()},F=a=>{f.size=a,U()},O=()=>{ae()},b=()=>{f.current=1,U()},y=a=>{S.value=a},h=async a=>{if((a.status==="SELL_ON"||a.status==="UNUSABLE")&&a.distributionStatus==="CANCEL_DISTRIBUTION"){const{code:t,success:d}=await Ie(a.id);t===200&&d?(T.ElMessage.success("重新分销成功"),U()):T.ElMessage.error("重新分销失败"),U()}},w=e.ref(""),Y=async a=>{g.value="edit",l.productIds=[a.productId],l.shareType=a.shareType,l.listId=a.id,(a.one||a.two||a.three)&&(l.one=(a.shareType==="FIXED_AMOUNT",String(r(a.one))),l.two=(a.shareType==="FIXED_AMOUNT",String(r(a.two))),l.three=(a.shareType==="FIXED_AMOUNT",String(r(a.three)))),x.value=!0,w.value=a.distributionStatus},te=a=>{T.ElMessageBox.confirm("请确认是否取消分销，确定后商品将从停止分销！！！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{const{code:t,success:d}=await he([a]);t===200&&d?(T.ElMessage.success("取消分销成功"),U()):T.ElMessage.error("取消分销失败")})},q=a=>{console.log(a),T.ElMessageBox.confirm("请确认是否移除商品，确定后商品将从该列表中移除！！！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{const{code:t,success:d}=await De([a]);t===200&&d?(T.ElMessage.success("商品移除成功"),U()):T.ElMessage.error("商品移除失败")})},P=()=>{if(!S.value.length)return T.ElMessage.warning("请选中商品");T.ElMessageBox.confirm("请确认是否取消分销，确定后商品将从该列表中移除！！！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{const a=S.value.map(m=>m.id),{code:t,success:d}=await he(a);t===200&&d?(T.ElMessage.success("取消分销成功"),U()):T.ElMessage.error("取消分销失败")})};e.ref("");async function B(){V.loading=!0;const{code:a,data:t}=await xe.doGetRetrieveProduct({current:V.current,size:V.size,excludeProductIds:V.excludeProductIds});a===200?(V.list=t.list,V.size=t.pageSize,V.current=t.pageNum,V.total=t.total):T.ElMessage.error("获取商品失败"),V.loading=!1}function ae(){l.productIds=[],l.shareType="UNIFIED",l.one="0",l.two="0",l.three="0",V.excludeProductIds=[],I.value=[]}function _(a){I.value.forEach((t,d,m)=>{t.productId===a&&m.splice(d,1)}),V.excludeProductIds.forEach((t,d,m)=>{t===a&&m.splice(d,1)}),l.productIds.forEach((t,d,m)=>{t===a&&m.splice(d,1)})}function ue(a,t,d){const m=l.shareType;if(m==="UNIFIED")return d();const p=Number(t);if(p<=0)return d(new Error("一级佣金应大于等于零"));if(i.value!=="ONE"&&l.two&&p<=Number(l.two))return d(new Error("一级佣金值应大于二级佣金"));if(m==="RATE"&&(p>100||p<0))return d(new Error("一级佣金比例应设置在0-100之间"));if(m==="FIXED_AMOUNT"&&(p>9e3||p<0))return d(new Error("一级佣金应设置在0-9000之间"));d()}function No(a,t,d){const m=l.shareType;if(m==="UNIFIED"||i.value==="ONE")return d();const p=Number(t);if(m==="RATE"&&(p>100||p<0))return d(new Error("一级佣金比例应设置在0-100之间"));if(m==="FIXED_AMOUNT"&&(p>9e3||p<0))return d(new Error("一级佣金应设置在0-9000之间"));if(l.one&&p>=Number(l.one))return d(new Error("二级佣金应小于一级佣金"));if(i.value==="THREE"&&l.three&&p<=Number(l.three))return d(new Error("二级佣金应大于三级佣金"));d()}function yo(a,t,d){const m=l.shareType;if(m==="UNIFIED"||i.value!=="THREE")return d();const p=Number(t);if(m==="RATE"&&(p>100||p<0))return d(new Error("一级佣金比例应设置在0-100之间"));if(m==="FIXED_AMOUNT"&&(p>9e3||p<0))return d(new Error("一级佣金应设置在0-9000之间"));if(l.two&&p>=Number(l.two))return d(new Error("三级佣金应小于二级佣金"));d()}function de(a,t){return a==="UNIFIED"&&n.value.shareType==="RATE",r(t)}function be(a){return i.value==="ONE"?(delete a.two,delete a.three):i.value==="TWO"&&delete a.three,a}async function U(){const{code:a,data:t}=await ke({size:f.size,current:f.current,productName:f.productName,distributionStatus:f.distributionStatus==="ALL"?null:f.distributionStatus});a===200&&t?(f.list=t.records,f.total=t.total,console.log(t)):T.ElMessage.error("获取分销商品列表失败")}const wo=()=>{f.productName="",U()},Co=a=>{a&&Object.keys(a).forEach(t=>f[t]=a[t])};function Eo(a){if(a)return a==="IN_DISTRIBUTION"?"分销中":"取消分销"}function Vo(a){if(a)return a==="REFUSE"?"已拒绝":a==="UNDER_REVIEW"?"审核中":a==="SELL_OFF"?"下架":a==="SELL_ON"?"上架":a==="SELL_OUT"?"已售完":a==="PLATFORM_SELL_OFF"?"违规下架":"店铺不可用"}async function To(){const{code:a,data:t}=await $e();a===200?(i.value=t.level,(t.one||t.two||t.three)&&(t.one=t.shareType==="FIXED_AMOUNT"?String(r(t.one)):String(u(t.one)),t.two=t.shareType==="FIXED_AMOUNT"?String(r(t.two)):String(u(t.two)),t.three=t.shareType==="FIXED_AMOUNT"?String(r(t.three)):String(u(t.three)),n.value=t)):T.ElMessage.error("获取分销配置失败")}const K=a=>l.shareType!=="UNIFIED"?l.shareType==="RATE"?i.value==="ONE"?a.mul(u(l.one)).toFixed(2):i.value==="TWO"?a.mul(u(l.one)).add(a.mul(u(l.two))).toFixed(2):a.mul(u(l.one)).add(a.mul(u(l.two))).add(a.mul(u(l.three))).toFixed(2):i.value==="ONE"?new D(l.one).toFixed(2):i.value==="TWO"?new D(l.one).add(l.two).toFixed(2):new D(l.one).add(l.two).add(l.three).toFixed(2):n.value.shareType==="RATE"?i.value==="ONE"?a.mul(u(n.value.one)).toFixed(2):i.value==="TWO"?a.mul(u(n.value.one)).add(a.mul(u(n.value.two))).toFixed(2):a.mul(u(n.value.one)).add(a.mul(u(n.value.two))).add(a.mul(u(n.value.three))).toFixed(2):i.value==="ONE"?new D(n.value.one).toFixed(2):i.value==="TWO"?new D(n.value.one).add(n.value.two).toFixed(2):new D(n.value.one).add(n.value.two).add(n.value.three).toFixed(2),ie=(a,t)=>t.shareType!=="UNIFIED"?t.shareType==="RATE"?i.value==="ONE"?a.mul(r(u(t.one))).toFixed(2):i.value==="TWO"?a.mul(r(u(t.one))).add(a.mul(u(u(t.two)))).toFixed(2):a.mul(r(u(t.one))).add(a.mul(r(u(t.two)))).add(a.mul(r(u(t.three)))).toFixed(2):i.value==="ONE"?r(t.one).toFixed(2):i.value==="TWO"?r(t.one).add(r(t.two)).toFixed(2):r(t.one).add(r(t.two)).add(r(t.three)).toFixed(2):n.value.shareType==="RATE"?i.value==="ONE"?a.mul(u(n.value.one)).toFixed(2):i.value==="TWO"?a.mul(u(n.value.one)).add(a.mul(u(n.value.two))).toFixed(2):a.mul(u(n.value.one)).add(a.mul(u(n.value.two))).add(a.mul(u(n.value.three))).toFixed(2):i.value==="ONE"?new D(n.value.one).toFixed(2):i.value==="TWO"?new D(n.value.one).add(n.value.two).toFixed(2):new D(n.value.one).add(n.value.two).add(n.value.three).toFixed(2);function So(a,t,d,m,p,C){if(a==="FIXED_AMOUNT"){m=+r(m),p=+r(p),C=+r(C);const $=(m+p+C).toFixed(2);return`${m} + ${p} + ${C} = ${$}`}else if(t=+r(t),d=+r(d),m=+u(r(m)),p=+u(r(p)),C=+u(r(C)),C)if(p){const $=(d*m+d*p+d*C).toFixed(2),k=(t*m+t*p+t*C).toFixed(2);return t===d?`${t} * ${m} + ${t} * ${p} + ${t} * ${C} = ${k}`:`${t} * ${m} + ${t} * ${p} + ${t} * ${C} = ${k} </br> ${d} * ${m} + ${d} * ${p} + ${d} * ${C} = ${$}`}else{const $=(d*m).toFixed(2),k=(t*m).toFixed(2);return t===d?t+" * "+m+"   = "+k:`${t} * ${m} = ${k} </br> ${d} * ${m} = ${$}`}else{const $=(d*m+d*p).toFixed(2),k=(t*m+t*p).toFixed(2);return t===d?`${t} * ${m} + ${t} * ${p} = ${k}`:`${t} * ${m} + ${t} * ${p} = ${k} </br> ${d} * ${m} + ${d} * ${p} = ${$}`}}const _e=e.computed(()=>(a,t,d,m,p,C)=>{if(a==="FIXED_AMOUNT"){const $=+m+ +p+ +C;return`${m} + ${p} + ${C} = ${$}`}else if(t=+r(t),d=+r(d),(l.shareType==="RATE"||l.shareType==="UNIFIED"&&n.value.shareType!=="FIXED_AMOUNT")&&(m=+u(m),p=+u(p),C=+u(C)),C)if(p){const $=+(d*m+d*p+d*C).toFixed(2),k=+(t*m+t*p+t*C).toFixed(2);return t===d?`${t} * ${m} + ${t} * ${p} + ${t} * ${C} = ${k}`:`${t} * ${m} + ${t} * ${p} + ${t} * ${C} = ${k} </br> ${d} * ${m} + ${d} * ${p} + ${d} * ${C} = ${$}`}else{const $=(d*m).toFixed(2),k=(t*m).toFixed(2);return t===d?`${t} * ${m} = ${k}`:`${t} * ${m} = ${k} </br> ${d} * ${m} = ${$}`}else{const $=(d*m+d*p).toFixed(2),k=(t*m+t*p).toFixed(2);return t===d?`${t} * ${m} + ${t} * ${p} = ${k}`:`${t} * ${m} + ${t} * ${p} = ${k} </br> ${d} * ${m} + ${d} * ${p} = ${$}`}}),ce=e.ref(!1),ko=a=>{console.log(a),I.value=a.tempGoods;const t=a.tempGoods.map(d=>d.productId);l.productIds=[...l.productIds,...t]};return(a,t)=>{const d=e.resolveComponent("el-tab-pane"),m=e.resolveComponent("el-tabs"),p=e.resolveComponent("el-button"),C=e.resolveComponent("el-table-column"),$=e.resolveComponent("el-image"),k=e.resolveComponent("el-tooltip"),ge=e.resolveComponent("el-table"),fe=e.resolveComponent("el-radio"),Do=e.resolveComponent("el-radio-group"),J=e.resolveComponent("el-form-item"),Z=e.resolveComponent("el-input"),Io=e.resolveComponent("el-form"),$o=e.resolveComponent("el-dialog");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(re,{"v-model":f,columns:W,onSearchHandle:U,onChangeFormItem:Co,onHandleReset:wo},null,8,["v-model"]),e.createVNode(m,{modelValue:f.distributionStatus,"onUpdate:modelValue":t[0]||(t[0]=o=>f.distributionStatus=o),class:"tab_container",onTabChange:b},{default:e.withCtx(()=>[e.createVNode(d,{label:"全部",name:"ALL"}),e.createVNode(d,{label:"分销中",name:"IN_DISTRIBUTION"}),e.createVNode(d,{label:"取消分销",name:"CANCEL_DISTRIBUTION"})]),_:1},8,["modelValue"]),e.createElementVNode("div",Ae,[e.createVNode(p,{type:"primary",onClick:G},{default:e.withCtx(()=>t[11]||(t[11]=[e.createTextVNode("新增商品")])),_:1}),e.withDirectives(e.createVNode(p,{onClick:P},{default:e.withCtx(()=>t[12]||(t[12]=[e.createTextVNode("批量取消分销")])),_:1},512),[[e.vShow,f.distributionStatus!=="CANCEL_DISTRIBUTION"]])]),e.createElementVNode("div",Le,[e.createVNode(ge,{data:f.list,"header-cell-style":{color:"#333",fontSize:"14px",background:"#F6F8FA",height:"48px"},class:"table-height-fit",onSelectionChange:y},{default:e.withCtx(()=>[e.createVNode(C,{type:"selection",width:"55"}),e.createVNode(C,{label:"商品信息",width:"400"},{default:e.withCtx(o=>[e.createElementVNode("div",ze,[e.createVNode($,{class:"com__img",src:o.row.pic},null,8,["src"]),e.createElementVNode("div",Pe,[o.row.name.length>19?(e.openBlock(),e.createBlock(k,{key:0,effect:"dark",content:o.row.name,placement:"top"},{default:e.withCtx(()=>[e.createElementVNode("div",Re,e.toDisplayString(o.row.name),1)]),_:2},1032,["content"])):(e.openBlock(),e.createElementBlock("div",qe,e.toDisplayString(o.row.name),1)),o.row.salePrices.length>1?(e.openBlock(),e.createElementBlock("div",je," ￥"+e.toDisplayString(e.unref(r)(o.row.salePrices[0]).toFixed(2))+" ~ ￥"+e.toDisplayString(e.unref(r)(o.row.salePrices[o.row.salePrices.length-1]).toFixed(2)),1)):(e.openBlock(),e.createElementBlock("div",He,"￥"+e.toDisplayString(e.unref(r)(o.row.salePrices[0]).toFixed(2)),1))])])]),_:1}),e.createVNode(C,{label:"总库存",width:"140"},{header:e.withCtx(()=>t[13]||(t[13]=[e.createElementVNode("div",null,[e.createElementVNode("span",null,"总库存")],-1)])),default:e.withCtx(o=>[e.createElementVNode("span",Xe,e.toDisplayString(o.row.stock),1)]),_:1}),e.createVNode(C,{label:"分佣参数",width:"140"},{default:e.withCtx(o=>[e.createElementVNode("div",We,[e.createElementVNode("div",Ge,[t[14]||(t[14]=e.createTextVNode(" 一级:")),e.createElementVNode("span",{class:e.normalizeClass([o.row.shareType==="UNIFIED"?n.value.shareType==="FIXED_AMOUNT"?"amount":"percentage":o.row.shareType==="FIXED_AMOUNT"?"amount":"percentage"])},e.toDisplayString(de(o.row.shareType,o.row.one)),3)]),i.value!=="ONE"&&o.row.two?(e.openBlock(),e.createElementBlock("div",Me,[t[15]||(t[15]=e.createTextVNode(" 二级:")),e.createElementVNode("span",{class:e.normalizeClass([o.row.shareType==="UNIFIED"?n.value.shareType==="FIXED_AMOUNT"?"amount":"percentage":o.row.shareType==="FIXED_AMOUNT"?"amount":"percentage"])},e.toDisplayString(de(o.row.shareType,o.row.two)),3)])):e.createCommentVNode("",!0),i.value==="THREE"&&o.row.three?(e.openBlock(),e.createElementBlock("div",Ye,[t[16]||(t[16]=e.createTextVNode(" 三级:")),e.createElementVNode("span",{class:e.normalizeClass([o.row.shareType==="UNIFIED"?n.value.shareType==="FIXED_AMOUNT"?"amount":"percentage":o.row.shareType==="FIXED_AMOUNT"?"amount":"percentage"])},e.toDisplayString(de(o.row.shareType,o.row.three)),3)])):e.createCommentVNode("",!0)])]),_:1}),e.createVNode(C,{label:"商品状态",width:"140"},{default:e.withCtx(o=>[e.createElementVNode("span",Je,e.toDisplayString(Vo(o.row.status)),1)]),_:1}),e.createVNode(C,{label:"分销状态",width:"140"},{default:e.withCtx(o=>[e.createElementVNode("span",Ke,e.toDisplayString(Eo(o.row.distributionStatus)),1)]),_:1}),e.createVNode(C,{label:"分销佣金",width:"210"},{default:e.withCtx(o=>{var j,oe;return[e.createElementVNode("div",Ze,[o.row.salePrices[0]!==o.row.salePrices[o.row.salePrices.length-1]&&o.row.salePrices.length>1?(e.openBlock(),e.createElementBlock("div",Qe,[e.createElementVNode("span",null,"￥"+e.toDisplayString(ie(e.unref(r)(o.row.salePrices[0]),o.row)),1),t[17]||(t[17]=e.createTextVNode(" ~ ")),e.createElementVNode("span",null,"￥"+e.toDisplayString(ie(e.unref(r)(o.row.salePrices[o.row.salePrices.length-1]),o.row)),1)])):(e.openBlock(),e.createElementBlock("div",ve,"￥"+e.toDisplayString(ie(e.unref(r)(o.row.salePrices[0]),o.row)),1)),e.createVNode(k,{"raw-content":!0,content:So(o.row.shareType,o.row.salePrices[0],o.row.salePrices[o.row.salePrices.length-1],o.row.one,(j=o.row)==null?void 0:j.two,(oe=o.row)==null?void 0:oe.three),placement:"bottom",effect:"light"},{default:e.withCtx(()=>[e.createVNode(le,{class:"cup",name:"icon-wenhao",size:"18px",style:{cursor:"pointer","margin-left":"5px"},color:"rgba(77, 77, 77, 0.32)"})]),_:2},1032,["content"])])]}),_:1}),e.createVNode(C,{label:"加入分销时间",width:"160"},{header:e.withCtx(()=>t[18]||(t[18]=[e.createElementVNode("div",null,[e.createElementVNode("span",null,"加入分销时间")],-1)])),default:e.withCtx(o=>[e.createElementVNode("span",et,e.toDisplayString(o.row.createTime),1)]),_:1}),e.createVNode(C,{label:"操作",width:"180",fixed:"right",align:"right"},{default:e.withCtx(({row:o})=>[o.status!=="FORBIDDEN"?(e.openBlock(),e.createBlock(p,{key:0,link:"",type:"primary",class:"f12",onClick:j=>Y(o)},{default:e.withCtx(()=>t[19]||(t[19]=[e.createTextVNode("编辑")])),_:2},1032,["onClick"])):e.createCommentVNode("",!0),(o.status==="SELL_ON"||o.status==="UNUSABLE")&&o.distributionStatus==="CANCEL_DISTRIBUTION"?(e.openBlock(),e.createBlock(p,{key:1,link:"",disabled:o.stock===0,type:"primary",class:"f12",onClick:j=>h(o)},{default:e.withCtx(()=>t[20]||(t[20]=[e.createTextVNode("重新分销")])),_:2},1032,["disabled","onClick"])):e.createCommentVNode("",!0),o.distributionStatus==="IN_DISTRIBUTION"&&o.status==="SELL_ON"?(e.openBlock(),e.createBlock(p,{key:2,link:"",type:"primary",class:"f12 colorRed",onClick:j=>te(o.id)},{default:e.withCtx(()=>t[21]||(t[21]=[e.createTextVNode("取消分销")])),_:2},1032,["onClick"])):e.createCommentVNode("",!0),(o.status==="SELL_OFF"||o.status==="PLATFORM_SELL_OFF"||o.status==="SELL_OUT"||o.status==="UNUSABLE")&&o.distributionStatus==="CANCEL_DISTRIBUTION"||o.distributionStatus==="CANCEL_DISTRIBUTION"?(e.openBlock(),e.createBlock(p,{key:3,style:{color:"red"},link:"",type:"primary",class:"f12",onClick:j=>q(o.id)},{default:e.withCtx(()=>t[22]||(t[22]=[e.createTextVNode("移除")])),_:2},1032,["onClick"])):e.createCommentVNode("",!0)]),_:1})]),_:1},8,["data"])]),e.createVNode(ne,{"page-size":f.size,"page-num":f.current,total:f.total,onHandleCurrentChange:M,onHandleSizeChange:F},null,8,["page-size","page-num","total"]),e.createVNode($o,{modelValue:x.value,"onUpdate:modelValue":t[9]||(t[9]=o=>x.value=o),title:R.value,width:"900px",onClose:O},{footer:e.withCtx(()=>[e.createVNode(p,{onClick:t[8]||(t[8]=o=>x.value=!1)},{default:e.withCtx(()=>t[31]||(t[31]=[e.createTextVNode("取消")])),_:1}),e.createVNode(p,{type:"primary",onClick:X},{default:e.withCtx(()=>t[32]||(t[32]=[e.createTextVNode("确定")])),_:1})]),default:e.withCtx(()=>[e.createVNode(Io,{ref_key:"formRef",ref:E,model:l,rules:N},{default:e.withCtx(()=>[e.createVNode(J,{label:"分销类型"},{default:e.withCtx(()=>[e.createVNode(Do,{modelValue:l.shareType,"onUpdate:modelValue":t[1]||(t[1]=o=>l.shareType=o)},{default:e.withCtx(()=>[e.createVNode(fe,{value:"UNIFIED",disabled:g.value==="see"},{default:e.withCtx(()=>t[23]||(t[23]=[e.createTextVNode("与平台一致")])),_:1},8,["disabled"]),e.createVNode(fe,{value:"FIXED_AMOUNT",disabled:g.value==="see"},{default:e.withCtx(()=>t[24]||(t[24]=[e.createTextVNode("固定金额")])),_:1},8,["disabled"]),e.createVNode(fe,{value:"RATE",disabled:g.value==="see"},{default:e.withCtx(()=>t[25]||(t[25]=[e.createTextVNode("百分比")])),_:1},8,["disabled"])]),_:1},8,["modelValue"])]),_:1}),e.createElementVNode("div",tt,[l.shareType!=="UNIFIED"?(e.openBlock(),e.createBlock(J,{key:0,label:"一级佣金",prop:"one"},{default:e.withCtx(()=>[e.createVNode(Z,{modelValue:l.one,"onUpdate:modelValue":t[2]||(t[2]=o=>l.one=o),min:.01,max:l.shareType==="FIXED_AMOUNT"?1e4:100,type:"number",style:{width:"200px"},disabled:g.value==="see"},{append:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(l.shareType==="FIXED_AMOUNT"?"元":"%"),1)]),_:1},8,["modelValue","max","disabled"])]),_:1})):e.createCommentVNode("",!0),l.shareType!=="UNIFIED"&&(i.value==="TWO"||i.value==="THREE")?(e.openBlock(),e.createBlock(J,{key:1,label:"二级佣金",prop:"two"},{default:e.withCtx(()=>[e.createVNode(Z,{modelValue:l.two,"onUpdate:modelValue":t[3]||(t[3]=o=>l.two=o),type:"number",style:{width:"200px"},disabled:g.value==="see"},{append:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(l.shareType==="FIXED_AMOUNT"?"元":"%"),1)]),_:1},8,["modelValue","disabled"])]),_:1})):e.createCommentVNode("",!0),l.shareType!=="UNIFIED"&&i.value==="THREE"?(e.openBlock(),e.createBlock(J,{key:2,label:"三级佣金",prop:"three"},{default:e.withCtx(()=>[e.createVNode(Z,{modelValue:l.three,"onUpdate:modelValue":t[4]||(t[4]=o=>l.three=o),type:"number",style:{width:"200px"},disabled:g.value==="see"},{append:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(l.shareType==="FIXED_AMOUNT"?"元":"%"),1)]),_:1},8,["modelValue","disabled"])]),_:1})):e.createCommentVNode("",!0),l.shareType==="UNIFIED"?(e.openBlock(),e.createBlock(J,{key:3,label:"一级佣金",prop:"one"},{default:e.withCtx(()=>[e.createVNode(Z,{modelValue:n.value.one,"onUpdate:modelValue":t[5]||(t[5]=o=>n.value.one=o),min:.01,max:n.value.shareType==="FIXED_AMOUNT"?1e4:100,type:"number",style:{width:"200px"},disabled:!0},{append:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(n.value.shareType==="FIXED_AMOUNT"?"元":"%"),1)]),_:1},8,["modelValue","max"])]),_:1})):e.createCommentVNode("",!0),l.shareType==="UNIFIED"&&(i.value==="TWO"||i.value==="THREE")?(e.openBlock(),e.createBlock(J,{key:4,label:"二级佣金",prop:"two"},{default:e.withCtx(()=>[e.createVNode(Z,{modelValue:n.value.two,"onUpdate:modelValue":t[6]||(t[6]=o=>n.value.two=o),type:"number",style:{width:"200px"},disabled:!0},{append:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(n.value.shareType==="FIXED_AMOUNT"?"元":"%"),1)]),_:1},8,["modelValue"])]),_:1})):e.createCommentVNode("",!0),l.shareType==="UNIFIED"&&i.value==="THREE"?(e.openBlock(),e.createBlock(J,{key:5,label:"三级佣金",prop:"three"},{default:e.withCtx(()=>[e.createVNode(Z,{modelValue:n.value.three,"onUpdate:modelValue":t[7]||(t[7]=o=>n.value.three=o),type:"number",style:{width:"200px"},disabled:!0},{append:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(n.value.shareType==="FIXED_AMOUNT"?"元":"%"),1)]),_:1},8,["modelValue"])]),_:1})):e.createCommentVNode("",!0)]),t[27]||(t[27]=e.createElementVNode("p",{class:"tiShi"},"温馨提示：一级佣金：应大于等于 0 ； 二级佣金：应小于一级佣金 ； 三级佣金：应小于二级佣金",-1)),g.value!=="edit"?(e.openBlock(),e.createBlock(J,{key:0,label:"关联商品",prop:"productId"},{default:e.withCtx(()=>[e.createVNode(p,{type:"primary",round:"",onClick:z},{default:e.withCtx(()=>t[26]||(t[26]=[e.createTextVNode("选择商品")])),_:1})]),_:1})):e.createCommentVNode("",!0)]),_:1},8,["model","rules"]),g.value!=="edit"?(e.openBlock(),e.createBlock(ge,{key:0,height:"370",data:I.value},{default:e.withCtx(()=>[e.createVNode(C,{label:"商品信息"},{default:e.withCtx(({row:o})=>[e.createElementVNode("div",ot,[e.createElementVNode("div",nt,[e.createVNode($,{class:"tableCom__img",src:o.pic,fit:"cover",style:{width:"50px",height:"50px"}},null,8,["src"]),e.createElementVNode("div",null,[e.createElementVNode("div",lt,e.toDisplayString(o.productName),1),o.salePrices[0]!==o.salePrices[o.salePrices.length-1]&&o.salePrices.length>1?(e.openBlock(),e.createElementBlock("div",at,[e.createElementVNode("span",null,"￥"+e.toDisplayString(e.unref(r)(o.salePrices[0])),1),t[28]||(t[28]=e.createTextVNode(" ~ ")),e.createElementVNode("span",null,"￥"+e.toDisplayString(e.unref(r)(o.salePrices[o.salePrices.length-1])),1)])):(e.openBlock(),e.createElementBlock("div",rt,"￥"+e.toDisplayString(e.unref(r)(o.salePrices[0])),1))])])])]),_:1}),l.shareType!=="UNIFIED"?(e.openBlock(),e.createBlock(C,{key:0,label:"分销佣金",align:"center",width:"200"},{default:e.withCtx(({row:o})=>[e.createVNode(k,{"raw-content":!0,content:_e.value(l.shareType,o.salePrices[0],o.salePrices[o.salePrices.length-1],l.one,l==null?void 0:l.two,l==null?void 0:l.three),placement:"bottom",effect:"light"},{default:e.withCtx(()=>[o.salePrices[0]!==o.salePrices[o.salePrices.length-1]&&o.salePrices.length>1?(e.openBlock(),e.createElementBlock("div",st,[e.createElementVNode("span",null,"￥"+e.toDisplayString(K(e.unref(r)(o.salePrices[0]))),1),t[29]||(t[29]=e.createTextVNode(" ~ ")),e.createElementVNode("span",null,"￥"+e.toDisplayString(K(e.unref(r)(o.salePrices[o.salePrices.length-1]))),1)])):(e.openBlock(),e.createElementBlock("div",dt,"￥"+e.toDisplayString(K(e.unref(r)(o.salePrices[0]))),1))]),_:2},1032,["content"])]),_:1})):e.createCommentVNode("",!0),l.shareType==="UNIFIED"?(e.openBlock(),e.createBlock(C,{key:1,label:"分销佣金",align:"center",width:"200"},{default:e.withCtx(({row:o})=>{var j,oe;return[e.createVNode(k,{"raw-content":!0,content:_e.value(n.value.shareType,o.salePrices[0],o.salePrices[o.salePrices.length-1],n.value.one,(j=n.value)==null?void 0:j.two,(oe=n.value)==null?void 0:oe.three),placement:"bottom",effect:"light"},{default:e.withCtx(()=>[o.salePrices[0]!==o.salePrices[o.salePrices.length-1]&&o.salePrices.length>1?(e.openBlock(),e.createElementBlock("div",it,[e.createElementVNode("span",null,"￥"+e.toDisplayString(K(e.unref(r)(o.salePrices[0]))),1),t[30]||(t[30]=e.createTextVNode(" ~ ")),e.createElementVNode("span",null,"￥"+e.toDisplayString(K(e.unref(r)(o.salePrices[o.salePrices.length-1]))),1)])):(e.openBlock(),e.createElementBlock("div",ct,"￥"+e.toDisplayString(K(e.unref(r)(o.salePrices[0]))),1))]),_:2},1032,["content"])]}),_:1})):e.createCommentVNode("",!0),e.createVNode(C,{label:"操作",width:"80"},{default:e.withCtx(({row:o})=>[e.createElementVNode("div",{class:"f12 colorRed",style:{cursor:"pointer"},onClick:j=>_(o.productId)},"移出",8,ft)]),_:1})]),_:1},8,["data"])):e.createCommentVNode("",!0)]),_:1},8,["modelValue","title"]),e.createVNode(Ne,{modelValue:ce.value,"onUpdate:modelValue":t[10]||(t[10]=o=>ce.value=o),searchConsignmentProduct:!0,distributeProduct:"",pointGoodsList:I.value,onOnConfirm:ko},null,8,["modelValue","pointGoodsList"])],64)}}}),Bo="",ee=(s,f)=>{const c=s.__vccOpts||s;for(const[r,u]of f)c[r]=u;return c},pt=Object.freeze(Object.defineProperty({__proto__:null,default:ee(mt,[["__scopeId","data-v-cf56fbd5"]])},Symbol.toStringTag,{value:"Module"})),{divTenThousand:L}=v();function se(s,f){return L(f)}const ht=()=>({useSingleCalculationFormula:(c,r,u)=>{var i,n;const g=(i=c==null?void 0:c.bonusShare)==null?void 0:i.shareType,x=(n=c==null?void 0:c.bonusShare)==null?void 0:n[r];return g==="RATE"?`${L(c==null?void 0:c.dealPrice)} * ${c==null?void 0:c.num} * ${se(g,x)}% = ${u}`:g==="FIXED_AMOUNT"?`${c==null?void 0:c.num} * ${se(g,x)} = ${u}`:se(g,x)},useTotalPrice:c=>{let r=[],u=[],g=[],x=[];return c.items.forEach(n=>{var R,V,l,N,S,I;let E=[];n.orderStatus==="PAID"?E=g:n.orderStatus==="COMPLETED"?E=r:n.orderStatus==="CLOSED"&&(E=u),n.one.bonus&&(x.push((R=n==null?void 0:n.one)!=null&&R.userId?L(n.one.bonus):new D(0)),E.push((V=n==null?void 0:n.one)!=null&&V.userId?L(n.one.bonus):new D(0))),n.two.bonus&&(x.push((l=n==null?void 0:n.two)!=null&&l.userId?L(n.two.bonus):new D(0)),E.push((N=n==null?void 0:n.two)!=null&&N.userId?L(n.two.bonus):new D(0))),n.three.bonus&&(x.push((S=n==null?void 0:n.two)!=null&&S.userId?L(n.three.bonus):new D(0)),E.push((I=n==null?void 0:n.two)!=null&&I.userId?L(n.three.bonus):new D(0))),n.purchase&&n.one.userId&&(x.push(L(n.one.bonus)),E.push(L(n.one.bonus)))}),{completePrice:r.join(" + ")+" = "+r.reduce((n,E)=>n.plus(E),new D(0)),closedPrice:u.join(" + ")+" = "+u.reduce((n,E)=>n.plus(E),new D(0)),toSelledPrice:g.join(" + ")+" = "+g.reduce((n,E)=>n.plus(E),new D(0)),totalPrice:x.join(" + ")+" = "+x.reduce((n,E)=>n.plus(E),new D(0))}}}),ut={style:{"margin-top":"10px"}},bt={class:"head"},_t={class:"buyer-container"},gt={class:"buyer"},xt={style:{color:"#f00"}},Nt={key:0,style:{color:"#f54319","margin-left":"5px"}},yt={class:"last"},wt={style:{color:"#f54319"}},Ct={class:"content"},Et={class:"goods"},Vt={class:"goods__pic"},Tt=["src"],St={class:"goods__info"},kt={class:"goods__info-flex"},Dt={class:"goods__info-flex--name",style:{"line-height":"16px"}},It={key:1,class:"goods__info-flex--name",style:{"line-height":"16px"}},$t={class:"goods__info-flex--num"},Bt={class:"goods__info-flex"},Ft={class:"goods__info-flex--specs"},Ot={key:1,class:"goods__info-flex--specs"},Ut={class:"goods__info-flex--price"},At={class:"content__right1"},Lt={class:"content__right1--item"},zt={class:"name"},Pt={style:{color:"#f54319"},class:"cup"},Rt={class:"content__right1--item"},qt={class:"name"},jt={style:{color:"#f54319"}},Ht={class:"content__right1--item"},Xt={class:"name"},Wt={style:{color:"#f54319"}},Gt={class:"content__right2"},Mt={class:"content__right3"},Yt={key:0,class:"content__right3--item"},Jt={key:1,class:"content__right3--item"},Kt={key:2,class:"content__right3--item"},Zt={class:"content__right3--item"},Qt=e.defineComponent({__name:"distributionOrderTable",props:{orderInfo:{type:Object,default(){return{id:null,type:null,name:"",url:"",append:""}}},toolsDisabled:{type:Boolean,default:!1}},setup(s){const{useSingleCalculationFormula:f,useTotalPrice:c}=ht();ye();const{divTenThousand:r,divHundred:u}=v(),g=s;function x(V,l){let N=new D(0);return"items"in g.orderInfo&&g.orderInfo.items.length&&g.orderInfo.items.forEach(S=>{(l||S[V].userId)&&(N=N.add(r(S[V].bonus||0)))}),N}function i(V){let l=new D(0);return"items"in g.orderInfo&&g.orderInfo.items.length&&g.orderInfo.items.forEach(N=>{V&&N.orderStatus!==V||(N.one.bonus&&(l=l.add(r(N.one.bonus))),N.two.bonus&&(l=l.add(r(N.two.bonus))),N.three.bonus&&(l=l.add(r(N.three.bonus))),N.purchase&&N.one.userId&&(l=l.add(r(N.one.bonus))))}),l.toNumber()}function n(V){return V==="COMPLETED"?"已赚":V==="CLOSED"?"已失效":"待结算"}const E=we.useRouter(),R=(V,l)=>{const N={orderNo:V},S=l[0],I=S!=null&&S.packageId?S.packageId:"";I&&(N.packageId=I),E.push({name:"detailsIndex",query:N})};return(V,l)=>{var W,G,X,z,M,F,O;const N=e.resolveComponent("el-tooltip"),S=e.resolveComponent("el-table-column"),I=e.resolveComponent("el-table");return e.openBlock(),e.createElementBlock("div",ut,[e.createElementVNode("div",bt,[e.createElementVNode("div",null,"订单号："+e.toDisplayString(s.orderInfo.orderNo),1),e.createElementVNode("div",null,"下单时间："+e.toDisplayString(s.orderInfo.createTime),1),e.createElementVNode("div",_t,[e.createVNode(N,{disabled:s.toolsDisabled,content:"买家："+s.orderInfo.buyerNickname,"raw-content":!0},{default:e.withCtx(()=>[e.createElementVNode("span",gt,"买家："+e.toDisplayString(s.orderInfo.buyerNickname),1)]),_:1},8,["disabled","content"]),s.orderInfo.items[0].purchase?(e.openBlock(),e.createBlock(N,{key:0,disabled:s.toolsDisabled,"raw-content":!0,content:s.orderInfo.items[0].purchase?e.unref(f)((W=s.orderInfo.items)==null?void 0:W[0],"one",x("one",!0)):"该层级无分销员，不计算对应佣金",placement:"bottom",effect:"light"},{default:e.withCtx(()=>{var b,y;return[e.createElementVNode("span",null,[l[1]||(l[1]=e.createElementVNode("span",null,"(",-1)),e.createElementVNode("span",xt,"￥"+e.toDisplayString(s.orderInfo.items[0].one.userId||(b=s.orderInfo.items)!=null&&b[0].purchase?x("one",(y=s.orderInfo.items)==null?void 0:y[0].purchase):0),1),l[2]||(l[2]=e.createElementVNode("span",null,")",-1)),s.orderInfo.items[0].purchase?(e.openBlock(),e.createElementBlock("span",Nt,"内购")):e.createCommentVNode("",!0)])]}),_:1},8,["disabled","content"])):e.createCommentVNode("",!0)]),e.createElementVNode("div",yt,[l[3]||(l[3]=e.createTextVNode(" 实付款：")),e.createElementVNode("span",wt,"￥"+e.toDisplayString(e.unref(r)(s.orderInfo.payAmount).toFixed(2)),1)]),e.createElementVNode("p",{style:{color:"#555cfd",cursor:"pointer","margin-left":"auto","margin-right":"77px"},onClick:l[0]||(l[0]=b=>R(s.orderInfo.orderNo,s.orderInfo))}," 查看详情 ")]),e.createElementVNode("div",Ct,[e.createVNode(I,{data:s.orderInfo.items,border:"",style:{width:"433px","flex-shrink":"0"},"row-style":{height:"100px"}},{default:e.withCtx(()=>[e.createVNode(S,{prop:"name"},{default:e.withCtx(({row:b})=>[e.createElementVNode("div",Et,[e.createElementVNode("div",Vt,[e.createElementVNode("img",{src:b.image,style:{width:"68px",height:"68px"}},null,8,Tt)]),e.createElementVNode("div",St,[e.createElementVNode("div",kt,[b.productName.length>=32?(e.openBlock(),e.createBlock(N,{key:0,disabled:s.toolsDisabled,class:"box-item",effect:"dark",content:b.productName,placement:"bottom-end"},{default:e.withCtx(()=>[e.createElementVNode("div",Dt,e.toDisplayString(b.productName),1)]),_:2},1032,["disabled","content"])):(e.openBlock(),e.createElementBlock("div",It,e.toDisplayString(b.productName),1)),e.createElementVNode("div",$t,"￥"+e.toDisplayString(e.unref(r)(b.dealPrice)),1)]),e.createElementVNode("div",Bt,[b.specs.join("、").length>15?(e.openBlock(),e.createBlock(N,{key:0,disabled:s.toolsDisabled,class:"box-item",effect:"dark",content:b.specs.join("、"),placement:"bottom"},{default:e.withCtx(()=>[e.createElementVNode("div",Ft,e.toDisplayString(b.specs&&b.specs.join("、")),1)]),_:2},1032,["disabled","content"])):(e.openBlock(),e.createElementBlock("div",Ot,e.toDisplayString(b.specs&&b.specs.join("、")),1)),e.createElementVNode("div",Ut,"x"+e.toDisplayString(b.num),1)])])])]),_:1})]),_:1},8,["data"]),e.createElementVNode("div",At,[e.createElementVNode("div",Lt,[e.createElementVNode("span",zt,e.toDisplayString(s.orderInfo.items[0].one.name),1),e.createElementVNode("span",null,e.toDisplayString(s.orderInfo.items[0].one.mobile),1),e.createElementVNode("span",null,[e.createVNode(N,{disabled:s.toolsDisabled,"raw-content":!0,content:s.orderInfo.items[0].one.userId?e.unref(f)((G=s.orderInfo.items)==null?void 0:G[0],"one",x("one",(X=s.orderInfo.items)==null?void 0:X[0].purchase)):"该层级无分销员，不计算对应佣金",placement:"bottom",effect:"light"},{default:e.withCtx(()=>{var b;return[e.createElementVNode("span",null,[l[4]||(l[4]=e.createTextVNode(" 一级佣金：")),e.createElementVNode("span",Pt,"￥"+e.toDisplayString(s.orderInfo.items[0].one.userId?x("one",(b=s.orderInfo.items)==null?void 0:b[0].purchase):0),1)])]}),_:1},8,["disabled","content"])])]),e.createElementVNode("div",Rt,[e.createElementVNode("span",qt,e.toDisplayString(s.orderInfo.items[0].two.name),1),e.createElementVNode("span",null,e.toDisplayString(s.orderInfo.items[0].two.mobile),1),e.createElementVNode("span",null,[e.createVNode(N,{disabled:s.toolsDisabled,"raw-content":!0,content:s.orderInfo.items[0].two.userId?e.unref(f)((z=s.orderInfo.items)==null?void 0:z[0],"two",x("two",(M=s.orderInfo.items)==null?void 0:M[0].purchase)):"该层级无分销员，不计算对应佣金",placement:"bottom",effect:"light"},{default:e.withCtx(()=>{var b;return[e.createElementVNode("span",null,[l[5]||(l[5]=e.createTextVNode(" 二级佣金：")),e.createElementVNode("span",jt,"￥"+e.toDisplayString(x("two",(b=s.orderInfo.items)==null?void 0:b[0].purchase)),1)])]}),_:1},8,["disabled","content"])])]),e.createElementVNode("div",Ht,[e.createElementVNode("span",Xt,e.toDisplayString(s.orderInfo.items[0].three.name),1),e.createElementVNode("span",null,e.toDisplayString(s.orderInfo.items[0].three.mobile),1),e.createElementVNode("span",null,[e.createVNode(N,{disabled:s.toolsDisabled,"raw-content":!0,content:s.orderInfo.items[0].three.userId?e.unref(f)((F=s.orderInfo.items)==null?void 0:F[0],"three",x("three",(O=s.orderInfo.items)==null?void 0:O[0].purchase)):"该层级无分销员，不计算对应佣金",placement:"bottom",effect:"light"},{default:e.withCtx(()=>{var b;return[e.createElementVNode("span",null,[l[6]||(l[6]=e.createTextVNode(" 三级佣金：")),e.createElementVNode("span",Wt,"￥"+e.toDisplayString(x("three",(b=s.orderInfo.items)==null?void 0:b[0].purchase)),1)])]}),_:1},8,["disabled","content"])])])]),e.createElementVNode("div",Gt,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.orderInfo.items,b=>(e.openBlock(),e.createElementBlock("div",{key:b,class:"content__right2--item",style:e.normalizeStyle({color:n(b.orderStatus)==="待结算"?"#FD9224":n(b.orderStatus)==="已赚"?"#00BB2C":"#999"})},e.toDisplayString(n(b.orderStatus)),5))),128))]),e.createElementVNode("div",Mt,[i("PAID")?(e.openBlock(),e.createElementBlock("div",Yt,[e.createVNode(N,{disabled:s.toolsDisabled,"raw-content":!0,content:e.unref(c)(s.orderInfo).toSelledPrice.toString(),placement:"bottom",effect:"light"},{default:e.withCtx(()=>{var b,y,h,w;return[e.createTextVNode("待结算："+e.toDisplayString((w=(h=(y=(b=s.orderInfo)==null?void 0:b.items)==null?void 0:y[0])==null?void 0:h.one)!=null&&w.userId?i("PAID"):0),1)]}),_:1},8,["disabled","content"])])):e.createCommentVNode("",!0),i("COMPLETED")?(e.openBlock(),e.createElementBlock("div",Jt,[e.createVNode(N,{disabled:s.toolsDisabled,"raw-content":!0,content:e.unref(c)(s.orderInfo).completePrice.toString(),placement:"bottom",effect:"light"},{default:e.withCtx(()=>{var b,y,h,w;return[e.createTextVNode("已赚："+e.toDisplayString((w=(h=(y=(b=s.orderInfo)==null?void 0:b.items)==null?void 0:y[0])==null?void 0:h.one)!=null&&w.userId?i("COMPLETED"):0),1)]}),_:1},8,["disabled","content"])])):e.createCommentVNode("",!0),i("CLOSED")?(e.openBlock(),e.createElementBlock("div",Kt,[e.createVNode(N,{disabled:s.toolsDisabled,"raw-content":!0,content:e.unref(c)(s.orderInfo).closedPrice.toString(),placement:"bottom",effect:"light"},{default:e.withCtx(()=>{var b,y,h,w;return[e.createTextVNode("已失效："+e.toDisplayString((w=(h=(y=(b=s.orderInfo)==null?void 0:b.items)==null?void 0:y[0])==null?void 0:h.one)!=null&&w.userId?i("CLOSED"):0),1)]}),_:1},8,["disabled","content"])])):e.createCommentVNode("",!0),e.createElementVNode("div",Zt,[e.createVNode(N,{disabled:s.toolsDisabled,"raw-content":!0,content:e.unref(c)(s.orderInfo).totalPrice.toString(),placement:"bottom",effect:"light"},{default:e.withCtx(()=>{var b,y,h,w;return[e.createTextVNode("佣金合计："+e.toDisplayString((w=(h=(y=(b=s.orderInfo)==null?void 0:b.items)==null?void 0:y[0])==null?void 0:h.one)!=null&&w.userId?i():0),1)]}),_:1},8,["disabled","content"])])])])])}}}),Uo="",vt=ee(Qt,[["__scopeId","data-v-724cf590"]]),eo=e.defineComponent({__name:"orderIllustration",props:{orderIllustrationShow:{type:Boolean,default:!1}},emits:["update:orderIllustrationShow","Illustration"],setup(s,{emit:f}){const c=s,r=f,u=e.computed({get:()=>c.orderIllustrationShow,set:g=>{r("update:orderIllustrationShow",g)}});return(g,x)=>{const i=e.resolveComponent("el-dialog");return e.openBlock(),e.createBlock(i,{modelValue:u.value,"onUpdate:modelValue":x[0]||(x[0]=n=>u.value=n),title:"分销订单说明",width:"45%",center:"","close-on-click-modal":!1},{default:e.withCtx(()=>x[1]||(x[1]=[e.createElementVNode("div",{style:{"padding-bottom":"30px"}},[e.createElementVNode("p",null,"数据范围为本店铺内所有的分销订单（仅分销商品产生的订单。内购是指内购订单买家可获得对应商品的一级分销佣金。"),e.createElementVNode("p",{class:"fw"},"查询结果统计"),e.createElementVNode("p",null,"累计佣金：已完成订单状态中已赚的佣金之和"),e.createElementVNode("p",null,"待结算佣金：已付款订单状态中待结算的佣金之和"),e.createElementVNode("p",null,"已失效佣金：已关闭订单状态中已生效的佣金之和"),e.createElementVNode("p",{class:"fw"},"结算状态"),e.createElementVNode("p",null,"待结算：是指订单未完结(可能退款退货等情况)暂不计入累计佣金；"),e.createElementVNode("p",null,"已赚：是指对应商品没有退款(或退款失败) ，对应佣金统计到【累计佣金】中"),e.createElementVNode("p",null,"已失效：是指对应商品已退款成功，无法获得佣金。")],-1)])),_:1},8,["modelValue"])}}}),Ao="",to=ee(eo,[["__scopeId","data-v-0e7e373b"]]),oo={style:{padding:"16px"}},no={class:"count"},lo=e.defineComponent({__name:"DistributionOrder",setup(s){const{divTenThousand:f}=v(),c=e.reactive({orderNo:"",productName:"",shopName:"",buyerNickname:"",date:"",startTime:"",endTime:"",status:""}),r=e.reactive({current:1,size:10,total:0}),u=e.ref([]),g=e.ref({total:"",unsettled:"",invalid:""}),x=[{label:"订单号",labelWidth:60,prop:"orderNo",valueType:"copy",fieldProps:{placeholder:"请输入订单号",maxlength:20}},{label:"商品名称",prop:"productName",valueType:"copy",fieldProps:{placeholder:"请输入商品名称",maxlength:30}},{label:"买家昵称",prop:"buyerNickname",valueType:"copy",fieldProps:{placeholder:"请输入买家昵称",maxlength:30}},{label:"下单时间",prop:"date",valueType:"date-picker",fieldProps:{type:"datetimerange",startPlaceholder:"开始时间",endPlaceholder:"结束时间",valueFormat:"YYYY-MM-DD HH:mm:ss"}}];i();async function i(){const{code:y,data:h,msg:w}=await Be({current:r.current,size:r.size,...c});y===200&&h?(u.value=h.page.records,g.value=h.statistic,r.total=h.page.total):T.ElMessage.error(w||"获取分销订单失败")}const n=()=>{r.current=1,(c==null?void 0:c.date.length)>0&&(c.startTime=c.date[0],c.endTime=c.date[1]),i()},E=y=>{y&&Object.keys(y).forEach(h=>c[h]=y[h])},R=()=>{c.orderNo="",c.productName="",c.shopName="",c.buyerNickname="",c.date="",c.startTime="",c.endTime="",r.current=1,i()},V=y=>{r.current=y,i()},l=y=>{r.current=1,r.size=y,i()},N=new Ce,S=e.ref(" "),I=e.ref("全部订单"),W=y=>{c.status=y,i()},G=y=>{if(S.value=" ",I.value=y,I.value==="近一个月订单"){const h=N.getLastMonth(new Date);X(h)}else if(I.value==="近三个月订单"){const h=N.getLastThreeMonth(new Date);X(h)}else c.startTime="",c.endTime="",i()},X=async y=>{const h=N.getYMDs(new Date);c.startTime=y,c.endTime=h,i()},z=e.ref(!1),M=y=>{z.value=y},F=()=>{z.value=!0},O=e.ref(!1),b=async()=>{O.value=!0,await e.nextTick(),O.value=!1};return(y,h)=>{const w=e.resolveComponent("el-dropdown-item"),Y=e.resolveComponent("el-dropdown-menu"),te=e.resolveComponent("el-dropdown"),q=e.resolveComponent("el-tab-pane"),P=e.resolveComponent("el-tabs");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(re,{"v-model":c,columns:x,"has-unfold":"",onChangeFormItem:E,onSearchHandle:n,onHandleReset:R},null,8,["v-model"]),e.createElementVNode("div",oo,[e.createElementVNode("div",no,[e.createElementVNode("span",null,"累计总佣金： ￥ "+e.toDisplayString(e.unref(f)(g.value.total)),1),e.createElementVNode("span",null,"待结算总佣金： ￥ "+e.toDisplayString(e.unref(f)(g.value.unsettled)),1),e.createElementVNode("span",null,"已失效总佣金： ￥"+e.toDisplayString(e.unref(f)(g.value.invalid)),1),e.createElementVNode("span",{style:{float:"right",color:"#555cfd",cursor:"pointer"},onClick:F},"分销订单说明")])]),e.createVNode(P,{modelValue:S.value,"onUpdate:modelValue":h[0]||(h[0]=B=>S.value=B),style:{padding:"0 16px"},onTabChange:W},{default:e.withCtx(()=>[e.createVNode(q,{name:" "},{label:e.withCtx(()=>[e.createElementVNode("span",null,e.toDisplayString(I.value),1),e.createVNode(te,{placement:"bottom-end",trigger:"click",onCommand:G},{dropdown:e.withCtx(()=>[e.createVNode(Y,null,{default:e.withCtx(()=>[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(["近一个月订单","近三个月订单","全部订单"],B=>e.createVNode(w,{key:B,command:B},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(B),1)]),_:2},1032,["command"])),64))]),_:1})]),default:e.withCtx(()=>[e.createElementVNode("span",{class:"el-dropdown-link",style:{height:"40px"},onClick:e.withModifiers(()=>{},["stop"])},[e.createVNode(e.unref(T.ElIcon),{class:"el-icon--right",style:{position:"relative",top:"13px"}},{default:e.withCtx(()=>[e.createVNode(e.unref(me.ArrowDown))]),_:1})]),e.createVNode(e.unref(T.ElIcon),null,{default:e.withCtx(()=>[e.createVNode(e.unref(me.ArrowDown))]),_:1})]),_:1})]),_:1}),e.createVNode(q,{label:"已付款",name:"PAID"}),e.createVNode(q,{label:"已完成",name:"COMPLETED"}),e.createVNode(q,{label:"已关闭",name:"CLOSED"})]),_:1},8,["modelValue"]),e.createElementVNode("div",{class:"distribution_order_table_container",onScroll:b},[h[2]||(h[2]=e.createStaticVNode('<div class="tbhead" data-v-bb2b8e20><div class="tbhead__goods" data-v-bb2b8e20>商品信息</div><div class="tbhead__detail" data-v-bb2b8e20>分佣详情</div><div class="tbhead__state" data-v-bb2b8e20>结算状态</div><div class="tbhead__total" data-v-bb2b8e20>佣金结算</div></div>',1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(u.value,B=>(e.openBlock(),e.createBlock(vt,{toolsDisabled:O.value,key:B.orderNo,"order-info":B},null,8,["toolsDisabled","order-info"]))),128))],32),e.createVNode(ne,{"page-num":r.current,"page-size":r.size,total:r.total,onHandleCurrentChange:V,onHandleSizeChange:l},null,8,["page-num","page-size","total"]),e.createVNode(to,{"order-illustration-show":z.value,"onUpdate:orderIllustrationShow":h[1]||(h[1]=B=>z.value=B),onIllustration:M},null,8,["order-illustration-show"])],64)}}}),Lo="",ao=Object.freeze(Object.defineProperty({__proto__:null,default:ee(lo,[["__scopeId","data-v-bb2b8e20"]])},Symbol.toStringTag,{value:"Module"})),ro={class:"tab_container"},so={class:"f12 color51",style:{"margin-left":"6px"}},io={class:"ellipsis"},co=["onClick"],fo={key:0},mo={key:1},po={key:2},ho={style:{display:"flex","align-items":"center"}},uo=["src"],bo={style:{"text-align":"left"}},_o={style:{width:"80px","text-align":"right"}},go=e.defineComponent({__name:"WholeSaler",setup(s){const f=e.reactive({name:"",mobile:"",date:"",startTime:"",endTime:"",status:"SUCCESS"}),{divTenThousand:c}=v(),r=e.reactive({current:1,size:10,total:0}),u=e.ref([]),g=e.ref([]),x=e.ref(!1),i=e.reactive({current:1,total:0,size:10,list:[],userId:""}),n=e.ref(!1),E=e.reactive({current:1,total:0,size:10,list:[],userId:"",rank:""}),R=[{label:"姓名",labelWidth:45,prop:"name",valueType:"copy",fieldProps:{placeholder:"请输入姓名",maxlength:20}},{label:"手机号",prop:"mobile",labelWidth:60,valueType:"copy",fieldProps:{placeholder:"请输入手机号",maxlength:30}},{label:"申请时间",prop:"date",valueType:"date-picker",fieldProps:{type:"datetimerange",startPlaceholder:"开始时间",endPlaceholder:"结束时间",valueFormat:"YYYY-MM-DD HH:mm:ss"}}];F();const V=h=>{r.current=h,F()},l=h=>{r.current=1,r.size=h,F()},N=h=>{h&&Object.keys(h).forEach(w=>f[w]=h[w])},S=()=>{r.current=1,f.date.length>0&&(console.log("searchConfig.date",f.date),f.startTime=f.date[0],f.endTime=f.date[1]),F()},I=h=>{f.status==="SUCCESS"&&(x.value=!0,i.userId=h,O(h))},W=()=>{f.status==="SUCCESS"&&(n.value=!0,b())},G=()=>{i.current=1,i.size=10,i.list=[],i.userId=""},X=()=>{E.current=1,E.size=10,E.list=[],E.userId="",E.rank=""},z=h=>{i.current=h,O()},M=h=>{i.current=1,i.size=h,O()};async function F(){const{code:h,data:w}=await Fe({...f,...r});h===200?(u.value=w.records,r.total=w.total):T.ElMessage.error("获取分销商失败")}async function O(h){const{code:w,data:Y}=await Oe({userId:h||i.userId,current:i.current,size:i.size});w&&w===200?(i.list=Y.records,i.total=Y.total,x.value=!0):(T.ElMessage.error("获取下线失败"),x.value=!1)}async function b(){const{code:h,data:w}=await Ue({userId:E.userId,current:E.current,size:E.size});h&&h===200?(E.list=w.records,E.total=w.total,E.rank=w.rank,n.value=!0):(T.ElMessage.error("获取排行失败"),n.value=!1)}const y=()=>{r.current=1,f.date="",f.endTime="",f.startTime="",f.mobile="",f.name="",F()};return(h,w)=>{const Y=e.resolveComponent("el-image"),te=e.resolveComponent("el-row"),q=e.resolveComponent("el-link"),P=e.resolveComponent("el-table-column"),B=e.resolveComponent("el-table"),ae=e.resolveComponent("el-dialog");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(re,{"v-model":f,columns:R,"has-unfold":"",onChangeFormItem:N,onSearchHandle:S,onHandleReset:y},null,8,["v-model"]),e.createElementVNode("div",ro,[f.status==="SUCCESS"?(e.openBlock(),e.createElementBlock("div",{key:0,style:{color:"#0f40f5",cursor:"pointer",float:"right"},onClick:W}," 佣金排行榜 ")):e.createCommentVNode("",!0)]),e.createVNode(e.unref(Ee),{"checked-item":g.value,"onUpdate:checkedItem":w[0]||(w[0]=_=>g.value=_),data:u.value,selection:!0,"no-border":"",class:"q-table"},{default:e.withCtx(()=>[e.createVNode(H,{label:"分销商信息",width:"300"},{default:e.withCtx(({row:_})=>[e.createElementVNode("div",null,[e.createVNode(te,{justify:"space-between"},{default:e.withCtx(()=>[e.createVNode(Y,{src:_.avatar,style:{width:"52px",height:"52px"}},null,8,["src"]),e.createElementVNode("div",so,[e.createElementVNode("div",io,e.toDisplayString(_.name),1),e.createElementVNode("div",null,e.toDisplayString(_.mobile),1)])]),_:2},1024)])]),_:1}),f.status==="SUCCESS"?(e.openBlock(),e.createBlock(H,{key:0,label:"团队成员",width:"140",align:"left"},{default:e.withCtx(({row:_})=>[e.createElementVNode("div",{class:"column",onClick:ue=>I(_.userId)},[e.createVNode(q,{type:"primary",link:""},{default:e.withCtx(()=>[e.createTextVNode("一级："+e.toDisplayString(_.one),1)]),_:2},1024),e.createVNode(q,{type:"primary",link:""},{default:e.withCtx(()=>[e.createTextVNode("二级："+e.toDisplayString(_.two),1)]),_:2},1024),e.createVNode(q,{type:"primary",link:""},{default:e.withCtx(()=>[e.createTextVNode("三级："+e.toDisplayString(_.three),1)]),_:2},1024)],8,co)]),_:1})):e.createCommentVNode("",!0),f.status==="SUCCESS"?(e.openBlock(),e.createBlock(H,{key:1,label:"累计佣金(元)",width:"150",align:"left"},{default:e.withCtx(({row:_})=>[e.createElementVNode("span",null,e.toDisplayString(e.unref(c)(_.total)),1)]),_:1})):e.createCommentVNode("",!0),f.status==="SUCCESS"?(e.openBlock(),e.createBlock(H,{key:2,label:"待提现佣金(元)",width:"150",align:"left"},{default:e.withCtx(({row:_})=>[e.createElementVNode("span",null,e.toDisplayString(e.unref(c)(_.undrawn)),1)]),_:1})):e.createCommentVNode("",!0),f.status==="SUCCESS"?(e.openBlock(),e.createBlock(H,{key:3,label:"待结算佣金(元)",width:"150",align:"left"},{default:e.withCtx(({row:_})=>[e.createElementVNode("span",null,e.toDisplayString(e.unref(c)(_.unsettled)),1)]),_:1})):e.createCommentVNode("",!0),f.status==="SUCCESS"?(e.openBlock(),e.createBlock(H,{key:4,label:"已失效佣金(元)",width:"150",align:"left"},{default:e.withCtx(({row:_})=>[e.createElementVNode("span",null,e.toDisplayString(e.unref(c)(_.invalid)),1)]),_:1})):e.createCommentVNode("",!0),f.status==="SUCCESS"?(e.openBlock(),e.createBlock(H,{key:5,label:"上级",width:"150"},{default:e.withCtx(({row:_})=>[e.createElementVNode("div",null,e.toDisplayString(_.referrer||"平台"),1)]),_:1})):e.createCommentVNode("",!0),e.createVNode(H,{label:"申请时间",width:"200",align:"left"},{default:e.withCtx(({row:_})=>[e.createElementVNode("span",null,e.toDisplayString(_.createTime),1)]),_:1}),f.status==="SUCCESS"?(e.openBlock(),e.createBlock(H,{key:6,label:"成为分销商时间",width:"200",align:"right"},{default:e.withCtx(({row:_})=>[e.createElementVNode("span",null,e.toDisplayString(_.passTime),1)]),_:1})):e.createCommentVNode("",!0)]),_:1},8,["checked-item","data"]),e.createVNode(ne,{"page-num":r.current,"page-size":r.size,total:r.total,onHandleCurrentChange:V,onHandleSizeChange:l},null,8,["page-num","page-size","total"]),e.createVNode(ae,{modelValue:x.value,"onUpdate:modelValue":w[1]||(w[1]=_=>x.value=_),width:"554px",title:"团队成员",onClose:G},{default:e.withCtx(()=>[e.createVNode(B,{data:i.list,"header-cell-style":{background:"#f6f8fa",fontSize:"12px",color:"#909399","font-weight":"bold"},"cell-style":{fontSize:"12px",color:"#333333"},height:"400"},{default:e.withCtx(()=>[e.createVNode(P,{label:"姓名",align:"center"},{default:e.withCtx(({row:_})=>[e.createTextVNode(e.toDisplayString(_.name?_.name:_.nickname),1)]),_:1}),e.createVNode(P,{label:"层级",align:"center"},{default:e.withCtx(({row:_})=>[e.createTextVNode(e.toDisplayString(_.level==="ONE"?"一级":_.level==="TWO"?"二级":"三级"),1)]),_:1}),e.createVNode(P,{label:"累计消费",align:"center",prop:"consumption"},{default:e.withCtx(({row:_})=>[e.createTextVNode(e.toDisplayString(e.unref(c)(_.consumption)),1)]),_:1}),e.createVNode(P,{label:"订单数",align:"center",prop:"orderCount"})]),_:1},8,["data"]),e.createVNode(ne,{"page-num":i.current,"page-size":i.size,total:i.total,onHandleCurrentChange:z,onHandleSizeChange:M},null,8,["page-num","page-size","total"])]),_:1},8,["modelValue"]),e.createVNode(ae,{modelValue:n.value,"onUpdate:modelValue":w[2]||(w[2]=_=>n.value=_),width:"717",title:"佣金排行榜",onClose:X},{default:e.withCtx(()=>[e.createVNode(B,{data:E.list,"header-cell-style":{background:"#F7F8FA",fontSize:"14px",color:"#333","font-weight":"bold",height:"48px"},"cell-style":{color:"#333333"},height:"500"},{default:e.withCtx(()=>[e.createVNode(P,{label:"排名",align:"center",type:"index",width:"120"},{default:e.withCtx(({$index:_})=>[_===0?(e.openBlock(),e.createElementBlock("span",fo,[e.createVNode(le,{svg:"",name:"icon-svg2",style:{width:"34px",height:"27px"}})])):e.createCommentVNode("",!0),_===1?(e.openBlock(),e.createElementBlock("span",mo,[e.createVNode(le,{svg:"",name:"icon-a-svg1",style:{width:"34px",height:"27px"}})])):e.createCommentVNode("",!0),_===2?(e.openBlock(),e.createElementBlock("span",po,[e.createVNode(le,{svg:"",name:"icon-a-svg2",style:{width:"34px",height:"27px"}})])):e.createCommentVNode("",!0)]),_:1}),e.createVNode(P,{label:"用户昵称",prop:"name"},{default:e.withCtx(({row:_})=>[e.createElementVNode("div",ho,[e.createElementVNode("img",{src:_.avatar,alt:"",style:{"margin-right":"5px",width:"50px",height:"50px","border-radius":"50%"}},null,8,uo),e.createElementVNode("span",null,e.toDisplayString(_.name),1)])]),_:1}),e.createVNode(P,{label:"累计佣金(元)",prop:"total",width:"160"},{default:e.withCtx(({row:_})=>[e.createElementVNode("div",bo,[e.createElementVNode("div",_o,e.toDisplayString(e.unref(c)(_.total)),1)])]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue"])],64)}}}),Po="",xo=Object.freeze(Object.defineProperty({__proto__:null,default:ee(go,[["__scopeId","data-v-ba6df2b1"]])},Symbol.toStringTag,{value:"Module"}));return Ve});
