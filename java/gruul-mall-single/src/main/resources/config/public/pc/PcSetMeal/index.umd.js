(function(e,b){typeof exports=="object"&&typeof module<"u"?module.exports=b(require("vue"),require("@/apis/http"),require("@/composables/useConvert"),require("vue-router"),require("element-plus"),require("@/libs/storage")):typeof define=="function"&&define.amd?define(["vue","@/apis/http","@/composables/useConvert","vue-router","element-plus","@/libs/storage"],b):(e=typeof globalThis<"u"?globalThis:e||self,e.PcSetMeal=b(e.PcSetMealContext.Vue,e.PcSetMealContext.Request,e.PcSetMealContext.UseConvert,e.PcSetMealContext.VueRouter,e.PcSetMealContext.ElementPlus,e.PcSetMealContext.storage))})(this,function(e,b,V,W,$,he){"use strict";var ut=Object.defineProperty;var ft=(e,b,V)=>b in e?ut(e,b,{enumerable:!0,configurable:!0,writable:!0,value:V}):e[b]=V;var F=(e,b,V)=>(ft(e,typeof b!="symbol"?b+"":b,V),V);var ee=document.createElement("style");ee.textContent=`@charset "UTF-8";.active[data-v-b88e630c]{border:2px solid red}.disable[data-v-b88e630c]{border:2px dashed #efefef}.title[data-v-b88e630c]{padding:0 8px;white-space:nowrap;display:inline-block;margin-top:15px}.confirmBtn[data-v-b88e630c]{padding-top:25px;width:100%;text-align:right}.el-button[data-v-b88e630c]{background-color:#555cfd;color:#fff}.box[data-v-b88e630c]{padding:20px}img[data-v-9adef0ba]{width:100%;height:100%}.colorRed[data-v-9adef0ba]{color:#fa3534}.textFw[data-v-9adef0ba]{font-weight:700}.boxBorder[data-v-9adef0ba]{border:2px solid #fa3534!important}.con[data-v-9adef0ba]{width:1190px;margin:0 auto}.title[data-v-9adef0ba]{width:200px;height:50px;line-height:50px;text-align:center;background-color:#fa3534;font-size:16px;color:#fff;margin-bottom:10px}.content[data-v-9adef0ba]{position:relative;display:flex;padding:10px 10px 0}.content__box[data-v-9adef0ba]{position:relative;width:130px;height:220px;border-radius:4px;text-align:left;background-color:#f9f9f9;border:2px solid transparent}.content__box--img[data-v-9adef0ba]{width:126px;height:126px;overflow:hidden;border-radius:4px}.content__box--tilText[data-v-9adef0ba]{width:120px;height:40px;padding:8px 5px;margin-bottom:3px;word-break:break-all;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.content__box--price[data-v-9adef0ba]{padding:0 6px;font-size:16px}.content__box--select[data-v-9adef0ba]{position:relative;height:20px;cursor:pointer}.content__box--sel[data-v-9adef0ba]{height:20px;margin:3px 6px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.content__box--specification[data-v-9adef0ba]{position:absolute;top:35px;left:0;max-width:550px;background-color:#fff;z-index:99;box-shadow:2px 2px 5px 1px #999}.content__box--til[data-v-9adef0ba]{margin:10px}.content__box--body[data-v-9adef0ba]{padding:2px 6px;margin:5px;display:inline-block;border:2px solid transparent;background-color:#e6e6e6;cursor:pointer}.content__plusSign[data-v-9adef0ba]{width:40px;height:40px;margin:80px 40px 0}.content__rightBox[data-v-9adef0ba]{position:absolute;right:0;display:flex;justify-content:center;flex-direction:column;width:220px;height:218px;font-size:20px}.content__rightBox--price[data-v-9adef0ba]{margin:10px 0}.content__rightBox--btn[data-v-9adef0ba]{width:180px;height:45px;line-height:45px;color:#fff;background-color:#e31436;margin:10px auto;cursor:pointer}.content__rightBox--over[data-v-9adef0ba]{margin-right:20px;text-align:right;font-size:12px;color:#999}.contentBox[data-v-9adef0ba]{border:1px solid #ccc;margin-bottom:15px}
`,document.head.appendChild(ee);const me="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAD1BMVEVHcEyXl5eZmZmbm5uZmZlUvXOTAAAABHRSTlMAQIG/uk/sTQAAAI9JREFUeAHtlVEKBSEIRVPb/5qfvZ8b1aQODBh0/2boZAl2SvqQmWG9VE8YBFdnwOiHsJl2EkIRdl1XdwZCrhYB0Yq+rmLhWYgIBRFaddFE+CJZEAy6DoRMU79CngaY4sjuLv3BeHqPjmryRd4jhWX+l+K1/AKJKqkT2ja9IP+yDem1lYlK3Gn+0ThkpmTPDyGFCHHqqr+4AAAAAElFTkSuQmCC",te="addon-matching-treasure/consumer/",ke=(v,p)=>b.get({url:te+`setMealBasicInfo/${v}/${p}`}),_e=(v,p)=>b.get({url:te+`setMealDetail/${v}/${p}`}),ge=(v,p)=>b.get({url:`gruul-mall-storage/storage/shop/${v}/product/${p}`});class xe{constructor(p){F(this,"vertex",[]);F(this,"quantity",0);F(this,"vertexRange",[]);this.vertex=p,this.quantity=p.length,this.init()}init(){this.vertexRange=Array.from({length:this.quantity*this.quantity})}setVertexRange(p,s){const l=this.vertex.indexOf(p);s.forEach(_=>{const g=this.vertex.indexOf(_);this.vertexRange[l*this.quantity+g]=1})}getVertexColumn(p){const s=this.vertex.indexOf(p),l=[];return this.vertex.forEach((_,g)=>{l.push(this.vertexRange[s+this.quantity*g])}),l}getColumnTotal(p){const s=p.map(_=>this.getVertexColumn(_)),l=[];return this.vertex.forEach((_,g)=>{const w=s.map(E=>E[g]).reduce((E,A)=>(E+=A||0,E),0);l.push(w)}),l}getIntersection(p){return this.getColumnTotal(p).map((l,_)=>l>=p.length&&this.vertex[_]).filter(Boolean)}getUnion(p){return p=this.getColumnTotal(p),p.map((s,l)=>s&&this.vertex[l]).filter(Boolean)}}class oe extends xe{constructor(s,l){super(s.reduce((_,g)=>[..._,...g.list],[]));F(this,"commoditySpecs",[]);F(this,"normGroup",[]);this.commoditySpecs=s,this.normGroup=l,this.initMatrix(),this.initSimilarVertex()}initMatrix(){this.normGroup.forEach(s=>{this.applyCommodity(s.specs)})}initSimilarVertex(){const s=this.getUnion(this.vertex);this.commoditySpecs.forEach(l=>{const _=[];l.list.forEach(g=>{s.indexOf(g)>-1&&_.push(g)}),this.applyCommodity(_)})}querySpecsOptions(s){return s.some(Boolean)?s=this.getIntersection(s.filter(Boolean)):s=this.getUnion(this.vertex),s}applyCommodity(s){s.forEach(l=>{this.setVertexRange(l,s)})}}const ye={class:"box"},Be={flex:"","c-mt-13":""},be={"c-w-43":"","e-tj":"","c-mr-23":"","c-mt-11":"",class:"title"},Se={key:0,flex:"","items-center":"","flex-wrap":"","c-w-630":""},ve=["onClick"],Ce=["src"],Ee={"e-c-3":"","c-lh-42":"",style:{"min-width":"30px","text-align":"center"}},Ie={key:1,flex:"","items-center":"","flex-wrap":"","c-w-630":""},Me=["onClick"],Ne={key:0,class:"confirmBtn"},we=e.defineComponent({__name:"good-spec",props:{skuGroup:{type:Object,default(){return{}}},currentChoose:{type:Array,default(){return[]}},imgBoolean:{type:Boolean,default:!0}},emits:["chooseSpec","closeGoodSoec"],setup(v,{emit:p}){const s=v,l=e.shallowReactive({commoditySpecs:[],optionSpec:[],chooseSpec:[],normClass:new oe([],[])}),_=p;let g={};e.watch(s.skuGroup,y=>{var x;if(y){const h=JSON.parse(JSON.stringify(y)),a=K(h.specGroups),m=u(h.skus),f=new oe(a,m);l.commoditySpecs=a,g=(x=l.commoditySpecs[0])==null?void 0:x.list.map(D=>{var O;return{name:D,img:(O=s.skuGroup.skus.find(j=>j.specs[0]===D))==null?void 0:O.image}}),l.normClass=f,!s.currentChoose.length&&h.skus.length>0?l.chooseSpec=h.skus[0].specs:s.currentChoose.length&&h.skus.length>0?l.chooseSpec=JSON.parse(JSON.stringify(s.currentChoose)):l.chooseSpec=Array.from({length:a.length}),l.optionSpec=f.querySpecsOptions(l.chooseSpec)}},{immediate:!0});const w=(y,x,h)=>{const{commoditySpecs:a,chooseSpec:m,normClass:f,optionSpec:I}=e.toRefs(l);m.value[h]===x||!y||(m.value[h]=m.value[h]===x?"":x,m.value=m.value.slice(),I.value=f.value.querySpecsOptions(m.value.slice()),m.value.filter(Boolean).length===a.value.length&&_("chooseSpec",E()))};function E(){return e.toRaw(s.skuGroup.skus).filter(h=>!!A(h.specs,l.chooseSpec))}function A(y,x){if(y.length!==x.length)return!1;for(let h=0;h<y.length;h++)if(y[h]!==x[h])return!1;return!0}function K(y){return y.map(x=>({title:x.name,list:x.children.map(h=>h.name)}))}function u(y){return y.map(x=>({id:x.id,specs:x.specs}))}const Z=()=>{_("chooseSpec",E()),_("closeGoodSoec",!1)};return(y,x)=>{const h=e.resolveComponent("el-button");return e.openBlock(),e.createElementBlock("div",ye,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(l).commoditySpecs,(a,m)=>(e.openBlock(),e.createElementBlock("div",{key:m,class:"norm"},[e.createElementVNode("div",Be,[e.createElementVNode("div",be,e.toDisplayString(a.title),1),m===0?(e.openBlock(),e.createElementBlock("div",Se,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(g),(f,I)=>(e.openBlock(),e.createElementBlock("div",{key:I,"c-lh-42":"","b-2":"","c-bc-e0e0e0":"",flex:"","items-center":"","c-mr-7":"","c-mb-5":"","c-pr-5":"","c-pl-5":"",class:e.normalizeClass({active:e.unref(l).chooseSpec.indexOf(f.name)!==-1,disable:e.unref(l).optionSpec.indexOf(f.name)<0}),onClick:D=>w(e.unref(l).optionSpec.indexOf(f.name)>-1,f.name,m)},[s.imgBoolean?(e.openBlock(),e.createElementBlock("img",{key:0,src:f.img,"c-w-38":"","c-h-38":"","c-mr-9":""},null,8,Ce)):e.createCommentVNode("",!0),e.createElementVNode("div",Ee,e.toDisplayString(f.name),1)],10,ve))),128))])):(e.openBlock(),e.createElementBlock("div",Ie,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.list,(f,I)=>(e.openBlock(),e.createElementBlock("div",{key:I,"c-lh-34":"","b-2":"","c-bc-e0e0e0":"","c-mr-7":"","c-mt-5":"","e-c-3":"","c-pl-15":"","c-pr-15":"",class:e.normalizeClass({active:e.unref(l).chooseSpec.indexOf(f)>-1,disable:e.unref(l).optionSpec.indexOf(f)<=0}),onClick:D=>w(e.unref(l).optionSpec.indexOf(f)>-1,f,m)},e.toDisplayString(f),11,Me))),128))]))])]))),128)),e.unref(l).commoditySpecs.length>0?(e.openBlock(),e.createElementBlock("div",Ne,[e.createVNode(h,{onClick:Z},{default:e.withCtx(()=>x[0]||(x[0]=[e.createTextVNode("确定")])),_:1})])):e.createCommentVNode("",!0)])}}}),ht="",le=(v,p)=>{const s=v.__vccOpts||v;for(const[l,_]of p)s[l]=_;return s},se=le(we,[["__scopeId","data-v-b88e630c"]]),Ae={key:0,class:"con"},Ve={class:"contentBox"},De={key:0,class:"content__box boxBorder"},Te={class:"content__box--img"},Pe=["src"],Oe={class:"content__box--tilText"},Re={class:"content__box--price colorRed textFw"},qe={key:0,class:"content__box--select"},Fe=["onClick"],$e={key:0,class:"content__box--specification"},Ge={style:{display:"flex",width:"720px","flex-wrap":"wrap"}},Le=["onClick"],Ue=["src"],je=["onClick"],Xe=["onClick"],He={key:0,class:"content__box--select"},ze=["onClick"],Je={key:0,class:"content__box--specification"},Ke={class:"content__rightBox"},Ze={class:"colorRed"},Ye={class:"content__rightBox--price"},Qe={class:"colorRed"},We={class:"colorRed textFw"},et=["onClick"],tt={class:"content__rightBox--over"},ot=e.defineComponent({__name:"PcSetMeal",props:{properties:{type:Object,default:()=>{}}},setup(v){const p=W.useRouter(),{divTenThousand:s}=V(),l=W.useRoute(),_=v,g=e.ref(!1),w=e.ref([]),E=e.ref([]),A=e.ref(""),K=async()=>{var d,i;const{code:n,data:t}=await ke(l.query.shopId,l.query.productId);A.value=(d=t==null?void 0:t[0])==null?void 0:d.setMealId,n===200&&(w.value=t);for(let r=0;r<t.length;r++)E.value.push((i=w.value[r])==null?void 0:i.setMealId);if(w.value.length!==a.value.length)for(let r=0;r<w.value.length-1;r++)a.value.push([{checkBox:!1,skuId:"",price:0,name:""},{checkBox:!1,skuId:"",price:0,name:""},{checkBox:!1,skuId:"",price:0,name:""},{checkBox:!1,skuId:"",price:0,name:""},{checkBox:!0,skuId:"",price:0,name:""}])},u=e.ref([]),Z=e.ref(""),y=e.ref("EXPRESS");(async()=>{var n;await K();for(let t=0;t<E.value.length;t++){const{code:d,data:i}=await _e(l.query.shopId,E.value[t]);if(d!==200)return;y.value=i==null?void 0:i.distributionMode,u.value.push(i),Z.value=i==null?void 0:i.setMealType;for(let r=0;r<u.value.length;r++){let o=a.value[r];for(let k=0;k<u.value[r].setMealProductDetails.length;k++){let S=u.value[r].setMealProductDetails[k].setMealProductSkuDetails;if(S.length===1&&(u.value[r].setMealProductDetails[k].productAttributes==="MAIN_PRODUCT"?(o[4].price=+S[0].matchingPrice,o[4].skuId=S[0].skuId,o[4].name=u.value[r].setMealProductDetails[k].productName):(o[k].skuId=S[0].skuId,o[k].price=+((n=S[0])==null?void 0:n.matchingPrice),o[k].name=u.value[r].setMealProductDetails[k].productName)),u.value[r].setMealType==="FIXED_COMBINATION")for(let M=0;M<o.length;M++)o[M].checkBox=!0}}}})();const h=async n=>{const{data:t,code:d}=await ge(l.query.shopId,n);return d!==200?[]:t},a=e.ref([[{checkBox:!1,skuId:"",price:0,name:""},{checkBox:!1,skuId:"",price:0,name:""},{checkBox:!1,skuId:"",price:0,name:""},{checkBox:!1,skuId:"",price:0,name:""},{checkBox:!0,skuId:"",price:0,name:""}]]),m=e.ref(4),f=e.ref(0),I=async(n,t,d,i)=>{d==="FIXED_COMBINATION"||(a.value[i][t].checkBox===!1?a.value[i][t].price===0?$.ElMessage.error("请先选规格再选商品"):(a.value[i][t].checkBox=!0,L.value=L.value+1,a.value[i][t].name=n.productName):a.value[i][t].checkBox&&(a.value[i][t].checkBox=!1,L.value=L.value-1))},D=e.ref(),O=e.ref(),j=e.ref(0),ce=e.ref(0);let ne=e.ref(0);const ae=e.ref(0),lt=async(n,t,d)=>{ae.value=t,f.value=t,m.value=4,a.value[f.value][m.value].name=n.productName,g.value=!g.value,g.value&&ne.value===0&&(ne.value++,D.value=await h(n==null?void 0:n.productId),j.value=Date.now())},G=e.ref(!1),st=async(n,t,d,i)=>{m.value=n,f.value=d,g.value=!1,G.value=!G.value,G.value&&(O.value=await h(t==null?void 0:t.productId)),O.value=await h(t==null?void 0:t.productId),a.value[f.value][m.value].name=t.productName,ce.value=Date.now()},L=e.ref(1),R=e.ref([]),X=e.ref(),re=n=>{var t,d;X.value=n[0],R.value[m.value]=n[0],a.value[f.value][m.value].price=+ct((t=n[0])==null?void 0:t.id),a.value[f.value][m.value].skuId=(d=n[0])==null?void 0:d.id},ie=n=>{g.value=n,G.value=n},ct=n=>{const t=e.ref("");return u.value.forEach(d=>{for(let i=0;i<d.setMealProductDetails.length;i++)d.setMealProductDetails[i].setMealProductSkuDetails.forEach(r=>{r.skuId===n&&(t.value=r.matchingPrice)})}),t.value},nt=n=>{const t=e.ref(0);return n.forEach(d=>{d.checkBox&&(t.value+=d.price)}),s(t.value)},Y=e.ref(!1),H=e.ref(!1),Q=e.ref(!1),at=(n,t)=>{var i,r;if(X.value&&((i=X.value)==null?void 0:i.limitType)!=="UNLIMITED"&&+((r=X.value)==null?void 0:r.stock)==0)return $.ElMessage.error("该规格商品库存不足");let d=0;if(a.value[t].forEach(o=>{if(o.skuId!=="")for(let k=0;k<u.value[t].setMealProductDetails.length;k++)u.value[t].setMealProductDetails[k].setMealProductSkuDetails.forEach(S=>{o.checkBox&&S.skuId===o.skuId?R.value[k]={...S,productAttributes:u.value[t].setMealProductDetails[k].productAttributes,stackable:u.value[t].stackable}:!o.checkBox&&S.skuId===o.skuId&&(R.value=R.value.filter(M=>M.skuId!==o.skuId))})}),n.setMealType==="FIXED_COMBINATION"){for(let o=0;o<a.value[t].length;o++)a.value[t][o].price!==0&&d++;return n.setMealProductDetails.length!==d?$.ElMessage.error("请选择商品的规格"):de(R.value,a.value[t])}for(let o=0;o<u.value[t].setMealProductDetails.length&&(u.value[t].setMealProductDetails[o].productAttributes==="MATCHING_PRODUCTS"&&(Y.value=!0),!Y.value);o++);for(let o=0;o<a.value[t].length-1&&(a.value[t][o].checkBox?H.value=!0:H.value=!1,!H.value);o++);if(Y.value&&H.value){for(let o=0;o<u.value[t].setMealProductDetails.length;o++){let k=u.value[t].setMealProductDetails[o];if(k.productAttributes==="MAIN_PRODUCT"&&k.setMealProductSkuDetails.length===1){Q.value=!0;break}else{Q.value=!1;break}}return Q.value?$.ElMessage.error("请选择主商品的规格"):de(R.value,a.value[t])}else $.ElMessage.error("请选择组合的商品")},de=async(n,t)=>{var r;const d=e.ref([{}]),i=[];if(n&&n.length&&t){const o=e.ref("");let k=[];const S=e.ref();t.forEach(c=>{c.checkBox&&k.push(n.filter(B=>{var N;return c.skuId===B.skuId||((N=B.storageSku)==null?void 0:N.id)}))}),k[0].forEach(c=>{var pe,ue,fe;let B="";B=((pe=t.filter(pt=>pt.skuId===c.skuId)[0])==null?void 0:pe.name)||"";const{matchingPrice:N,productAttributes:T,stackable:P,storageSku:{id:q,price:z,image:U,productId:C,weight:J,activityType:rt}}=c;o.value=rt;const it={skuId:q,image:U,price:z,salePrice:N,productId:C,productName:B,id:C,freightTemplateId:(fe=(ue=_.properties)==null?void 0:ue.goodInfo)==null?void 0:fe.freightTemplateId,weight:J,num:1,distributionMode:y.value},dt={activityId:A.value,productAttributes:T,shopId:l.query.shopId,skuId:q,productId:C};S.value=P,d.value.push(it),i.push(dt)}),d.value.shift();const M={type:o.value,activityId:A.value,extra:{setMealProducts:i},stackable:S.value};new he().setItem("commodityInfo",[Object.assign((r=_.properties)==null?void 0:r.shopInfo,{activityId:A.value,orderType:o.value},{activityParam:M},{products:d.value})],60*60*2),p.push({path:"/settlement",query:{source:"PRODUCT"}})}};return(n,t)=>{const d=e.resolveComponent("ArrowDownBold"),i=e.resolveComponent("el-icon");return u.value.length!==0?(e.openBlock(),e.createElementBlock("div",Ae,[t[7]||(t[7]=e.createElementVNode("div",{class:"title"},"套餐",-1)),e.createElementVNode("div",Ve,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(u.value,(r,o)=>{var k,S,M;return e.openBlock(),e.createElementBlock("div",{key:o,class:"content"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.setMealProductDetails,(c,B)=>{var N,T,P;return e.openBlock(),e.createElementBlock("div",{key:B},[(c==null?void 0:c.productAttributes)==="MAIN_PRODUCT"?(e.openBlock(),e.createElementBlock("div",De,[e.createElementVNode("div",Te,[e.createElementVNode("img",{src:c==null?void 0:c.productPic,alt:""},null,8,Pe)]),e.createElementVNode("div",Oe,e.toDisplayString(c==null?void 0:c.productName),1),e.createElementVNode("div",Re,"￥"+e.toDisplayString(e.unref(s)((P=(T=(N=a.value)==null?void 0:N[o])==null?void 0:T[4])==null?void 0:P.price).toFixed(2)),1),(c==null?void 0:c.setMealProductSkuDetails.length)!==1?(e.openBlock(),e.createElementBlock("div",qe,[e.createElementVNode("div",{class:"content__box--sel",onClick:q=>lt(c,o)},[t[0]||(t[0]=e.createTextVNode(" 规格选择 ")),e.createVNode(i,null,{default:e.withCtx(()=>[e.createVNode(d)]),_:1})],8,Fe),g.value&&ae.value===o?(e.openBlock(),e.createElementBlock("div",$e,[(e.openBlock(),e.createBlock(se,{key:j.value,"sku-group":D.value,"img-boolean":!1,onChooseSpec:re,onCloseGoodSoec:ie},null,8,["sku-group"]))])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])}),128)),t[6]||(t[6]=e.createElementVNode("div",{class:"content__plusSign"},[e.createElementVNode("div",null,[e.createElementVNode("img",{src:me,alt:""})])],-1)),e.createElementVNode("div",Ge,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.setMealProductDetails,(c,B)=>{var N,T,P,q,z;return e.openBlock(),e.createElementBlock("div",{key:B,style:{display:"flex","justify-content":"space-evenly",margin:"0 10px 10px 0"}},[(c==null?void 0:c.productAttributes)==="MATCHING_PRODUCTS"?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(((N=u.value[o])==null?void 0:N.setMealType)==="FIXED_COMBINATION"||(T=a.value[o])!=null&&T[B].checkBox?"content__box content__center boxBorder":"content__box content__center")},[e.createElementVNode("div",{class:"content__box--img",onClick:U=>{var C;return I(c,B,(C=u.value[o])==null?void 0:C.setMealType,o)}},[e.createElementVNode("img",{src:c==null?void 0:c.productPic,alt:""},null,8,Ue)],8,Le),e.createElementVNode("div",{class:"content__box--tilText",onClick:U=>{var C;return I(c,B,(C=u.value[o])==null?void 0:C.setMealType,o)}},e.toDisplayString(c==null?void 0:c.productName),9,je),e.createElementVNode("div",{class:"content__box--price colorRed textFw",onClick:U=>{var C,J;return I(c,B,(J=(C=u.value)==null?void 0:C[o])==null?void 0:J.setMealType,o)}}," ￥"+e.toDisplayString(e.unref(s)((z=(q=(P=a.value)==null?void 0:P[o])==null?void 0:q[B])==null?void 0:z.price).toFixed(2)),9,Xe),(c==null?void 0:c.setMealProductSkuDetails.length)!==1?(e.openBlock(),e.createElementBlock("div",He,[e.createElementVNode("div",{class:"content__box--sel",onClick:U=>st(B,c,o)},[t[1]||(t[1]=e.createTextVNode(" 规格选择 ")),e.createVNode(i,null,{default:e.withCtx(()=>[e.createVNode(d)]),_:1})],8,ze),G.value&&m.value===B&&f.value===o&&m.value!==4?(e.openBlock(),e.createElementBlock("div",Je,[(e.openBlock(),e.createBlock(se,{key:ce.value,"sku-group":O.value,"img-boolean":!1,onChooseSpec:re,onCloseGoodSoec:ie},null,8,["sku-group"]))])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],2)):e.createCommentVNode("",!0)])}),128))]),e.createElementVNode("div",Ke,[e.createElementVNode("p",null,[t[2]||(t[2]=e.createTextVNode(" 已选择 ")),e.createElementVNode("span",Ze,e.toDisplayString(((k=u.value[o])==null?void 0:k.setMealType)==="FIXED_COMBINATION"?(S=u.value[o])==null?void 0:S.setMealProductDetails.length:L.value),1),t[3]||(t[3]=e.createTextVNode(" 件商品 "))]),e.createElementVNode("p",Ye,[t[4]||(t[4]=e.createTextVNode(" 最多可省：")),e.createElementVNode("span",Qe,"￥"+e.toDisplayString(e.unref(s)(r==null?void 0:r.saveAtLeast)),1)]),e.createElementVNode("p",null,[t[5]||(t[5]=e.createTextVNode(" 组合价：")),e.createElementVNode("span",We,"￥"+e.toDisplayString(nt(a.value[o])),1)]),e.createElementVNode("p",{class:"content__rightBox--btn",onClick:c=>at(r,o)},"立即购买",8,et),e.createElementVNode("p",tt,e.toDisplayString((M=u.value[o])==null?void 0:M.endTime)+" 结束",1)])])}),128))])])):e.createCommentVNode("",!0)}}}),mt="";return le(ot,[["__scopeId","data-v-9adef0ba"]])});
