(function(e,s){typeof exports=="object"&&typeof module<"u"?module.exports=s(require("vue"),require("vue-router"),require("element-plus"),require("@/apis/http"),require("@/components/BetterPageManage/BetterPageManage.vue"),require("@/components/schema-form/index.vue")):typeof define=="function"&&define.amd?define(["vue","vue-router","element-plus","@/apis/http","@/components/BetterPageManage/BetterPageManage.vue","@/components/schema-form/index.vue"],s):(e=typeof globalThis<"u"?globalThis:e||self,e.PlatformStoreList=s(e.PlatformStoreListContext.Vue,e.PlatformStoreListContext.VueRouter,e.PlatformStoreListContext.ElementPlus,e.PlatformStoreListContext.Request,e.PlatformStoreListContext.PageManage,e.PlatformStoreListContext.SchemaForm))})(this,function(e,s,_,u,g,y){"use strict";var h=document.createElement("style");h.textContent=`@charset "UTF-8";[data-v-7562800a]{color:#333}.button[data-v-7562800a]{margin:15px 0 20px}.ellipsis[data-v-7562800a]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;white-space:normal}
`,document.head.appendChild(h);const x=i=>u.get({url:"addon-shop-store/store/list",params:i}),C={class:"table_container"},N={class:"ellipsis",style:{width:"220px"}},S={class:"ellipsis"},b=["onClick"],P=e.defineComponent({__name:"PlatformStoreList",setup(i){const m=s.useRouter(),c=e.ref(!1),d=e.ref([]),r=e.reactive({shopName:"",storeName:"",status:""}),n=e.reactive({size:20,current:1,total:0}),w=[{label:"店铺名称",labelWidth:75,prop:"shopName",valueType:"copy",fieldProps:{placeholder:"请填写店铺名称",maxlength:20}},{label:"门店名称",labelWidth:90,prop:"storeName",valueType:"copy",fieldProps:{placeholder:"请填写门店名称",maxlength:20}},{label:"状态",labelWidth:45,prop:"status",valueType:"select",options:[{value:"",label:"全部"},{value:"NORMAL",label:"已启用"},{value:"SHOP_FORBIDDEN",label:"已禁用"}],fieldProps:{placeholder:"请选择"}}];p();async function p(){const{code:t,data:a}=await x({...n,...r});t===200&&a?(d.value=a.records,n.total=a.total):_.ElMessage.error("获取列表失败")}const V=(t,a,l)=>{m.push({path:"/store/AddStore",query:{shopId:t,id:a,lookType:l}})},E=t=>{n.size=t,p()},L=t=>{n.current=t,p()},k=t=>{t&&Object.keys(t).forEach(a=>r[a]=t[a])},f=()=>{n.current=1,p()},D=()=>{Object.keys(r).forEach(t=>r[t]=""),f()};return(t,a)=>{const l=e.resolveComponent("el-table-column"),O=e.resolveComponent("el-table");return e.openBlock(),e.createElementBlock(e.Fragment,null,[c.value?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(y,{key:0,columns:w,"v-model":r,"has-unfold":"",onChangeFormItem:k,onSearchHandle:f,onHandleReset:D},null,8,["v-model"])),a[0]||(a[0]=e.createElementVNode("div",{class:"grey_bar"},null,-1)),e.createElementVNode("div",C,[e.createVNode(O,{data:d.value,"header-cell-style":{"background-color":"#F7F8FA","font-weight":"bold",color:"#333",height:"48px"},"row-style":{height:"80px"},"empty-text":"暂无数据~",style:{width:"100%"}},{default:e.withCtx(()=>[e.createVNode(l,{label:"门店名称",width:"300"},{default:e.withCtx(({row:o})=>[e.createElementVNode("div",N,e.toDisplayString(o.storeName),1)]),_:1}),e.createVNode(l,{label:"负责人姓名",width:"180"},{default:e.withCtx(({row:o})=>[e.createElementVNode("div",null,e.toDisplayString(o.functionaryName),1)]),_:1}),e.createVNode(l,{label:"手机号",width:"180"},{default:e.withCtx(({row:o})=>[e.createElementVNode("div",null,e.toDisplayString(o.functionaryPhone),1)]),_:1}),e.createVNode(l,{label:"店铺名称"},{default:e.withCtx(({row:o})=>[e.createElementVNode("div",S,e.toDisplayString(o.shopName),1)]),_:1}),e.createVNode(l,{label:"门店状态",width:"150"},{default:e.withCtx(({row:o})=>[e.createElementVNode("div",{style:e.normalizeStyle({color:o.status==="SHOP_FORBIDDEN"?"#999":"#333"})},e.toDisplayString(o.status==="NORMAL"?"已启用":o.status==="SHOP_FORBIDDEN"?"已禁用":"平台禁用"),5)]),_:1}),e.createVNode(l,{align:"right",label:"操作",width:"70",fixed:"right"},{default:e.withCtx(({row:o})=>[e.createElementVNode("span",{style:{color:"#555cfd",cursor:"pointer"},onClick:R=>V(o.shopId,o.id,"OnlyLook")},"查看",8,b)]),_:1})]),_:1},8,["data"])]),e.createVNode(g,{"page-num":n.current,"page-size":n.size,total:n.total,class:"pagination",onHandleSizeChange:E,onHandleCurrentChange:L},null,8,["page-num","page-size","total"])],64)}}}),B="";return((i,m)=>{const c=i.__vccOpts||i;for(const[d,r]of m)c[d]=r;return c})(P,[["__scopeId","data-v-7562800a"]])});
