(function(e,c){typeof exports=="object"&&typeof module<"u"?module.exports=c(require("vue"),require("vue-router"),require("@/apis/http")):typeof define=="function"&&define.amd?define(["vue","vue-router","@/apis/http"],c):(e=typeof globalThis<"u"?globalThis:e||self,e.FreightCheckBox=c(e.FreightCheckBoxContext.Vue,e.FreightCheckBoxContext.VueRouter,e.FreightCheckBoxContext.Request))})(this,function(e,c,h){"use strict";const g=e.defineComponent({__name:"logistics-setting",props:{data:{type:Object,default:()=>null}},setup(i){const l=i,m=e.computed(()=>l.data&&l.data.logisticsBaseModelVos||[]),s=e.computed(()=>l.data&&l.data.valuationModel||"PKGS"),p=e.computed(()=>a=>{if(a&&a.length)return a.map(r=>r.lowerCode.length===r.length?r.upperName:`${r.upperName}(${r.lowerCode.length}/${r.length})`).join(",")});return(a,r)=>{const n=e.resolveComponent("el-table-column"),t=e.resolveComponent("el-table");return e.withDirectives((e.openBlock(),e.createBlock(t,{"cell-style":{fontSize:"14px",color:"#333",height:"80px"},data:m.value,"header-cell-style":{fontSize:"14px",color:"#515151",height:"80px",fontWeight:"normal"},border:"",style:{width:"80%","margin-top":"20px"}},{default:e.withCtx(()=>[e.createVNode(n,{label:"可配送区域"},{default:e.withCtx(({row:o})=>[e.createElementVNode("div",null,e.toDisplayString(p.value(o.regionJson)),1)]),_:1}),e.createVNode(n,{label:s.value==="PKGS"?"首件数（件）":"首重量(kg)","min-width":"80%"},{default:e.withCtx(({row:o})=>[e.createElementVNode("div",null,e.toDisplayString(o.firstQuantity)+e.toDisplayString(),1)]),_:1},8,["label"]),e.createVNode(n,{label:"首费（元）","min-width":"70%"},{default:e.withCtx(({row:o})=>[e.createElementVNode("div",null,e.toDisplayString(o.firstAmount),1)]),_:1}),e.createVNode(n,{label:s.value==="PKGS"?"续件数（件）":"续重量(kg)","min-width":"70%"},{default:e.withCtx(({row:o})=>[e.createElementVNode("div",null,e.toDisplayString(o.secondQuantity),1)]),_:1},8,["label"]),e.createVNode(n,{label:"续费（元）","min-width":"70%"},{default:e.withCtx(({row:o})=>[e.createElementVNode("div",null,e.toDisplayString(o.secondAmount),1)]),_:1})]),_:1},8,["data"])),[[e.vShow,i.data]])}}}),u=(i,l)=>h.get({url:"gruul-mall-freight/logistics/template/get/list",params:{current:i,size:l}});return e.defineComponent({__name:"FreightCheckBox",props:{properties:{type:Object,required:!0}},setup(i){const l=i,m=c.useRouter(),s=e.ref("0"),p=e.ref(new Map);e.onActivated(async()=>{m.options.history.state.forward==="/freight/logistics?from=releaseGoods"&&a(),a()}),e.onMounted(()=>{a()}),e.watch(()=>l.properties.templateId,n=>{s.value=n},{immediate:!0});async function a(){const{code:n,data:t}=await u(1,1e3);if(n!==200||!t)return;const o=t.records;!o||!o.length||o.forEach(f=>{p.value.set(f.id,f)})}const r=n=>{l.properties.templateChange(n)};return(n,t)=>{const o=e.resolveComponent("el-option"),f=e.resolveComponent("el-select"),C=e.resolveComponent("el-link"),x=e.resolveComponent("el-checkbox");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(x,{disabled:i.properties.disable,value:"EXPRESS"},{default:e.withCtx(()=>[e.createElementVNode("span",{style:{"margin-right":"10px"},onClick:t[0]||(t[0]=e.withModifiers(()=>{},["stop"]))},"运费模板选择"),e.createVNode(f,{modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=d=>s.value=d),class:"inputWidth",placeholder:"请选择运费模板",onChange:r,onClick:t[2]||(t[2]=e.withModifiers(()=>{},["prevent"]))},{default:e.withCtx(()=>[e.createVNode(o,{value:"0",label:"商家包邮"}),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Array.from(p.value.values()),d=>(e.openBlock(),e.createBlock(o,{key:d.id,label:d.templateName,value:d.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e.createVNode(C,{underline:!1,style:{"margin-left":"15px"},type:"primary",onClick:t[3]||(t[3]=e.withModifiers(d=>e.unref(m).push({name:"freightLogisticsIndex",query:{from:"releaseGoods"}}),["stop","prevent"]))},{default:e.withCtx(()=>t[4]||(t[4]=[e.createTextVNode(" 前往设置 ")])),_:1})]),_:1},8,["disabled"]),t[5]||(t[5]=e.createElementVNode("br",null,null,-1)),e.createVNode(g,{data:p.value.get(s.value)},null,8,["data"])],64)}}})});
