(function(t,s){typeof exports=="object"&&typeof module<"u"?module.exports=s(require("vue"),require("@/apis/setting"),require("element-plus")):typeof define=="function"&&define.amd?define(["vue","@/apis/setting","element-plus"],s):(t=typeof globalThis<"u"?globalThis:t||self,t.PlatformPurchaseOrderConfig=s(t.PlatformPurchaseOrderConfigContext.Vue,t.PlatformPurchaseOrderConfigContext.SettingAPI,t.PlatformPurchaseOrderConfigContext.ElementPlus))})(this,function(t,s,c){"use strict";var f=document.createElement("style");f.textContent=`@charset "UTF-8";.msg[data-v-28a8f59c]{display:flex;justify-content:center;align-items:center;justify-content:flex-start}.msg__text[data-v-28a8f59c]{height:32px;width:300px;font-size:12px;color:#999}.ml12[data-v-28a8f59c]{margin-left:12px}.mr12[data-v-28a8f59c]{margin-right:12px}
`,document.head.appendChild(f);const x={class:"msg"},a=60*60,y=t.defineComponent({__name:"PlatformPurchaseOrderConfig",setup(m,{expose:d}){const o=t.reactive({supplierD:0,supplierH:0,supplierM:0});let p="0";const i=24*a,g=r=>{const e=parseInt(r);let n=Math.floor(e/i),u=Math.floor(e%i/a),l=Math.floor(e%a/60);return[n,u,l]},_=()=>{s.doGetSupplierBasicSet().then(({data:r})=>{p=r.payTimeout;const e=g(r.payTimeout);o.supplierD=e[0],o.supplierH=e[1],o.supplierM=e[2]})};return _(),d({handOrderTime:async()=>{const r={payTimeout:o.supplierD*i+o.supplierH*a+o.supplierM*60+""};if(p!==r.payTimeout)try{const{code:e,msg:n}=await s.doPutSupplierBasicSet(r);if(e!==200)return c.ElMessage.error(n||"更改失败");_()}catch{c.ElMessage.error("更改失败")}}}),(r,e)=>{const n=t.resolveComponent("el-input-number"),u=t.resolveComponent("el-form-item");return t.openBlock(),t.createElementBlock("div",x,[t.createVNode(u,{label:"未支付的采购订单","label-width":"160px",prop:"payTimeout",style:{flex:"1"}},{default:t.withCtx(()=>[t.createVNode(n,{modelValue:o.supplierD,"onUpdate:modelValue":e[0]||(e[0]=l=>o.supplierD=l),style:{width:"60px"},min:0,controls:!1},null,8,["modelValue"]),e[3]||(e[3]=t.createElementVNode("text",{class:"ml12 mr12"},"天",-1)),t.createVNode(n,{modelValue:o.supplierH,"onUpdate:modelValue":e[1]||(e[1]=l=>o.supplierH=l),style:{width:"60px"},min:0,controls:!1},null,8,["modelValue"]),e[4]||(e[4]=t.createElementVNode("text",{class:"ml12 mr12"},"小时",-1)),t.createVNode(n,{modelValue:o.supplierM,"onUpdate:modelValue":e[2]||(e[2]=l=>o.supplierM=l),style:{width:"60px"},min:0,controls:!1},null,8,["modelValue"]),e[5]||(e[5]=t.createElementVNode("span",{class:"ml12"},"分钟后，自动关闭",-1))]),_:1}),e[6]||(e[6]=t.createElementVNode("span",{class:"ml42 msg__text"},"最长可设置30天， 最短可设置15分钟",-1))])}}}),h="";return((m,d)=>{const o=m.__vccOpts||m;for(const[p,i]of d)o[p]=i;return o})(y,[["__scopeId","data-v-28a8f59c"]])});
