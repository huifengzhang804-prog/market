(function(e,c){typeof exports=="object"&&typeof module<"u"?module.exports=c(require("vue"),require("vue-router"),require("@/apis/http")):typeof define=="function"&&define.amd?define(["vue","vue-router","@/apis/http"],c):(e=typeof globalThis<"u"?globalThis:e||self,e.FreightCheckBox=c(e.FreightCheckBoxContext.Vue,e.FreightCheckBoxContext.VueRouter,e.FreightCheckBoxContext.Request))})(this,function(e,c,f){"use strict";const g=e.defineComponent({__name:"logistics-setting",props:{data:{type:Object,default:()=>null}},setup(i){const l=i,m=e.computed(()=>l.data&&l.data.logisticsBaseModelVos||[]),s=e.computed(()=>l.data&&l.data.valuationModel||"PKGS"),p=e.computed(()=>a=>{if(a&&a.length)return a.map(r=>r.lowerCode.length===r.length?r.upperName:`${r.upperName}(${r.lowerCode.length}/${r.length})`).join(",")});return(a,r)=>{const o=e.resolveComponent("el-table-column"),n=e.resolveComponent("el-table");return e.withDirectives((e.openBlock(),e.createBlock(n,{"cell-style":{fontSize:"14px",color:"#333",height:"80px"},data:m.value,"header-cell-style":{fontSize:"14px",color:"#515151",height:"80px",fontWeight:"normal"},border:"",style:{width:"80%","margin-top":"20px"}},{default:e.withCtx(()=>[e.createVNode(o,{label:"可配送区域"},{default:e.withCtx(({row:t})=>[e.createElementVNode("div",null,e.toDisplayString(p.value(t.regionJson)),1)]),_:1}),e.createVNode(o,{label:s.value==="PKGS"?"首件数（件）":"首重量(kg)","min-width":"80%"},{default:e.withCtx(({row:t})=>[e.createElementVNode("div",null,e.toDisplayString(t.firstQuantity)+e.toDisplayString(),1)]),_:1},8,["label"]),e.createVNode(o,{label:"首费（元）","min-width":"70%"},{default:e.withCtx(({row:t})=>[e.createElementVNode("div",null,e.toDisplayString(t.firstAmount),1)]),_:1}),e.createVNode(o,{label:s.value==="PKGS"?"续件数（件）":"续重量(kg)","min-width":"70%"},{default:e.withCtx(({row:t})=>[e.createElementVNode("div",null,e.toDisplayString(t.secondQuantity),1)]),_:1},8,["label"]),e.createVNode(o,{label:"续费（元）","min-width":"70%"},{default:e.withCtx(({row:t})=>[e.createElementVNode("div",null,e.toDisplayString(t.secondAmount),1)]),_:1})]),_:1},8,["data"])),[[e.vShow,i.data]])}}}),u=(i,l)=>f.get({url:"gruul-mall-freight/logistics/template/get/list",params:{current:i,size:l}}),C=e.createElementVNode("br",null,null,-1);return e.defineComponent({__name:"FreightCheckBox",props:{properties:{type:Object,required:!0}},setup(i){const l=i,m=c.useRouter(),s=e.ref("0"),p=e.ref(new Map);e.onActivated(async()=>{m.options.history.state.forward==="/freight/logistics?from=releaseGoods"&&a(),a()}),e.onMounted(()=>{a()}),e.watch(()=>l.properties.templateId,o=>{s.value=o},{immediate:!0});async function a(){const{code:o,data:n}=await u(1,1e3);if(o!==200||!n)return;const t=n.records;!t||!t.length||t.forEach(h=>{p.value.set(h.id,h)})}const r=o=>{l.properties.templateChange(o)};return(o,n)=>{const t=e.resolveComponent("el-option"),h=e.resolveComponent("el-select"),x=e.resolveComponent("el-link"),_=e.resolveComponent("el-checkbox");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(_,{disabled:i.properties.disable,value:"EXPRESS"},{default:e.withCtx(()=>[e.createElementVNode("span",{style:{"margin-right":"10px"},onClick:n[0]||(n[0]=e.withModifiers(()=>{},["stop"]))},"运费模板选择"),e.createVNode(h,{modelValue:s.value,"onUpdate:modelValue":n[1]||(n[1]=d=>s.value=d),class:"inputWidth",placeholder:"请选择运费模板",onChange:r,onClick:n[2]||(n[2]=e.withModifiers(()=>{},["prevent"]))},{default:e.withCtx(()=>[e.createVNode(t,{value:"0",label:"商家包邮"}),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Array.from(p.value.values()),d=>(e.openBlock(),e.createBlock(t,{key:d.id,label:d.templateName,value:d.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e.createVNode(x,{underline:!1,style:{"margin-left":"15px"},type:"primary",onClick:n[3]||(n[3]=e.withModifiers(d=>e.unref(m).push({name:"freightLogisticsIndex",query:{from:"releaseGoods"}}),["stop","prevent"]))},{default:e.withCtx(()=>[e.createTextVNode(" 前往设置 ")]),_:1})]),_:1},8,["disabled"]),C,e.createVNode(g,{data:p.value.get(s.value)},null,8,["data"])],64)}}})});
