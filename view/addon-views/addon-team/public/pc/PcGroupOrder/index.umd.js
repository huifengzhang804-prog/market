(function(e,i){typeof exports=="object"&&typeof module<"u"?module.exports=i(require("vue"),require("@/utils/http"),require("decimal.js")):typeof define=="function"&&define.amd?define(["vue","@/utils/http","decimal.js"],i):(e=typeof globalThis<"u"?globalThis:e||self,e.PcGroupOrder=i(e.PcGroupOrderContext.Vue,e.PcGroupOrderContext.UtilsHttp))})(this,function(e,i){"use strict";var w=document.createElement("style");w.textContent=`@charset "UTF-8";.user-imgs[data-v-a82eeba5]{width:58px;height:58px;border-radius:50%;border:1px dashed #999;display:flex;justify-content:center;align-items:center}[data-v-a82eeba5] .el-card__body{padding:0}em[data-v-a82eeba5],i[data-v-a82eeba5]{font-style:normal}.xianshi[data-v-a82eeba5]{display:block!important}.all[data-v-a82eeba5]{display:none;width:100%;height:100%;background-color:#10101080;position:fixed;top:0;left:0;z-index:999999}.all .el-card[data-v-a82eeba5]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:9999999;width:520px;border-radius:8px;background-color:#fff}.all .el-card .title[data-v-a82eeba5]{height:44px;line-height:44px;border-bottom:1px solid #bbb}.all .el-card .title span[data-v-a82eeba5]{margin-left:24px;float:left;font-size:14px;font-weight:700}.all .el-card .title i[data-v-a82eeba5]{margin:6px 14px 0;float:right;cursor:pointer}.all .el-card .line[data-v-a82eeba5]{margin:24px 0 14px}.all .el-card .line i[data-v-a82eeba5]{display:inline-block;width:106px;border-top:1px dashed rgba(10,10,10,.3);transform:translateY(-4px)}.all .el-card .line em[data-v-a82eeba5]{width:96px;height:24px;font-size:16px;font-weight:700;display:inline-block;margin-left:35px;margin-right:30px}.all .el-card p[data-v-a82eeba5]{display:inline-block;height:17px;font-size:12px;font-weight:700;margin-bottom:37px}.all .el-card p i[data-v-a82eeba5]{margin:0 5px;color:#ee1e38}.all .el-card .photo[data-v-a82eeba5]{margin-bottom:34px;display:flex;justify-content:center;margin-left:-20px}.all .el-card .photo .user-img[data-v-a82eeba5]{display:inline-flex;position:relative}.all .el-card .photo .user-img i[data-v-a82eeba5]{padding:2px 5px;background-color:#f7c945;color:#fff;font-weight:700;border-radius:4px;font-size:12px;left:-12px;top:-11px;position:absolute;z-index:9}.all .el-card .photo span[data-v-a82eeba5]{width:58px;height:58px;border-radius:50%;box-sizing:border-box;margin-left:29px;border:1px dashed #bbb}.all .el-card .photo span[data-v-a82eeba5]:first-of-type{border:4px solid #f7c945;margin-left:0}.all .el-card .photo span img[data-v-a82eeba5]{border-radius:50%;width:100%;height:100%}.all .el-card .rule[data-v-a82eeba5]{border-top:1px solid #bbb;padding:24px 0}.all .el-card .rule p[data-v-a82eeba5]{font-size:14px;width:100%;padding-right:66px;margin-bottom:16px;text-align:right;color:#101010}.all .el-card .rule p[data-v-a82eeba5]:last-child{margin-bottom:0}.all .el-card .rule p span[data-v-a82eeba5]{font-weight:500!important;margin-left:66px;float:left;text-align:justify;text-align-last:justify;text-justify:inter-word;display:block;width:70px;height:20px;color:#a7a7a7}.text[data-v-14cbf4cc]{width:87px;height:24px;line-height:24px;color:#e31436;margin:4px 0 6px;cursor:pointer;border:1px solid #e31436}
`,document.head.appendChild(w);const D=l=>i.http.get({url:`addon-team/team/activity/order/summary?teamNo=${l}`}),v=l=>i.http.get({url:`addon-team/team/activity/order/users?size=300&teamNo=${l}`}),C={key:0},G={key:1,style:{height:"93px","font-size":"16px","line-height":"93px",color:"#de3224","padding-left":"70px"}},j={key:2,style:{height:"93px","font-size":"16px","line-height":"93px",color:"#de3224"}},M={class:"photo"},O={class:"user-img"},F=["src"],P={class:"rule"},L={style:{display:"inline-block",width:"300px","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},I=e.defineComponent({__name:"PcMyTeam",props:{isShow:{type:Boolean,default:!1},teamNo:{type:Object,required:!0},records:{type:Object,required:!0}},emits:["isShowFalse"],setup(l,{emit:c}){var x,E,V,S;const a=l,s=c,d=()=>{s("isShowFalse",!1)},b=e.computed(()=>{var r,t,N,g,u,h;return(r=a.teamNo)!=null&&r.totalNum&&((N=(t=a.records)==null?void 0:t.records)!=null&&N.length)&&((g=a.teamNo)==null?void 0:g.totalNum)-((h=(u=a.records)==null?void 0:u.records)==null?void 0:h.length)||0}),p=e.ref(new Date((x=a.teamNo)==null?void 0:x.openTime).getTime()+Number((E=a.teamNo)==null?void 0:E.effectTimeout)*60*1e3||new Date),m=e.ref(new Date((V=a.teamNo)==null?void 0:V.openTime).getTime()+Number((S=a.teamNo)==null?void 0:S.effectTimeout)*60*1e3||new Date),o=e.ref(new Date().getTime()),n=e.computed(()=>{if(p.value.toString()<o.value.toString())return"00";let r=+m.value-o.value;return r<0?"00":Math.floor(r%(1e3*60*60*24)/(1e3*60*60)).toString().padStart(2,"0")}),y=e.computed(()=>{if(p.value.toString()<o.value.toString())return"00";let r=+m.value-o.value;return r<0?"00":Math.floor(r%(1e3*60*60)/(1e3*60)).toString().padStart(2,"0")}),f=e.computed(()=>{if(p.value.toString()<o.value.toString())return"00";let r=+m.value-o.value;return r<0?"00":Math.floor(r%(1e3*60)/1e3).toString().padStart(2,"0")});return e.onMounted(()=>{setInterval(()=>{o.value=new Date().getTime()},1e3)}),(r,t)=>{const N=e.resolveComponent("el-card");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(a.isShow===!0?"all xianshi":"all")},[e.createVNode(N,{class:"el-card"},{default:e.withCtx(()=>{var g,u,h,_,B,T;return[e.createElementVNode("div",{class:"title"},[t[1]||(t[1]=e.createElementVNode("span",null,"我的拼团",-1)),e.createElementVNode("i",{onClick:d},t[0]||(t[0]=[e.createElementVNode("svg",{t:"1686211043354",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"8090",width:"24",height:"24"},[e.createElementVNode("path",{d:"M576 512l277.333 277.333-64 64L512 576 234.667 853.333l-64-64L448 512 170.667 234.667l64-64L512 448l277.333-277.333 64 64L576 512z",fill:"#101010","p-id":"8091"})],-1)]))]),((g=a.teamNo)==null?void 0:g.status)==="ING"?(e.openBlock(),e.createElementBlock("div",C,[t[5]||(t[5]=e.createElementVNode("div",{class:"line"},[e.createElementVNode("i"),e.createElementVNode("em",null,"邀请好友参团"),e.createElementVNode("i")],-1)),e.createElementVNode("p",null,[t[2]||(t[2]=e.createTextVNode(" 仅剩")),e.createElementVNode("i",null,e.toDisplayString(((u=a.teamNo)==null?void 0:u.totalNum)-a.teamNo.currentNum||0)+"个",1),t[3]||(t[3]=e.createTextVNode("名额")),e.createElementVNode("i",null,e.toDisplayString(n.value)+":"+e.toDisplayString(y.value)+":"+e.toDisplayString(f.value),1),t[4]||(t[4]=e.createTextVNode("后结束 "))])])):((h=a.teamNo)==null?void 0:h.status)==="FAIL"?(e.openBlock(),e.createElementBlock("div",G," 真可惜拼团未能成功！！！ ")):((_=a.teamNo)==null?void 0:_.status)==="SUCCESS"?(e.openBlock(),e.createElementBlock("div",j," 拼团成功！！！ ")):e.createCommentVNode("",!0),e.createElementVNode("div",M,[e.createElementVNode("div",O,[t[6]||(t[6]=e.createElementVNode("i",null,"团长",-1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList((B=a.records)==null?void 0:B.records,(z,$)=>(e.openBlock(),e.createElementBlock("span",{key:$},[e.createElementVNode("img",{src:a.teamNo.commanderAvatar,alt:""},null,8,F)]))),128))]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(b.value,z=>(e.openBlock(),e.createElementBlock("div",{key:z,style:{"margin-left":"20px"}},t[7]||(t[7]=[e.createElementVNode("div",{class:"user-imgs"},[e.createElementVNode("em",{style:{"font-size":"20px"}},"+")],-1)])))),128))]),e.createElementVNode("div",P,[e.createElementVNode("p",null,[t[8]||(t[8]=e.createElementVNode("span",null,"商品名称：",-1)),e.createElementVNode("em",L,e.toDisplayString((T=a.teamNo)==null?void 0:T.productName),1)]),t[9]||(t[9]=e.createElementVNode("p",null,[e.createElementVNode("span",null,"拼团规则："),e.createTextVNode("参团人数不足，系统自动退款")],-1))])]}),_:1})],2)}}}),A="",H="",k=(l,c)=>{const a=l.__vccOpts||l;for(const[s,d]of c)a[s]=d;return a},q=k(I,[["__scopeId","data-v-a82eeba5"]]),U=e.defineComponent({__name:"PcGroupOrder",props:{properties:{type:Object,default:()=>{}}},setup(l){const c=l;e.reactive({current:1,size:10});const a=e.ref(!1),s=e.ref(0),d=e.ref(),b=e.ref(),p=async o=>{const n=await D(o);n.code===200&&(d.value=n.data,a.value=!0);const{data:y,code:f}=await v(o);b.value=y,s.value=Date.now()},m=o=>{a.value=o};return(o,n)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{class:"text",onClick:n[0]||(n[0]=y=>{var f,x;return p((x=(f=c.properties)==null?void 0:f.order)==null?void 0:x.extra.teamNo)})},"我的拼团"),a.value?(e.openBlock(),e.createBlock(q,{key:s.value,"is-show":a.value,"team-no":d.value,records:b.value,onIsShowFalse:m},null,8,["is-show","team-no","records"])):e.createCommentVNode("",!0)],64))}}),K="";return k(U,[["__scopeId","data-v-14cbf4cc"]])});
