(function(e,s){typeof exports=="object"&&typeof module<"u"?module.exports=s(require("vue"),require("vue-router"),require("element-plus"),require("@/apis/http"),require("@/components/BetterPageManage/BetterPageManage.vue"),require("@/components/SchemaForm.vue"),require("@/components/element-plus/el-table/ElTableEmpty/index.vue")):typeof define=="function"&&define.amd?define(["vue","vue-router","element-plus","@/apis/http","@/components/BetterPageManage/BetterPageManage.vue","@/components/SchemaForm.vue","@/components/element-plus/el-table/ElTableEmpty/index.vue"],s):(e=typeof globalThis<"u"?globalThis:e||self,e.PlatformStoreList=s(e.PlatformStoreListContext.Vue,e.PlatformStoreListContext.VueRouter,e.PlatformStoreListContext.ElementPlus,e.PlatformStoreListContext.Request,e.PlatformStoreListContext.PageManage,e.PlatformStoreListContext.SchemaForm,e.PlatformStoreListContext.ElTableEmpty))})(this,function(e,s,f,g,y,x,C){"use strict";var u=document.createElement("style");u.textContent=`@charset "UTF-8";[data-v-63e69889]{color:#333}.button[data-v-63e69889]{margin:15px 0 20px}.ellipsis[data-v-63e69889]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;white-space:normal}
`,document.head.appendChild(u);const S=i=>g.get({url:"addon-shop-store/store/list",params:i}),N={class:"q_plugin_container"},b={class:"table_container"},P={class:"ellipsis",style:{width:"220px"}},V={class:"ellipsis"},w=["onClick"],E=e.defineComponent({__name:"PlatformStoreList",setup(i){const m=s.useRouter(),c=e.ref(!1),d=e.ref([]),n=e.ref({shopName:"",storeName:"",status:""}),a=e.reactive({size:20,current:1,total:0}),L=[{label:"店铺名称",labelWidth:75,prop:"shopName",valueType:"copy",fieldProps:{placeholder:"请填写店铺名称",maxlength:20}},{label:"门店名称",labelWidth:90,prop:"storeName",valueType:"copy",fieldProps:{placeholder:"请填写门店名称",maxlength:20}},{label:"状态",labelWidth:45,prop:"status",valueType:"select",options:[{value:"",label:"全部"},{value:"NORMAL",label:"已启用"},{value:"SHOP_FORBIDDEN",label:"已禁用"}],fieldProps:{placeholder:"请选择"}}];p();async function p(){const{code:o,data:l}=await S({...a,...n.value});o===200&&l?(d.value=l.records,a.total=l.total):f.ElMessage.error("获取列表失败")}const k=(o,l,h)=>{m.push({path:"/store/AddStore",query:{shopId:o,id:l,lookType:h}})},D=o=>{a.size=o,p()},B=o=>{a.current=o,p()},_=()=>{a.current=1,p()},F=()=>{Object.keys(n.value).forEach(o=>n.value[o]=""),_()};return(o,l)=>{const h=e.resolveComponent("el-config-provider"),r=e.resolveComponent("el-table-column"),O=e.resolveComponent("el-table");return e.openBlock(),e.createElementBlock("div",N,[e.createVNode(h,{"empty-values":[void 0,null]},{default:e.withCtx(()=>[c.value?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(x,{key:0,modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=t=>n.value=t),columns:L,onSearchHandle:_,onHandleReset:F},null,8,["modelValue"]))]),_:1}),l[1]||(l[1]=e.createElementVNode("div",{class:"grey_bar"},null,-1)),e.createElementVNode("div",b,[e.createVNode(O,{data:d.value,"header-cell-style":{"background-color":"#F7F8FA","font-weight":"bold",color:"#333",height:"48px"},"row-style":{height:"80px"},style:{width:"100%"}},{empty:e.withCtx(()=>[e.createVNode(C)]),default:e.withCtx(()=>[e.createVNode(r,{label:"门店名称",width:"300"},{default:e.withCtx(({row:t})=>[e.createElementVNode("div",P,e.toDisplayString(t.storeName),1)]),_:1}),e.createVNode(r,{label:"负责人姓名",width:"180"},{default:e.withCtx(({row:t})=>[e.createElementVNode("div",null,e.toDisplayString(t.functionaryName),1)]),_:1}),e.createVNode(r,{label:"手机号",width:"180"},{default:e.withCtx(({row:t})=>[e.createElementVNode("div",null,e.toDisplayString(t.functionaryPhone),1)]),_:1}),e.createVNode(r,{label:"店铺名称"},{default:e.withCtx(({row:t})=>[e.createElementVNode("div",V,e.toDisplayString(t.shopName),1)]),_:1}),e.createVNode(r,{label:"门店状态",width:"150"},{default:e.withCtx(({row:t})=>[e.createElementVNode("div",{style:e.normalizeStyle({color:t.status==="SHOP_FORBIDDEN"?"#999":"#333"})},e.toDisplayString(t.status==="NORMAL"?"已启用":t.status==="SHOP_FORBIDDEN"?"已禁用":"平台禁用"),5)]),_:1}),e.createVNode(r,{align:"right",label:"操作",width:"70",fixed:"right"},{default:e.withCtx(({row:t})=>[e.createElementVNode("span",{style:{color:"#555cfd",cursor:"pointer"},onClick:R=>k(t.shopId,t.id,"OnlyLook")},"查看",8,w)]),_:1})]),_:1},8,["data"])]),e.createVNode(y,{"page-num":a.current,"page-size":a.size,total:a.total,class:"pagination",onHandleSizeChange:D,onHandleCurrentChange:B},null,8,["page-num","page-size","total"])])}}}),q="";return((i,m)=>{const c=i.__vccOpts||i;for(const[d,n]of m)c[d]=n;return c})(E,[["__scopeId","data-v-63e69889"]])});
