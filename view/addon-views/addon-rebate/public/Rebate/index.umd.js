(function(e,R){typeof exports=="object"&&typeof module<"u"?module.exports=R(require("vue"),require("@/components/chrome-tab/index.vue"),require("@/components/SchemaForm.vue"),require("@vueuse/core"),require("lodash-es"),require("@element-plus/icons-vue"),require("@/components/PageManage.vue"),require("@/utils/date"),require("@/components/remark/remark-popup.vue"),require("decimal.js"),require("@/composables/useConvert"),require("@/components/element-plus/el-table/ElTableEmpty/index.vue"),require("@/components/q-icon/q-icon.vue"),require("element-plus"),require("@/apis/http")):typeof define=="function"&&define.amd?define(["vue","@/components/chrome-tab/index.vue","@/components/SchemaForm.vue","@vueuse/core","lodash-es","@element-plus/icons-vue","@/components/PageManage.vue","@/utils/date","@/components/remark/remark-popup.vue","decimal.js","@/composables/useConvert","@/components/element-plus/el-table/ElTableEmpty/index.vue","@/components/q-icon/q-icon.vue","element-plus","@/apis/http"],R):(e=typeof globalThis<"u"?globalThis:e||self,e.Rebate=R(e.RebateContext.Vue,e.RebateContext.ChromeTab,e.RebateContext.SchemaForm,e.RebateContext.VueUse,e.RebateContext.Lodash,e.RebateContext.ElementPlusIconsVue,e.RebateContext.PageManageTwo,e.RebateContext.DateUtil,e.RebateContext.RemarkPopup,e.RebateContext.Decimal,e.RebateContext.UseConvert,e.RebateContext.ElTableEmpty,e.RebateContext.QIcon,e.RebateContext.ElementPlus,e.RebateContext.Request))})(this,function(e,R,pe,me,be,Q,fe,_e,he,ge,W,xe,K,M,L){"use strict";var v=document.createElement("style");v.textContent=`@charset "UTF-8";.o_table{table-layout:fixed;border-collapse:separate;font-size:14px;color:#333;width:100%}.o_table .o_table--head{position:sticky;top:0;z-index:999}.o_table .hide{display:none}.o_table--container{background:white;position:relative;border-right:16px solid transparent;border-left:16px solid transparent;height:100%;width:100%;flex:1;overflow-y:scroll}.o_table--container.single{background:none}.o_table--container.single .o_table--head th:first-child{border-radius:10px 0 0}.o_table--container.single .o_table--head th:last-child{border-radius:0 10px 0 0}.o_table--container.single .o_table--head:after{display:none}.o_table--shrink{flex:1}.o_table--center{display:flex;align-items:center;position:sticky;left:0}.o_table--center:after{content:"";bottom:-1px;overflow-x:hidden;overflow-y:hidden;pointer-events:none;position:absolute;top:0;right:-10px;touch-action:none;width:10px;box-shadow:inset 10px 0 10px -10px #00000026}.o_table--center .el-checkbox{padding-right:18px}.o_table .close{background:#f5f5f5!important}.o_table .hover--class:hover .body--header{border-color:#bebebe!important;position:relative}.o_table .hover--class:hover .body--content td,.o_table .hover--class:hover .body--content td:first-child{border-color:#bebebe!important}.o_table .hover--class:hover .body--content td:last-child{border-color:#bebebe!important}.o_table .ordinary--class:hover .body--header,.o_table .ordinary--class:hover .body--content td{border-color:#bcdfff}.o_table .ordinary--class:hover .body--content td:last-child{border-color:#bcdfff}.o_table .need--border .body--content td{border-right:1px solid #bcdfff}.o_table .need--border .body--content td:last-child{border-color:#bcdfff}.o_table--empty .empty__td{width:960px;height:80px;background-color:#fff;margin-left:-15px;font-size:14px;color:#b3b3b3}.o_table--head th{background:#f7f8fa;padding:10px;text-align:left;color:#000;font-weight:200;border-top:1px solid #f7f8fa;border-bottom:1px solid #f7f8fa;height:50px;vertical-align:middle;font-size:14px;font-weight:550;white-space:nowrap}.o_table--head th.align--center{text-align:center!important}.o_table--head th.align--right{text-align:right!important}.o_table--head th:first-child{border-left:1px solid #f7f8fa;padding-left:16px}.o_table--head th:last-child{border-right:1px solid #f7f8fa;text-align:right;padding-right:16px}.o_table--head:after{content:"-";display:block;line-height:8px;color:transparent}.o_table--head.padding:after{content:"-";display:block;color:transparent}.o_table--body .body--header{display:flex;justify-content:flex-start;font-size:13px;height:52px;vertical-align:middle;background:#f7f8fa;position:relative;align-items:center}.o_table--body .body--header .remark_flag{position:sticky;right:0;background:#f7f8fa;padding-left:5px}.o_table--body .body--header .header--checkbox{position:sticky;left:0;height:100%;background:#f7f8fa;padding-right:18px;padding-left:18px}.o_table--body.default .body--content .o_table--item:first-child{border-radius:0}.o_table--body.default .body--content .o_table--item:last-child{border-radius:0}.o_table--body.default .o_table--item{vertical-align:middle}.o_table--body .body--content td{padding:12px 13px;border-top:0px;border-right:0px;font-size:12px;color:#50596d;background:#fff;vertical-align:middle}.o_table--body .body--content td .item__content{display:flex;justify-content:flex-start;align-items:center}.o_table--body .body--content td .selection__checkbox{display:inline-block;width:100%;height:100%}.o_table--body .body--content td .selection__checkbox.selection{display:flex;justify-content:flex-start;align-items:center}.o_table--body .body--content td:first-child{padding-left:18px}.o_table--body .body--content.is--multiple td:first-child{border-right:1px solid #f7f8fa!important}.o_table .fixed--right{position:sticky;right:0;z-index:1}.o_table .fixed--right:before{position:absolute;left:-10px;bottom:-1px;content:"";overflow-x:hidden;overflow-y:hidden;pointer-events:none;top:0;touch-action:none;width:10px;box-shadow:none}.is-scrolling--left .fixed--right:before{box-shadow:inset -10px 0 10px -10px #00000026}.is-scrolling--left .o_table--center:after{box-shadow:none!important}.is-scrolling--middle .fixed--right:before{box-shadow:inset -10px 0 10px -10px #00000026}.is-scrolling--middle .o_table--center:after{box-shadow:inset 10px 0 10px -10px #00000026}.is-scrolling--right .fixed--right:before{box-shadow:none}.is-scrolling--right .o_table--center:after{box-shadow:inset 10px 0 10px -10px #00000026}.is-scrolling--none .fixed--right:before,.is-scrolling--none .o_table--center:after{box-shadow:none}.rebate-data[data-v-cdfac818]{padding:16px 0;display:flex;justify-content:center;align-items:center;justify-content:space-between}.rebate-data__left[data-v-cdfac818]{display:flex;justify-content:center;align-items:center}.rebate-data__item[data-v-cdfac818]{color:#333;margin-right:50px;display:flex;justify-content:center;align-items:center}.rebate-data__item--price[data-v-cdfac818]{font-size:16px;font-weight:700}.rebate-data__item--price[data-v-cdfac818]:before{content:"ï¿¥";font-size:12px}.description__content[data-v-ee44e65c]{margin-bottom:15px;line-height:22px;color:#000}[data-v-1c469c25]{font-size:14px}.goods__content[data-v-1c469c25]{display:flex;justify-content:center;align-items:center}.shop-name[data-v-1c469c25]{width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.orderIndex-table[data-v-1c469c25]{position:relative;overflow-x:auto;transition:height .5s}.orderIndex-table__top[data-v-1c469c25]{display:flex;justify-content:space-between;align-items:center;width:100%}.orderIndex-table__top-time[data-v-1c469c25]{display:flex;justify-content:center;align-items:center}.orderIndex-table__top-time>div[data-v-1c469c25]:nth-child(2){padding:0 60px}.orderIndex-table__commodity[data-v-1c469c25]{width:100%;display:flex;height:92px}.orderIndex-table__img-box[data-v-1c469c25]{width:320px;display:flex;align-items:center;font-size:14px;justify-content:space-between}.orderIndex-table__img[data-v-1c469c25]{flex-shrink:0;border-radius:5px;position:relative}.orderIndex-table__img-mask[data-v-1c469c25]{display:flex;flex-direction:column;justify-content:space-around;align-items:end;font-size:12px;color:#666;margin-left:20px}.caozuo_btn[data-v-1c469c25]:hover{color:#fff;background:#309af3!important}.money_text[data-v-1c469c25]{font-size:12px;color:#000;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.avatar_text[data-v-1c469c25]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.avatar_text__bottom[data-v-1c469c25]{margin-bottom:5px}.el-icon--right-top[data-v-1c469c25]{margin-left:5px}.el-icon--right[data-v-1c469c25]{top:10px;position:absolute;left:-20px;opacity:0}.header-table[data-v-1c469c25]{width:100%;display:flex;justify-content:"";align-items:"center"}.header-table span[data-v-1c469c25]:after{content:"|";margin:0 10px;color:#999}.header-table span[data-v-1c469c25]:last-child:after{content:"";margin:0}.order-info[data-v-1c469c25]{flex:1;display:flex;flex-direction:column;justify-content:space-around;height:68px;margin:0 8px;word-break:break-all;line-height:1.5;overflow:hidden;width:0}.order-info__name[data-v-1c469c25]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;line-height:18px;color:#333}.order-info__spec[data-v-1c469c25]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:#999}.customer[data-v-1c469c25]{text-align:left;width:100%;line-height:1.3}.customer__copy[data-v-1c469c25]{text-align:right;margin-bottom:8px}.copy[data-v-1c469c25]{color:#1890ff;margin-left:8px;cursor:pointer}.example-showcase .el-dropdown-link[data-v-1c469c25]{cursor:pointer;color:var(--el-color-primary);display:flex;align-items:center}.el-popper.is-customized[data-v-1c469c25]{padding:6px 12px;background:linear-gradient(90deg,rgb(159,229,151),rgb(204,229,129))}.el-popper.is-customized .el-popper__arrow[data-v-1c469c25]:before{background:linear-gradient(45deg,#b2e68d,#bce689);right:0}.description__content[data-v-a7e22313]{margin-bottom:15px;line-height:16px;color:#000}.goods-tables[data-v-a7e22313]{width:100%;border-collapse:separate;border-spacing:0;font-size:14px;border:1px solid #ebeef5;border-radius:2px;margin-top:10px;border-right:none}.goods-tables th[data-v-a7e22313],.goods-tables td[data-v-a7e22313]{padding:8px 12px;text-align:left;vertical-align:center;border-right:1px solid #ebeef5;border-bottom:1px solid #ebeef5}.goods-tables tr:last-child td[data-v-a7e22313]{border-bottom:none}.headers[data-v-a7e22313]{background-color:#bebebe}.headers th[data-v-a7e22313]{font-weight:700;color:#333}.type-cell[data-v-a7e22313]{width:100px}.trade-cell[data-v-a7e22313]{width:140px}.trade-cell div[data-v-a7e22313]{line-height:1.8}.rebate-cell[data-v-a7e22313]{width:110px;text-align:center!important}.desc-cell[data-v-a7e22313]{min-width:400px}.submit[data-v-02ff377e]{margin-top:auto;width:100%;height:55px;text-align:center;align-content:center;box-shadow:0 -3px 8px #0000001a}
`,document.head.appendChild(v);const ue={class:"fdc1 overh"},ye=e.defineComponent({__name:"Rebate",setup(a){const o=[{label:"æ¶è´¹è¿å©è®¢å",name:"REBATE_ORDER"},{label:"æ¶è´¹è¿å©è®¾ç½®",name:"REBATE_SET"}],d=e.ref("REBATE_ORDER"),i={REBATE_ORDER:e.defineAsyncComponent(()=>Promise.resolve().then(()=>ft)),REBATE_SET:e.defineAsyncComponent(()=>Promise.resolve().then(()=>St))},r=h=>{h&&(d.value=h)};return(h,l)=>(e.openBlock(),e.createElementBlock("div",ue,[e.createVNode(R,{"tab-list":o,value:d.value,onHandleTabs:r},null,8,["value"]),(e.openBlock(),e.createBlock(e.resolveDynamicComponent(i[d.value])))]))}}),Ne=e.defineComponent({__name:"search",props:{searchForm:{type:Object,default:()=>({orderNo:"",productName:"",shopName:"",buyerNickname:"",clinchTime:"",orderCreateTime:"",orderEndTime:""})}},emits:["getSearchParams","update:searchForm","handleExport"],setup(a,{emit:o}){const d=a,i=o,r=me.useVModel(d,"searchForm",i),h=[{label:"è®¢åå·",prop:"orderNo",valueType:"copy",fieldProps:{placeholder:"è¯·å¡«åè®¢åå·",maxlength:21}},{label:"åååç§°",prop:"productName",valueType:"copy",fieldProps:{placeholder:"è¯·å¡«ååååç§°",maxlength:20}},{label:"åºéºåç§°",prop:"shopName",valueType:"copy",fieldProps:{placeholder:"è¯·å¡«ååºéºåç§°",maxlength:20}},{label:"ä¹°å®¶æµç§°",prop:"buyerNickname",valueType:"copy",fieldProps:{placeholder:"è¯·å¡«åä¹°å®¶æµç§°",maxlength:20}},{label:"ä¸åæ¶é´",prop:"clinchTime",valueType:"date-picker",fieldProps:{type:"daterange",startPlaceholder:"å¼å§æ¶é´",endPlaceholder:"ç»ææ¶é´",format:"YYYY/MM/DD",valueFormat:"YYYY-MM-DD",onChange:c=>{c&&Array.isArray(c)?(r.value.orderCreateTime=c[0],r.value.orderEndTime=c[1]):(r.value.orderCreateTime="",r.value.orderEndTime="")}}}],l=()=>{i("getSearchParams",r)},m=()=>{r.value={orderNo:"",productName:"",shopName:"",buyerNickname:"",clinchTime:"",orderCreateTime:"",orderEndTime:""},l()};return(c,u)=>{const b=e.resolveComponent("el-button");return e.openBlock(),e.createElementBlock("div",null,[e.createVNode(pe,{modelValue:e.unref(r),"onUpdate:modelValue":u[1]||(u[1]=s=>e.isRef(r)?r.value=s:null),columns:h,onSearchHandle:l,onHandleReset:m},{otherOperations:e.withCtx(()=>[e.createVNode(b,{type:"primary",onClick:u[0]||(u[0]=s=>i("handleExport"))},{default:e.withCtx(()=>u[2]||(u[2]=[e.createTextVNode("å¯¼åº")])),_:1})]),_:1},8,["modelValue"])])}}}),ke=()=>({data:{type:Array,default(){return[]}},selection:{type:Boolean,default:!1},custom:{type:Boolean,default:!1},needBorder:{type:Boolean,default:!1},columns:{type:Array,default(){return[]}},tableHeaderClass:{type:String,default:""},rowHeaderClass:{type:String,default:""},needHoverBorder:{type:Boolean,default:!1},multipleKey:{type:String,default:""},headerSelection:{type:Boolean,default:!1}}),Ve=e.defineComponent({props:ke(),emits:["check"],setup(a,{slots:o,emit:d}){const i=e.ref([]),r=e.computed({get:()=>!!(l.value.length&&l.value.every(n=>n.checked)),set:n=>{b(n),d("check",s())}}),h=e.computed(()=>{const n=l.value.filter(f=>f.checked).length;return n!==0&&n!==l.value.length}),l=e.computed(()=>{const n=i.value;return n?m(n):[]}),m=n=>n?(n.forEach(f=>{const N=f,T=N.rebateOrderItems;N.packageMap=T.reduce((V,k)=>{var x;const _=`${k.productId}-${k.skuId}`;return V.has(_)?(x=V.get(_))==null||x.push(k):V.set(_,[k]),V},new Map)}),n):[];e.watch(a,n=>{i.value=n.data},{immediate:!0});const c=(n,f)=>{Object.assign(n.props?n.props:{},f)},u=(n=!1,f)=>{Object.assign(l.value[f],{checked:n}),d("check",s())};function b(n){l.value=l.value.map(f=>(f.checked=n,f))}function s(){return l.value.filter(n=>n.checked)}const E=(n,f)=>{const N=[],T=n.packageMap;let V=!0;return T.forEach((k,_)=>{N.push(e.createVNode("tr",{class:"body--content"},[o.default&&o.default().map((x,z)=>{var w,Y;c(x,{row:n,packageId:_,shopOrderItems:k});const D=(w=x.props)==null?void 0:w["is-mixed"];return D&&V||!D?e.createVNode("td",{class:["o_table--item",!x&&"hide",((Y=x==null?void 0:x.props)==null?void 0:Y.fixed)==="right"?"fixed--right":""],rowspan:D?T.size:void 0},[e.createVNode("div",{class:["selection__checkbox",a.selection&&z===0&&"selection"]},[e.createVNode("div",{class:["o_table--shrink"]},[x])])]):null})])),V=!1}),N};return()=>e.createVNode("table",{class:["o_table"],cellpadding:"0",cellspacing:"0"},[e.createVNode("colgroup",null,[a.columns.map(n=>e.createVNode("col",{width:n.width},null))]),e.createVNode("thead",{class:["o_table--head",a.tableHeaderClass,o.header&&"padding"]},[e.createVNode("tr",{class:"m__tr"},[a.columns.map((n,f)=>e.createVNode("th",{style:n.customStyle,class:[...f===0&&(a.selection||a.headerSelection)?["o_table--center"]:[],n.fixed==="right"?"fixed--right":"",n.align?`align--${n.align}`:""]},[f===0&&(a.selection||a.headerSelection)&&e.createVNode(e.resolveComponent("el-checkbox"),{indeterminate:h.value,modelValue:r.value,"onUpdate:modelValue":N=>r.value=N,onChange:b.bind(this,r.value)},null),e.createVNode("div",{class:["o_table--shrink"]},[n.label])]))])]),l.value.length?l.value.map((n,f)=>e.createVNode("tbody",{class:["o_table--body",a.custom?"custom":"default",a.needBorder&&"need--border",a.needHoverBorder&&n.close?"hover--class":"ordinary--class"]},[o.header&&e.createVNode("tr",null,[e.createVNode("td",{colspan:a.columns.length},[e.createVNode("div",{class:["body--header",a.rowHeaderClass,{close:n.close}]},[a.headerSelection&&e.createVNode(e.resolveComponent("el-checkbox"),{class:"header--checkbox",modelValue:n.checked,"onUpdate:modelValue":N=>n.checked=N,onChange:u.bind(this,n.checked,f)},null),o.header({row:n,index:f})])])]),E(n)])):e.createVNode("tbody",{class:"o_table--empty"},[e.createVNode("tr",null,[o.noData?e.createVNode("td",{class:"empty__td",colspan:a.columns.length,align:"center"},[o.noData()]):e.createVNode("td",{class:"empty__td",colspan:a.columns.length,align:"center"},[e.createTextVNode("ææ æ°æ®~")])])])])}}),qt="",we=()=>({data:{type:Array,default(){return[]}},selection:{type:Boolean,default:!1},custom:{type:Boolean,default:!1},needBorder:{type:Boolean,default:!1},columns:{type:Array,default(){return[]}},tableHeaderClass:{type:String,default:""},rowHeaderClass:{type:String,default:""},needHoverBorder:{type:Boolean,default:!1},multipleKey:{type:String,default:""},headerSelection:{type:Boolean,default:!1}}),Ce=e.defineComponent({props:we(),emits:["update:checkedItem"],setup(a,{slots:o,emit:d}){const i=e.ref(),r=e.ref(),h=e.ref(null),l=e.ref("left");e.nextTick(()=>{var b;h.value.scrollWidth<=h.value.clientWidth&&(l.value="none"),(b=h.value)==null||b.addEventListener("scroll",s=>{const{scrollLeft:E,clientWidth:n,scrollWidth:f}=s.target;f>n?(E===0&&(l.value="left"),Math.ceil(E+n)>=f?l.value="right":l.value="middle"):l.value="none"})});const m=()=>a.columns.length>0&&a.columns||o.default&&o.default().map(b=>{const s=b.props;return{...s,isMixed:(s==null?void 0:s.isMixed)||!1}}),c=b=>{d("update:checkedItem",b)},u=()=>{const b={default:()=>o.default&&o.default()};if(!o.default&&!a.columns.length&&!o.custom)throw new Error("è¯·ä¼ å¥MTableColumn");return o.header&&(b.header=s=>o.header(s)),o.noData&&(b.noData=()=>o.noData()),b};return e.watch(a,b=>{r.value=be.cloneDeep(b.data),b.autoTop&&e.nextTick(()=>{h.value&&(h.value.scrollTop=0)})},{immediate:!0}),()=>e.createVNode("div",{class:["o_table--container",`is-scrolling--${l.value}`],ref:h},[e.createVNode(Ve,{onCheck:c,columns:m(),data:r.value,custom:a.custom,selection:a.selection,tableHeaderClass:a.tableHeaderClass,rowHeaderClass:a.rowHeaderClass,needHoverBorder:a.needHoverBorder,multipleKey:a.multipleKey,needBorder:a.needBorder,ref:i,headerSelection:a.headerSelection},u())])}}),A=e.defineComponent({__name:"split-table-column",props:{prop:{type:String,default:""},align:{type:String,default:"center"},row:{type:Object,default(){return{}}},packageId:{type:String,default(){}},shopOrderItems:{type:Object,default(){return[]}}},setup(a){const o=a,d=i=>{switch(i){case"left":return"flex-start";case"right":return"flex-end";default:return"center"}};return(i,r)=>(e.openBlock(),e.createElementBlock("div",{class:"item__content",style:e.normalizeStyle({justifyContent:d(o.align)})},[e.renderSlot(i.$slots,"default",{row:o.row,shopOrderItems:o.shopOrderItems})],4))}}),Ee=()=>L.get({url:"addon-rebate/rebateConf"}),Te=a=>L.put({url:"addon-rebate/rebateConf",data:a}),Se=a=>L.get({url:"addon-rebate/rebateOrder",params:a}),Be=a=>L.post({url:"addon-rebate/rebateOrder/export",data:a});var F=(a=>(a.UNPAID="å¾ä»æ¬¾",a.PAID="å·²ä»æ¬¾",a.COMPLETED="å·²å®æ",a.CLOSED="å·²å³é­",a))(F||{});const De={class:"rebate-data"},Pe={class:"rebate-data__left"},Re={class:"rebate-data__item"},Me={class:"rebate-data__item--price"},Ae={class:"rebate-data__item"},$e={class:"rebate-data__item--price",style:{color:"red","font-weight":"bold"}},ze={class:"rebate-data__item"},je={class:"rebate-data__item--price",style:{color:"#999","font-weight":"bold"}},Ue=e.defineComponent({__name:"rebate-data",props:{rebateDetailStatistic:{default:()=>({totalExpired:"",totalPendingSettlement:"",totalRebate:""})}},setup(a){const{divTenThousand:o}=W(),d=a;return(i,r)=>(e.openBlock(),e.createElementBlock("div",De,[e.createElementVNode("div",Pe,[e.createElementVNode("div",Re,[r[0]||(r[0]=e.createElementVNode("p",null,"ç´¯è®¡æ»è¿å©ï¼",-1)),e.createElementVNode("span",Me,e.toDisplayString(e.unref(o)(d.rebateDetailStatistic.totalRebate)),1)]),e.createElementVNode("div",Ae,[r[1]||(r[1]=e.createElementVNode("p",null,"å¾ç»ç®æ»è¿å©ï¼",-1)),e.createElementVNode("span",$e,e.toDisplayString(e.unref(o)(d.rebateDetailStatistic.totalPendingSettlement)),1)]),e.createElementVNode("div",ze,[r[2]||(r[2]=e.createElementVNode("p",null,"å·²å¤±ææ»è¿å©ï¼",-1)),e.createElementVNode("span",je,e.toDisplayString(e.unref(o)(d.rebateDetailStatistic.totalExpired)),1)])])]))}}),Yt="",$=(a,o)=>{const d=a.__vccOpts||a;for(const[i,r]of o)d[i]=r;return d},Le=$(Ue,[["__scopeId","data-v-cdfac818"]]),Fe={class:"description"},He=e.defineComponent({__name:"describe-dialog",setup(a){const o=[{settlementStatus:"å¾ç»ç®",description:"æ¯æè®¢åå¤äºãå¾åè´§ãå¾æ¶è´§ãå¾è¯ä»·ãç¶æï¼æªè¿è¡è¿å©ç»ç®"},{settlementStatus:"å·²è¿",description:"ååæªåçéæ¬¾æéæ¬¾å¤±è´¥"},{settlementStatus:"å·²å¤±æ",description:"å éæ¬¾ æ æ¯ä»å¤±è´¥ å¯¼è´æ¶è´¹è¿å©ä½£éå¤±æ"}];return(d,i)=>{const r=e.resolveComponent("ElTableEmpty"),h=e.resolveComponent("el-table-column"),l=e.resolveComponent("el-table");return e.openBlock(),e.createElementBlock("div",Fe,[i[0]||(i[0]=e.createElementVNode("div",{class:"description__content"},[e.createTextVNode(" 1ãè´­ä¹°ç§¯åååæ æ³ä½¿ç¨è¿å©æ¯ä»ï¼ä¹æ æ³è·å¾æ¶è´¹è¿å©"),e.createElementVNode("br"),e.createTextVNode(" 2ãå¼å¯æ¶è´¹è¿å©å³çæè¿å©è®¢åï¼æ¶è´¹è¿å©éé¢ä»¥ååä¸ºåä½è®¡ç®"),e.createElementVNode("br"),e.createTextVNode(" 3ãè¿å©ä½£éè®¡ç®ï¼ååè¿å©éé¢ = å¹³å°æå¡è´¹ Ã ä¼åç­çº§å¯¹åºçè¿å©ç¾åæ¯ ")],-1)),e.createVNode(l,{data:o,border:"","header-cell-style":{"background-color":"#BEBEBE","font-weight":"normal",color:"#000",fontWeight:"bold"},"cell-style":{color:"#666"}},{empty:e.withCtx(()=>[e.createVNode(r)]),default:e.withCtx(()=>[e.createVNode(h,{prop:"settlementStatus",label:"ç»ç®ç¶æ",width:"180"}),e.createVNode(h,{prop:"description",label:"è¯´æ"})]),_:1})])}}}),Gt="",qe=$(He,[["__scopeId","data-v-ee44e65c"]]),Ye={class:"fdc1 overh"},Ge={class:"tab_container",style:{position:"relative"}},We={class:"header-table"},Ke={style:{"margin-left":"14px"}},Xe={class:"orderIndex-table__commodity"},Je={class:"orderIndex-table__img-box"},Ze={class:"order-info__name"},Qe={key:0,class:"virtual_product"},ve={key:1,class:"order-info__name"},Ie={key:0,class:"virtual_product"},Oe={style:{"max-width":"440px"}},et={class:"order-info__spec"},tt={key:3,class:"order-info__spec"},at={class:"orderIndex-table__img-mask"},ot={style:{"font-size":"12px"}},nt={style:{color:"#838383","font-size":"10px"}},lt={class:"delivery"},rt={key:0,style:{color:"#f54319"}},ct={key:1,style:{color:"#999999"}},it={key:2,style:{color:"#00bb2c"}},dt={key:0},st={key:1},pt={key:2},mt=e.defineComponent({__name:"rebate-list",props:{searchForm:{type:Object,default:()=>({})},statistic:{type:Object,default:()=>({})}},emits:["update:statistic"],setup(a,{expose:o,emit:d}){const i=["è¿ä¸ä¸ªæè®¢å","è¿ä¸ä¸ªæè®¢å","å¨é¨è®¢å"],r=a,h=d,l=e.computed({get(){return r.statistic},set(g){h("update:statistic",g)}}),{divTenThousand:m}=W(),c=e.ref("å¨é¨è®¢å"),u=[],b=e.ref(),s=e.ref(!1),E=e.ref([]),n=e.ref(!1),f=e.ref(" "),N=e.ref([]),T=e.ref(!1),V=e.ref([]),k=e.ref([]),_=e.ref(""),x=e.reactive({size:20,current:1,total:0}),z=new _e,D=e.reactive({params:{buyerNickname:"",receiverName:"",orderNo:"",productName:"",startTime:"",endTime:""}});w(),Y(),Bt();function w(){e.nextTick(()=>{const g={...x,...r.searchForm,status:f.value.trim()};c.value==="è¿ä¸ä¸ªæè®¢å"?g.monthOrders="ONE_MONTH_AGO":c.value==="è¿ä¸ä¸ªæè®¢å"&&(g.monthOrders="THREE_MONTHS_AGO"),Se(g).then(({data:p})=>{const S=p==null?void 0:p.statistic;Object.keys(l.value).forEach(j=>{const G=j;l.value[G]=(S==null?void 0:S[G])||""}),x.current=p.current,x.size=p.size,x.total=p.total,V.value=p.records})})}function Y(){const g={UNPAID:"å¾ä»æ¬¾",PAID:"å·²ä»æ¬¾",COMPLETED:"å·²å®æ",CLOSED:"å·²å³é­"};for(const[p,S]of Object.entries(g))u.push({key:p,value:S})}function Bt(){const g=u.map(p=>({title:p.value,name:p.key}));g.unshift({title:"å¨é¨è®¢å",name:" "}),E.value=g}const ee=g=>{c.value=g,Dt()};function Dt(){if(c.value==="è¿ä¸ä¸ªæè®¢å"){const g=z.getLastMonth();te(g)}else if(c.value==="è¿ä¸ä¸ªæè®¢å"){const g=z.getLastThreeMonth();te(g)}else D.params.startTime="",D.params.endTime="",w()}const te=async g=>{const p=z.getYMDs();D.params.startTime=g,D.params.endTime=p,w()},Pt=async()=>{if(f.value!==" "){D.params.endTime="",D.params.startTime="",w();return}else ee(c.value)},Rt=()=>{s.value=!s.value,s.value?b.value.handleOpen():b.value.handleClose()},Mt=e.computed(()=>g=>m(g[0].salePrice)),At=e.computed(()=>g=>g.reduce((p,S)=>S.num+p,0)),$t=g=>{x.size=g,w()},zt=g=>{x.current=g,w()},jt=()=>{k.value=[],w()},J=(g,p)=>!!g.find(j=>j.settlementStatus===p);return o({initOrderList:w,multiSelect:k}),(g,p)=>{const S=e.resolveComponent("el-icon"),j=e.resolveComponent("el-dropdown-item"),G=e.resolveComponent("el-dropdown-menu"),Ut=e.resolveComponent("el-dropdown"),ae=e.resolveComponent("el-tab-pane"),Lt=e.resolveComponent("el-tabs"),Ft=e.resolveComponent("el-image"),Z=e.resolveComponent("el-tooltip"),Ht=e.resolveComponent("el-dialog");return e.openBlock(),e.createElementBlock("div",Ye,[e.createVNode(Le,{style:{margin:"0 16px"},"rebate-detail-statistic":a.statistic},null,8,["rebate-detail-statistic"]),e.createElementVNode("div",Ge,[e.createVNode(Lt,{modelValue:f.value,"onUpdate:modelValue":p[0]||(p[0]=t=>f.value=t),onTabChange:Pt},{default:e.withCtx(()=>[e.createVNode(ae,{name:" "},{label:e.withCtx(()=>[e.createElementVNode("span",null,e.toDisplayString(c.value),1),e.createVNode(S,{class:"el-icon--right-top"},{default:e.withCtx(()=>[e.createVNode(e.unref(Q.ArrowDown))]),_:1}),e.createVNode(Ut,{ref_key:"dropdownRef",ref:b,placement:"bottom-end",trigger:"click",onCommand:ee},{dropdown:e.withCtx(()=>[e.createVNode(G,null,{default:e.withCtx(()=>[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(i,t=>e.createVNode(j,{key:t,command:t},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t),1)]),_:2},1032,["command"])),64))]),_:1})]),default:e.withCtx(()=>[e.createElementVNode("span",{class:"el-dropdown-link",style:{height:"40px"},onClick:e.withModifiers(Rt,["stop"])},[e.createVNode(S,{class:"el-icon--right"},{default:e.withCtx(()=>[e.createVNode(e.unref(Q.ArrowDown))]),_:1})])]),_:1},512)]),_:1}),(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(u,t=>e.createVNode(ae,{key:t.key,label:t.value,name:t.key},null,8,["label","name"])),64))]),_:1},8,["modelValue"]),e.createVNode(K,{name:"icon-wenhao",size:"18px",color:"#333",style:{position:"absolute",right:"20px",top:"14px",cursor:"pointer"},onClick:p[1]||(p[1]=t=>n.value=!0)})]),e.createVNode(e.unref(Ce),{checkedItem:k.value,"onUpdate:checkedItem":p[2]||(p[2]=t=>k.value=t),selection:"","header-selection":"",class:"orderIndex-table tableUp",data:V.value,"no-border":""},{noData:e.withCtx(()=>[e.createVNode(xe)]),header:e.withCtx(({row:t})=>[e.createElementVNode("div",We,[e.createElementVNode("span",Ke,"è®¢åå·ï¼"+e.toDisplayString(t.orderNo),1),e.createElementVNode("span",null,"ä¸åæ¶é´ï¼"+e.toDisplayString(t.orderTime),1),e.createElementVNode("span",null,"ä¹°å®¶ï¼"+e.toDisplayString(t.buyerNickname)+"ï¼å®ä»æ¬¾ï¼"+e.toDisplayString(t.rebateOrderItems.reduce((y,B)=>y.plus(e.unref(m)(+B.dealPrice*B.num)),new(e.unref(ge))(0)).toFixed(2))+"ï¼",1),e.createElementVNode("span",null,"åºéºï¼"+e.toDisplayString(t.shopName),1),e.createElementVNode("span",{style:e.normalizeStyle({color:e.unref(F)[t.status]==="å·²å³é­"?"#999":e.unref(F)[t.status]==="å¾ä»æ¬¾"?"#F54319":""})},e.toDisplayString(e.unref(F)[t.status]),5)])]),default:e.withCtx(()=>[e.createVNode(A,{prop:"name",label:"åå",width:"400px"},{default:e.withCtx(({shopOrderItems:t})=>{var y,B,U,oe,ne,le,re,ce,ie,de,se;return[e.createElementVNode("div",Xe,[e.createElementVNode("div",Je,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.slice(0,1),C=>(e.openBlock(),e.createBlock(Ft,{key:C.skuId,fits:"cover",style:{width:"68px",height:"68px"},shape:"square",size:"large",src:C.image,title:C.productName},null,8,["src","title"]))),128)),e.createElementVNode("div",{class:"order-info",style:e.normalizeStyle({justifyContent:((B=(y=t==null?void 0:t[0])==null?void 0:y.specs)==null?void 0:B.join("ã").length)<1?"center":"space-between"})},[((U=t==null?void 0:t[0])==null?void 0:U.productName.length)>=35?(e.openBlock(),e.createBlock(Z,{key:0,effect:"dark",content:(oe=t==null?void 0:t[0])==null?void 0:oe.productName,placement:"top-start"},{default:e.withCtx(()=>{var C,P;return[e.createElementVNode("p",Ze,[((C=t==null?void 0:t[0])==null?void 0:C.productType)==="VIRTUAL_PRODUCT"?(e.openBlock(),e.createElementBlock("span",Qe,"èæ")):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString((P=t==null?void 0:t[0])==null?void 0:P.productName),1)])]}),_:2},1032,["content"])):(e.openBlock(),e.createElementBlock("p",ve,[((ne=t==null?void 0:t[0])==null?void 0:ne.productType)==="VIRTUAL_PRODUCT"?(e.openBlock(),e.createElementBlock("span",Ie,"èæ")):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString((le=t==null?void 0:t[0])==null?void 0:le.productName),1)])),((ce=(re=t==null?void 0:t[0])==null?void 0:re.specs)==null?void 0:ce.join("ã").length)>=20?(e.openBlock(),e.createBlock(Z,{key:2,effect:"dark",placement:"bottom-start"},{content:e.withCtx(()=>{var C,P;return[e.createElementVNode("p",Oe,e.toDisplayString((P=(C=t==null?void 0:t[0])==null?void 0:C.specs)==null?void 0:P.join("ã")),1)]}),default:e.withCtx(()=>{var C,P;return[e.createElementVNode("p",et,e.toDisplayString((P=(C=t==null?void 0:t[0])==null?void 0:C.specs)==null?void 0:P.join("ã")),1)]}),_:2},1024)):(e.openBlock(),e.createElementBlock("p",tt,e.toDisplayString((de=(ie=t==null?void 0:t[0])==null?void 0:ie.specs)==null?void 0:de.join("ã")),1))],4)]),e.createElementVNode("div",at,[e.createElementVNode("span",ot,"ï¿¥"+e.toDisplayString((se=Mt.value(t))==null?void 0:se.toFixed(2)),1),e.createElementVNode("span",nt,"x"+e.toDisplayString(At.value(t)),1)])])]}),_:1}),e.createVNode(A,{prop:"age",label:"å¹³å°æå¡è´¹(å)",width:"110",align:"left"},{default:e.withCtx(({shopOrderItems:t})=>{var y;return[e.createTextVNode(e.toDisplayString(e.unref(m)((y=t==null?void 0:t[0])==null?void 0:y.platformServiceFee)),1)]}),_:1}),e.createVNode(A,{prop:"deliveryStatus",label:"ç»ç®ç¶æ",width:"100",align:"left"},{default:e.withCtx(({shopOrderItems:t})=>{var y,B,U;return[e.createElementVNode("div",lt,[((y=t==null?void 0:t[0])==null?void 0:y.settlementStatus)==="PENDING_SETTLEMENT"?(e.openBlock(),e.createElementBlock("span",rt,"å¾ç»ç®")):((B=t==null?void 0:t[0])==null?void 0:B.settlementStatus)==="EXPIRED"?(e.openBlock(),e.createElementBlock("span",ct,"å·²å¤±æ")):((U=t==null?void 0:t[0])==null?void 0:U.settlementStatus)==="SETTLED"?(e.openBlock(),e.createElementBlock("span",it,"å·²è¿")):e.createCommentVNode("",!0)])]}),_:1}),e.createVNode(A,{prop:"orderStatus",label:"é¢è®¡è¿å©(å)",width:"140",align:"left"},{default:e.withCtx(({shopOrderItems:t})=>{var y,B;return[e.createElementVNode("span",null,e.toDisplayString((y=t==null?void 0:t[0])==null?void 0:y.rebateCalculation.split("=")[1]),1),e.createVNode(Z,{class:"box-item",effect:"dark",content:(B=t==null?void 0:t[0])==null?void 0:B.rebateCalculation,placement:"bottom"},{default:e.withCtx(()=>[e.createVNode(K,{name:"icon-wenhao1",color:"#999",style:{"margin-left":"5px",cursor:"pointer"},size:"16px"})]),_:2},1032,["content"])]}),_:1}),e.createVNode(A,{prop:"sex",label:"ä½£éç»ç®(å)",width:"120","is-mixed":!0,align:"left",fixed:"right"},{default:e.withCtx(({row:t,shopOrderItems:y})=>[e.createElementVNode("div",null,[J(y,"PENDING_SETTLEMENT")?(e.openBlock(),e.createElementBlock("div",dt,"å¾ç»ç®ï¼"+e.toDisplayString(e.unref(m)(t==null?void 0:t.pendingSettlement)),1)):e.createCommentVNode("",!0),J(y,"SETTLED")?(e.openBlock(),e.createElementBlock("div",st,"å·²è¿ï¼"+e.toDisplayString(e.unref(m)(t==null?void 0:t.settled)),1)):e.createCommentVNode("",!0),J(y,"EXPIRED")?(e.openBlock(),e.createElementBlock("div",pt,"å·²å¤±æï¼"+e.toDisplayString(e.unref(m)(t==null?void 0:t.expired)),1)):e.createCommentVNode("",!0)])]),_:1})]),_:1},8,["checkedItem","data"]),e.createVNode(fe,{"page-size":x.size,"page-num":x.current,total:x.total,onReload:w,onHandleSizeChange:$t,onHandleCurrentChange:zt},null,8,["page-size","page-num","total"]),e.createVNode(he,{isShow:T.value,"onUpdate:isShow":p[3]||(p[3]=t=>T.value=t),ids:N.value,"onUpdate:ids":p[4]||(p[4]=t=>N.value=t),remark:_.value,"onUpdate:remark":p[5]||(p[5]=t=>_.value=t),"remark-type":"GOODS",onSuccess:jt},null,8,["isShow","ids","remark"]),e.createVNode(Ht,{modelValue:n.value,"onUpdate:modelValue":p[6]||(p[6]=t=>n.value=t),title:"æ¶è´¹è¿å©è®¢åè¯´æ",width:"650px",center:""},{default:e.withCtx(()=>[e.createVNode(qe)]),_:1},8,["modelValue"])])}}}),Wt="",Kt="",bt=$(mt,[["__scopeId","data-v-1c469c25"]]),ft=Object.freeze(Object.defineProperty({__proto__:null,default:e.defineComponent({__name:"rebate-order",setup(a){const o=e.ref({orderNo:"",productName:"",shopName:"",buyerNickname:"",orderCreateTime:"",orderEndTime:"",clinchTime:[]}),d=e.ref(),i=()=>{var l;(l=d.value)==null||l.initOrderList()},r=e.reactive({totalExpired:"",totalPendingSettlement:"",totalRebate:""}),h=async()=>{var u,b,s,E;let l={};if((b=(u=d.value)==null?void 0:u.multiSelect)!=null&&b.length)l.exportOrderNos=((E=(s=d.value)==null?void 0:s.multiSelect)==null?void 0:E.map(n=>n.orderNo))||[];else{const{orderNo:n,productName:f,shopName:N,buyerNickname:T,orderCreateTime:V,orderEndTime:k,clinchTime:_}=o.value;l={orderNo:n,productName:f,shopName:N,buyerNickname:T,orderCreateTime:V,orderEndTime:k,clinchTime:_}}const{code:m,msg:c}=await Be(l);m===200?M.ElMessage.success({message:c||"å¯¼åºæå"}):M.ElMessage.error({message:c||"å¯¼åºå¤±è´¥"})};return(l,m)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(Ne,{searchForm:o.value,"onUpdate:searchForm":m[0]||(m[0]=c=>o.value=c),onGetSearchParams:i,onHandleExport:h},null,8,["searchForm"]),e.createVNode(bt,{ref_key:"RebateListRef",ref:d,statistic:r,"onUpdate:statistic":m[1]||(m[1]=c=>r=c),searchForm:o.value},null,8,["statistic","searchForm"])],64))}})},Symbol.toStringTag,{value:"Module"}));var X=(a=>(a.PAID_MEMBER="PAID_MEMBER",a.ALL_MEMBERS="ALL_MEMBERS",a))(X||{});const{mulHundred:H,divHundred:q,mulTenThousand:I,divTenThousand:O}=W(),_t=()=>{const a=e.ref([]),o=e.ref([]),d=e.reactive({id:"",rebateStatus:!1,rebateUsers:"PAID_MEMBER"}),i=async()=>{const l=await Ee();if(l.code!==200)return M.ElMessage.error(l.msg||"è·åè®¾ç½®å¤±è´¥");const m=l.data;d.id=(m==null?void 0:m.id)||"",d.rebateStatus=(m==null?void 0:m.rebateStatus)||!1,d.rebateUsers=m.rebateUsers||"PAID_MEMBER",a.value=ht(m),o.value=gt(m)};return{currentMemberRebates:e.computed(()=>d.rebateUsers==="PAID_MEMBER"?a.value:o.value),initialRebates:i,baseRebateConfig:d,onSubmit:async()=>{var b;const l={...d,payRebateUsers:(b=a.value)==null?void 0:b.map(s=>({...s,rebatePaymentPercentage:H(s.rebatePaymentPercentage).toString(),rebatePercentage:H(s.rebatePercentage).toString(),withdrawalThreshold:I(s.withdrawalThreshold).toString()})),allRebateUsers:o.value.map(s=>({...s,rebatePaymentPercentage:H(s.rebatePaymentPercentage).toString(),rebatePercentage:H(s.rebatePercentage).toString(),withdrawalThreshold:I(s.withdrawalThreshold).toString()}))},{code:m,data:c,msg:u}=await Te(l);m===200?(M.ElMessage.success(u||"ä¿®æ¹æå"),i()):M.ElMessage.error(u||"ä¿®æ¹å¤±è´¥")}}},ht=a=>(a.payRebateUsers.forEach(o=>{o.rebatePaymentPercentage=q(o.rebatePaymentPercentage).toNumber(),o.rebatePercentage=q(o.rebatePercentage).toNumber(),o.withdrawalThreshold=O(o.withdrawalThreshold).toNumber()}),a.payRebateUsers),gt=a=>(a.allRebateUsers.forEach(o=>{o.rebatePaymentPercentage=q(o.rebatePaymentPercentage).toNumber(),o.rebatePercentage=q(o.rebatePercentage).toNumber(),o.withdrawalThreshold=O(o.withdrawalThreshold).toNumber()}),a.allRebateUsers),xt={class:"description"},ut=e.defineComponent({__name:"settingInstructions-dialog",setup(a){const o=[{field:"è¿å©ç¾åæ¯",description:"å¹³å°å°å¹³å°æå¡è´¹æè¯¥ç¾åæ¯è®¡ç®æ¶è´¹è¿å©éé¢ï¼æ¶è´¹è¿å©æååä¸ºç²åº¦è®¡ç®"},{field:"è¿å©æ¯ä»ç¾åæ¯",description:"ä½¿ç¨æ¶è´¹è¿å©ä½é¢æ¯ä»å è®¢åéé¢çç¾åä¹å ï¼ç¾åæ¯è¶å¤§å¶ï¼å®ä»ç°éè¶å°ï¼è¿å©ä½é¢æ¯ä»çéé¢å«è¿å©æµæ£"},{field:"æç°é¨æ§",description:"å¯æç°éé¢ = æ¶è´¹è¿å©ä½é¢ - æç°é¨æ§ï¼æªè¾¾é¨æ§æ¶ï¼è½ä¸è½æç°ï¼ä½å¯ç¨äºè´­ä¹°å¹³å°åå"},{field:"éå¤è¿å©",description:"ä½¿ç¨æ¶è´¹è¿å©éé¢è´­ä¹°ååï¼ä¹å¯è·å¾æ¶è´¹è¿å©"}];return(d,i)=>{const r=e.resolveComponent("ElTableEmpty"),h=e.resolveComponent("el-table-column"),l=e.resolveComponent("el-table");return e.openBlock(),e.createElementBlock("div",xt,[i[0]||(i[0]=e.createElementVNode("div",{class:"description__content"},[e.createTextVNode(" ââ æ¶è´¹è¿å©å±äºå¹³å°å±çº§çè¥éæ´»å¨ï¼éè¿è¯¥è¥éå·¥å·å¯ä¿è¿ä»è´¹ä¼åçè´­ä¹°åç»­è´¹ï¼åæ¶è¿å¯æé«ç¨æ·ç²æ§å°ç¨æ·æªæ¥çäº¤æåºå®å¨æ¬å¹³å°åçç"),e.createElementVNode("br"),e.createTextVNode(" è¥éç¥å¨ãå¹³å°ä»ååºéºäº¤æè·å¾çãå¹³å°æå¡è´¹ãæ¿åºå°é¨åç¨äºæ¶è´¹è¿å©çèµéæ¯åº(è®¢åå®æåæè¿å©)ï¼ç³»ç»å¯å®ç°ä¸åä¼åç­çº§è·å¾ä¸åçè¿"),e.createElementVNode("br"),e.createTextVNode(" å©æçæ¯ææ¨ççµæ´»è¥éã"),e.createElementVNode("br"),e.createElementVNode("div",{style:{"margin-top":"10px"}}," ââ ååå®ä»äº¤æéé¢ = (ååäº¤æ+ä¼åææ£+ä¼ååé® + å¹³å°ä¼æ å¸ +è¿å©æµæ£) - (åºéºä¼æ å¸+æ»¡åä¼æ +è¿è´¹+éæ¬¾éé¢+åéä½£é+ä»£éè´§æ¬¾) ")],-1)),e.createVNode(l,{data:o,border:"",class:"descriptionTable","header-cell-style":{backgroundColor:"#BEBEBE","font-weight":"normal",color:"#000",fontWeight:"bold"},"cell-style":{color:"#666"}},{empty:e.withCtx(()=>[e.createVNode(r)]),default:e.withCtx(()=>[e.createVNode(h,{prop:"field",label:"å­æ®µ",width:"180"}),e.createVNode(h,{prop:"description",label:"è¯´æ"})]),_:1}),i[1]||(i[1]=e.createStaticVNode('<table class="goods-tables" data-v-a7e22313><tr class="headers" data-v-a7e22313><th data-v-a7e22313>ååç±»å</th><th data-v-a7e22313>äº¤æå¯¹è±¡</th><th data-v-a7e22313>æ¯å¦åä¸è¿å©</th><th data-v-a7e22313>æ¶è´¹è¿å©éé¢è¯´æ</th></tr><tr data-v-a7e22313><td class="type-cell" data-v-a7e22313>èªæåå</td><td class="trade-cell" data-v-a7e22313>æ¶è´¹è --&gt; åºéº</td><td class="rebate-cell" rowspan="2" data-v-a7e22313>æ¯</td><td class="desc-cell" rowspan="2" data-v-a7e22313>è¿å©éé¢ = ååå®ä»äº¤æéé¢ * å¹³å°æ½ä½£æ¯ä¾ * è¿å©ç¾åæ¯=å¹³å°æå¡è´¹ * è¿å©ç¾åæ¯</td></tr><tr data-v-a7e22313><td class="type-cell" rowspan="2" data-v-a7e22313>ä»£éåå</td><td class="trade-cell" data-v-a7e22313>æ¶è´¹è --&gt; åºéº</td></tr><tr data-v-a7e22313><td class="trade-cell" data-v-a7e22313>åºéº --&gt; ä¾åºå</td><td class="rebate-cell" rowspan="3" data-v-a7e22313>å¦</td><td class="desc-cell" rowspan="3" data-v-a7e22313>è¿å©éé¢ = 0</td></tr><tr data-v-a7e22313><td class="type-cell" data-v-a7e22313>ç§¯ååå</td><td class="trade-cell" data-v-a7e22313>æ¶è´¹è --&gt; å¹³å°</td></tr><tr data-v-a7e22313><td class="type-cell" rowspan="2" data-v-a7e22313>éè´­åå</td><td class="trade-cell" data-v-a7e22313>åºéº --&gt; ä¾åºå</td></tr><tr data-v-a7e22313><td class="trade-cell" data-v-a7e22313>æ¶è´¹è --&gt; åºéº</td><td class="rebate-cell" data-v-a7e22313>æ¯</td><td class="desc-cell" data-v-a7e22313>è¿å©éé¢ = ååå®ä»äº¤æéé¢ * å¹³å°æ½ä½£æ¯ä¾ * è¿å©ç¾åæ¯-å¹³å°æå¡è´¹ * è¿å©ç¾åæ¯</td></tr></table>',1))])}}}),Zt="",yt=$(ut,[["__scopeId","data-v-a7e22313"]]),Nt={style:{width:"100%",height:"calc(100vh - 200px)","overflow-y":"auto"}},kt={style:{display:"flex","justify-content":"space-between","align-items":"center",width:"80%"}},Vt={style:{padding:"0 16px"}},wt={class:"name",style:{color:"#ce732f"}},Ct={class:"name"},Et={class:"submit"},Tt=e.defineComponent({__name:"rebate-set",setup(a){const{currentMemberRebates:o,initialRebates:d,baseRebateConfig:i,onSubmit:r}=_t(),h=e.ref(!1),l=e.reactive({rebateStatus:[{required:!0,message:"",trigger:"blur"}],rebateUsers:[{required:!0,message:"",trigger:"blur"}]});return e.onMounted(()=>d()),(m,c)=>{const u=e.resolveComponent("el-switch"),b=e.resolveComponent("el-form-item"),s=e.resolveComponent("el-radio"),E=e.resolveComponent("el-radio-group"),n=e.resolveComponent("el-table-column"),f=e.resolveComponent("el-input-number"),N=e.resolveComponent("el-table"),T=e.resolveComponent("el-form"),V=e.resolveComponent("el-button"),k=e.resolveComponent("el-dialog");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",Nt,[e.createVNode(T,{model:e.unref(i),"label-width":"90",style:{position:"relative","padding-top":"30px"},rules:l},{default:e.withCtx(()=>[e.createVNode(b,{label:"æ¶è´¹è¿å©",prop:"rebateStatus"},{default:e.withCtx(()=>[e.createVNode(u,{modelValue:e.unref(i).rebateStatus,"onUpdate:modelValue":c[0]||(c[0]=_=>e.unref(i).rebateStatus=_),"active-value":!0,"inactive-value":!1,class:"ml-2",style:{"--el-switch-on-color":"#13ce66"}},null,8,["modelValue"]),e.createVNode(K,{name:"icon-wenhao",size:"18px",color:"#666",style:{"margin-left":"10px",cursor:"pointer"},onClick:c[1]||(c[1]=_=>h.value=!0)})]),_:1}),e.unref(i).rebateStatus?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createVNode(b,{label:"è¿å©ç¨æ·",prop:"rebateUsers"},{default:e.withCtx(()=>[e.createElementVNode("div",kt,[e.createVNode(E,{modelValue:e.unref(i).rebateUsers,"onUpdate:modelValue":c[2]||(c[2]=_=>e.unref(i).rebateUsers=_)},{default:e.withCtx(()=>[e.createVNode(s,{value:e.unref(X).PAID_MEMBER},{default:e.withCtx(()=>c[4]||(c[4]=[e.createTextVNode("ä»è´¹ä¼å")])),_:1},8,["value"]),e.createVNode(s,{value:e.unref(X).ALL_MEMBERS},{default:e.withCtx(()=>c[5]||(c[5]=[e.createTextVNode("ææä¼åï¼å«åè´¹ä¼åï¼")])),_:1},8,["value"])]),_:1},8,["modelValue"])])]),_:1}),e.createElementVNode("div",Vt,[e.createVNode(N,{"cell-style":{fontSize:"12px",color:"#333333"},data:e.unref(o),"header-cell-style":{background:"#f6f8fa"},"header-row-style":{fontSize:"14px",color:"#333"},"max-height":"calc(100vh - 350px)"},{default:e.withCtx(()=>[e.createVNode(n,{label:"ç­çº§",width:"140"},{default:e.withCtx(({row:_})=>[e.createElementVNode("div",wt,e.toDisplayString((_.memberType==="PAID_MEMBER"?"SVIP":"vip")+_.rankCode),1)]),_:1}),e.createVNode(n,{label:"ä¼ååç§°",width:"200"},{default:e.withCtx(({row:_})=>[e.createElementVNode("div",Ct,e.toDisplayString(_.memberName),1)]),_:1}),e.createVNode(n,{label:"è¿å©ç¾åæ¯(0~100%)"},{default:e.withCtx(({row:_})=>[e.createVNode(f,{modelValue:_.rebatePercentage,"onUpdate:modelValue":x=>_.rebatePercentage=x,controls:!1,max:100,min:0,precision:2},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e.createVNode(n,{label:"è¿å©æ¯ä»ç¾åæ¯(0~90%)"},{default:e.withCtx(({row:_})=>[e.createVNode(f,{modelValue:_.rebatePaymentPercentage,"onUpdate:modelValue":x=>_.rebatePaymentPercentage=x,controls:!1,max:90,min:0,precision:2},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e.createVNode(n,{label:"æç°é¨æ§"},{default:e.withCtx(({row:_})=>[e.createVNode(f,{modelValue:_.withdrawalThreshold,"onUpdate:modelValue":x=>_.withdrawalThreshold=x,precision:2,min:0,max:1e5,controls:!1},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["data"])])],64)):e.createCommentVNode("",!0)]),_:1},8,["model","rules"])]),e.createElementVNode("div",Et,[e.createVNode(V,{type:"primary",onClick:e.unref(r)},{default:e.withCtx(()=>c[6]||(c[6]=[e.createTextVNode("ä¿å­")])),_:1},8,["onClick"])]),e.createVNode(k,{modelValue:h.value,"onUpdate:modelValue":c[3]||(c[3]=_=>h.value=_),title:"æ¶è´¹è¿å©è¯´æ",width:"970px",center:""},{default:e.withCtx(()=>[e.createVNode(yt)]),_:1},8,["modelValue"])],64)}}}),Qt="",St=Object.freeze(Object.defineProperty({__proto__:null,default:$(Tt,[["__scopeId","data-v-02ff377e"]])},Symbol.toStringTag,{value:"Module"}));return ye});
