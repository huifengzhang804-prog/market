(function(e,c){typeof exports=="object"&&typeof module<"u"?module.exports=c(require("vue"),require("@/composables/useConvert"),require("@/views/order/components/order-split-table/SplitTable"),require("@/views/order/components/order-split-table/split-table-column.vue")):typeof define=="function"&&define.amd?define(["vue","@/composables/useConvert","@/views/order/components/order-split-table/SplitTable","@/views/order/components/order-split-table/split-table-column.vue"],c):(e=typeof globalThis<"u"?globalThis:e||self,e.ShopDeliveryListExpressTable=c(e.ShopDeliveryListExpressTableContext.Vue,e.ShopDeliveryListExpressTableContext.UseConvert,e.ShopDeliveryListExpressTableContext.SplitTable,e.ShopDeliveryListExpressTableContext.SplitTableColumn))})(this,function(e,c,E,s){"use strict";var g=document.createElement("style");g.textContent=`@charset "UTF-8";.fcenter[data-v-ed522711]{padding-left:20px;padding-right:10px}.fcenter .mla[data-v-ed522711]{position:sticky;right:10px}.orderIndex-table[data-v-ed522711]{position:relative;overflow-x:auto;transition:height .5s}.orderIndex-table__top[data-v-ed522711]{display:flex;justify-content:space-between;align-items:center;width:100%}.orderIndex-table__top-time[data-v-ed522711]{display:flex;justify-content:center;align-items:center}.orderIndex-table__top-time>div[data-v-ed522711]:nth-child(2){padding:0 60px}.orderIndex-table__commodity[data-v-ed522711]{width:100%;display:flex}.orderIndex-table__img-box[data-v-ed522711]{width:390px;display:flex;font-size:14px;align-items:center}.orderIndex-table__img-box .el-image[data-v-ed522711]{flex-shrink:0;margin-right:10px}.orderIndex-table__img-box .order-info[data-v-ed522711]{display:flex;flex-direction:column;justify-content:space-evenly;height:100%}.orderIndex-table__img-box .order-info__name[data-v-ed522711]{line-height:20px}.orderIndex-table__img-box .order-info__spec[data-v-ed522711]{line-height:20px;color:#999;font-size:14px;font-weight:400}.orderIndex-table__img[data-v-ed522711]{flex-shrink:0;border-radius:5px;position:relative}.orderIndex-table__img-mask[data-v-ed522711]{display:flex;flex-direction:column;justify-content:space-around;align-items:end;font-size:12px;color:#666;margin-left:20px}
`,document.head.appendChild(g);const S={class:"fcenter f1"},D={class:"orderIndex-table__commodity"},u={class:"orderIndex-table__img-box"},T={class:"order-info"},w={class:"order-info__name"},B={key:1,class:"order-info__name"},L={class:"order-info__spec"},j={key:3,class:"order-info__spec"},z={class:"orderIndex-table__img-mask"},U={style:{color:"#838383","font-size":"10px"}},q={class:"fdc",style:{"line-height":"18px"}},F={class:"fdc"},R=e.defineComponent({__name:"ShopDeliveryListExpressTable",props:{properties:{type:Object,default:()=>{}}},setup(p){const a=p,{divTenThousand:_}=c(),y=e.computed(()=>o=>_(o[0].dealPrice)),x=e.computed(()=>o=>o.reduce((l,d)=>d.num+l,0)),m=o=>{const l=o.shopOrders[0].orderReceiver;return l||o.orderReceiver},b=(o,l,d="select")=>{a.properties.changeExpressCompanyName(o,l,d)},C=e.ref(!1),J=async()=>{C.value=!0,await e.nextTick(),C.value=!1},f=o=>o.specs?o.specs.join("、").replace(":-","-").replace(":","+"):"",P=e.computed(()=>JSON.parse(JSON.stringify(a.properties.tableData)));return(o,l)=>{const d=e.resolveComponent("el-image"),N=e.resolveComponent("el-tooltip"),A=e.resolveComponent("el-option"),$=e.resolveComponent("el-select"),h=e.resolveComponent("el-form-item"),G=e.resolveComponent("el-input"),H=e.resolveComponent("el-button");return e.openBlock(),e.createBlock(e.unref(E),{data:P.value,class:"orderIndex-table",onScroll:J},{header:e.withCtx(({row:t})=>[e.createElementVNode("div",S,[e.createElementVNode("div",null,"订单号:"+e.toDisplayString(t.no),1),l[0]||(l[0]=e.createElementVNode("div",{style:{"margin-left":"5px","margin-right":"5px"}},"|",-1)),e.createElementVNode("div",null,"下单时间:"+e.toDisplayString(t.createTime),1)])]),default:e.withCtx(()=>[e.createVNode(s,{prop:"name",label:"商品",width:"450",align:"center"},{default:e.withCtx(({shopOrderItems:t})=>{var n,r,V,k;return[e.createElementVNode("div",D,[e.createElementVNode("div",u,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t==null?void 0:t.slice(0,1),i=>(e.openBlock(),e.createBlock(d,{key:i.id,fits:"cover",style:{width:"68px",height:"68px"},shape:"square",size:"large",src:i.image,title:i.productName},null,8,["src","title"]))),128)),e.createElementVNode("span",T,[((n=t==null?void 0:t[0])==null?void 0:n.productName.length)>=44?(e.openBlock(),e.createBlock(N,{key:0,effect:"dark",content:(r=t==null?void 0:t[0])==null?void 0:r.productName,placement:"top-start"},{default:e.withCtx(()=>{var i;return[e.createElementVNode("p",w,e.toDisplayString((i=t==null?void 0:t[0])==null?void 0:i.productName),1)]}),_:2},1032,["content"])):(e.openBlock(),e.createElementBlock("p",B,e.toDisplayString((V=t==null?void 0:t[0])==null?void 0:V.productName),1)),f(t==null?void 0:t[0]).length>=20?(e.openBlock(),e.createBlock(N,{key:2,effect:"dark",content:f(t==null?void 0:t[0]),placement:"top-start"},{default:e.withCtx(()=>[e.createElementVNode("p",L,e.toDisplayString(f(t==null?void 0:t[0])),1)]),_:2},1032,["content"])):(e.openBlock(),e.createElementBlock("p",j,e.toDisplayString(f(t==null?void 0:t[0])),1))])]),e.createElementVNode("div",z,[e.createElementVNode("span",null,"￥"+e.toDisplayString((k=y.value(t))==null?void 0:k.toFixed(2)),1),e.createElementVNode("span",U,"x"+e.toDisplayString(x.value(t)),1)])])]}),_:1}),e.createVNode(s,{label:"待发货数","is-mixed":!0,align:"center",width:"90"},{default:e.withCtx(({row:t})=>[e.createElementVNode("div",null,e.toDisplayString(x.value(t.shopOrders[0].shopOrderItems)),1)]),_:1}),e.createVNode(s,{label:"收件人信息","is-mixed":!0,width:"300"},{default:e.withCtx(({row:t})=>{var n,r;return[e.createElementVNode("div",q,[e.createElementVNode("div",null,e.toDisplayString(m(t).name),1),e.createElementVNode("div",null,e.toDisplayString(m(t).mobile),1),e.createElementVNode("div",null,e.toDisplayString((n=m(t).area)==null?void 0:n.join(""))+e.toDisplayString((r=m(t).address)==null?void 0:r.replaceAll("~","")),1)])]}),_:1}),e.createVNode(s,{label:"操作",fixed:"right","is-mixed":!0,width:"230"},{default:e.withCtx(({row:t})=>[e.createElementVNode("div",F,[e.createVNode(h,{label:"物流服务",style:{"margin-bottom":"5px"}},{default:e.withCtx(()=>[e.createVNode($,{modelValue:t.expressCompany.expressCompanyName,"onUpdate:modelValue":n=>t.expressCompany.expressCompanyName=n,placeholder:"请选择物流服务",onChange:n=>b(n,t,"select")},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.properties.companySelectList,n=>(e.openBlock(),e.createBlock(A,{key:n.id,label:n.logisticsCompanyName,value:n.logisticsCompanyName},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024),e.createVNode(h,{label:"运单号码"},{default:e.withCtx(()=>[e.createVNode(G,{modelValue:t.expressCompany.expressNo,"onUpdate:modelValue":n=>t.expressCompany.expressNo=n,style:{height:"28px"},maxlength:"40",onChange:n=>b(n,t,"input")},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024),e.createVNode(H,{type:"danger",text:"",size:"small",onClick:n=>a.properties.filterOrderList(t)},{default:e.withCtx(()=>l[1]||(l[1]=[e.createTextVNode("移除")])),_:2},1032,["onClick"])])]),_:1})]),_:1},8,["data"])}}}),K="";return((p,a)=>{const _=p.__vccOpts||p;for(const[y,x]of a)_[y]=x;return _})(R,[["__scopeId","data-v-ed522711"]])});
