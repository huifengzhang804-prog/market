(function(t,l){typeof exports=="object"&&typeof module<"u"?module.exports=l(require("vue"),require("@/apis/setting"),require("element-plus")):typeof define=="function"&&define.amd?define(["vue","@/apis/setting","element-plus"],l):(t=typeof globalThis<"u"?globalThis:t||self,t.PlatformPurchaseOrderConfig=l(t.PlatformPurchaseOrderConfigContext.Vue,t.PlatformPurchaseOrderConfigContext.SettingAPI,t.PlatformPurchaseOrderConfigContext.ElementPlus))})(this,function(t,l,f){"use strict";var _=document.createElement("style");_.textContent=`@charset "UTF-8";.msg[data-v-01ae9220]{display:flex;justify-content:center;align-items:center;justify-content:flex-start}.msg__text[data-v-01ae9220]{height:32px;width:300px;font-size:12px;color:#999}.ml12[data-v-01ae9220]{margin-left:12px}.mr12[data-v-01ae9220]{margin-right:12px}
`,document.head.appendChild(_);const y={class:"msg"},p=60*60,g=t.defineComponent({__name:"PlatformPurchaseOrderConfig",setup(d,{expose:m}){const r=t.reactive({supplierD:0,supplierH:0,supplierM:0}),c=[{validator:(n,e,o)=>{const i=r.supplierD*u+r.supplierH*p+r.supplierM*60;if(i<15*60||i>30*24*60*60){o(new Error("可以设置的区间为15分钟至30天"));return}o()},trigger:"blur"}];let a="0";const u=24*p,h=n=>{const e=parseInt(n);let o=Math.floor(e/u),i=Math.floor(e%u/p),s=Math.floor(e%p/60);return[o,i,s]},x=()=>{l.doGetSupplierBasicSet().then(({data:n})=>{a=n.payTimeout;const e=h(n.payTimeout);r.supplierD=e[0],r.supplierH=e[1],r.supplierM=e[2]})};return x(),m({handOrderTime:async()=>{const n={payTimeout:r.supplierD*u+r.supplierH*p+r.supplierM*60+""};if(a!==n.payTimeout)try{const{code:e,msg:o}=await l.doPutSupplierBasicSet(n);if(e!==200)return f.ElMessage.error(o||"更改失败");x()}catch{f.ElMessage.error("更改失败")}}}),(n,e)=>{const o=t.resolveComponent("el-input-number"),i=t.resolveComponent("el-form-item");return t.openBlock(),t.createElementBlock("div",y,[t.createVNode(i,{rules:c,label:"未支付的采购订单","label-width":"180px",prop:"supplierPayTimeout",style:{flex:"1"}},{default:t.withCtx(()=>[t.createVNode(o,{modelValue:r.supplierD,"onUpdate:modelValue":e[0]||(e[0]=s=>r.supplierD=s),controls:!1,min:0,style:{width:"60px"}},null,8,["modelValue"]),e[3]||(e[3]=t.createElementVNode("text",{class:"ml12 mr12"},"天",-1)),t.createVNode(o,{modelValue:r.supplierH,"onUpdate:modelValue":e[1]||(e[1]=s=>r.supplierH=s),controls:!1,min:0,style:{width:"60px"}},null,8,["modelValue"]),e[4]||(e[4]=t.createElementVNode("text",{class:"ml12 mr12"},"小时",-1)),t.createVNode(o,{modelValue:r.supplierM,"onUpdate:modelValue":e[2]||(e[2]=s=>r.supplierM=s),controls:!1,min:0,style:{width:"60px"}},null,8,["modelValue"]),e[5]||(e[5]=t.createElementVNode("span",{class:"ml12"},"分钟后，自动关闭",-1))]),_:1}),e[6]||(e[6]=t.createElementVNode("span",{class:"ml42 msg__text"},"最长可设置30天， 最短可设置15分钟",-1))])}}}),P="";return((d,m)=>{const r=d.__vccOpts||d;for(const[c,a]of m)r[c]=a;return r})(g,[["__scopeId","data-v-01ae9220"]])});
