(function(e,F){typeof exports=="object"&&typeof module<"u"?module.exports=F(require("vue"),require("@/apis/shops"),require("@/apis/good"),require("@/components/SchemaForm.vue"),require("@/components/qszr-core/packages/q-table/QTable"),require("@/components/qszr-core/packages/q-table/q-table-column.vue"),require("@/components/PageManage.vue"),require("element-plus"),require("@/composables/useConvert"),require("vue-clipboard3"),require("@/composables/usePlatformGoodStatus"),require("vue-router"),require("@/components/q-upload/q-upload.vue"),require("@element-plus/icons-vue"),require("lodash-es"),require("@/components/element-plus/el-table/ElTableEmpty/index.vue")):typeof define=="function"&&define.amd?define(["vue","@/apis/shops","@/apis/good","@/components/SchemaForm.vue","@/components/qszr-core/packages/q-table/QTable","@/components/qszr-core/packages/q-table/q-table-column.vue","@/components/PageManage.vue","element-plus","@/composables/useConvert","vue-clipboard3","@/composables/usePlatformGoodStatus","vue-router","@/components/q-upload/q-upload.vue","@element-plus/icons-vue","lodash-es","@/components/element-plus/el-table/ElTableEmpty/index.vue"],F):(e=typeof globalThis<"u"?globalThis:e||self,e.PlatformCommodityList=F(e.PlatformCommodityListContext.Vue,e.PlatformCommodityListContext.ShopAPI,e.PlatformCommodityListContext.GoodAPI,e.PlatformCommodityListContext.SchemaForm,e.PlatformCommodityListContext.QTable,e.PlatformCommodityListContext.QTableColumn,e.PlatformCommodityListContext.PageManageTwo,e.PlatformCommodityListContext.ElementPlus,e.PlatformCommodityListContext.UseConvert,e.PlatformCommodityListContext.VueClipboard3,e.PlatformCommodityListContext.PlatformGoodStatus,e.PlatformCommodityListContext.VueRouter,e.PlatformCommodityListContext.QUpload,e.PlatformCommodityListContext.ElementPlusIconsVue,e.PlatformCommodityListContext.Lodash,e.PlatformCommodityListContext.ElTableEmpty))})(this,function(e,F,q,ee,te,D,oe,u,j,ae,le,ne,H,ie,se,re){"use strict";var W=document.createElement("style");W.textContent=`@charset "UTF-8";.commodity{display:flex;justify-content:center;align-items:center;font-size:12px;text-align:left;justify-content:flex-start}.commodity__left{width:68px;height:68px;margin-right:10px}.commodity__right--name{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.commodity__right--price{color:#ff7417;margin:4px 0}.commodity__right--sup{width:120px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.el-row[data-v-b1e6d1d6]{padding:5px 0;line-height:1.5}.details[data-v-b1e6d1d6]{max-height:770px}.details-more[data-v-b1e6d1d6]{max-height:440px;overflow-y:auto}.details-more[data-v-b1e6d1d6] img{max-width:100%}[data-v-9d47b8a2]{font-size:14px}.q-table[data-v-9d47b8a2]{overflow:auto;transition:height .5s}.shop-name[data-v-9d47b8a2]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.see[data-v-9d47b8a2]{width:82px;height:36px;background:#eaf5fe;border-radius:21px;font-size:12px;color:#309af3;line-height:36px;text-align:center;cursor:pointer}.violation-evidence[data-v-9d47b8a2]{width:80px;height:80px;border-radius:8px;object-fit:contain;vertical-align:top}.violation-evidence+.violation-evidence[data-v-9d47b8a2]{margin-left:5px}.notification[data-v-9d47b8a2]{color:#666}.evidence[data-v-9d47b8a2]{display:flex;flex-wrap:wrap}[data-v-9d47b8a2] .el-form-item__error{padding:6px 26px}.first-rules[data-v-9d47b8a2]{margin-left:28px}.first-rules[data-v-9d47b8a2] .el-form-item__error{padding:5px 0!important}.no_data[data-v-9d47b8a2]{margin-top:100px}.no_data img[data-v-9d47b8a2]{width:170px;height:170px}.no_data .cont[data-v-9d47b8a2]{color:#737b80;text-align:center;margin-top:20px}.explainData>div[data-v-9d47b8a2]{display:flex;margin-top:8px}.explainData>div img[data-v-9d47b8a2]{margin-top:6px}.explainData .explainData_label[data-v-9d47b8a2]{width:80px;text-align:right;margin-right:8px}
`,document.head.appendChild(W);const de={style:{background:"#f9f9f9"}},ce=e.defineComponent({__name:"CommoditySearch",props:{tabsActive:{type:String,default:" "}},emits:["getSearchParams","showChange"],setup(m,{emit:g}){const b=m,N=g,n=e.reactive({platformCategoryId:"",shopId:null,productType:"",sellType:"",supplierGoodsName:"",status:"",cascaderModel:""}),P=[{value:"",label:"全部商品"},{value:"VIRTUAL_PRODUCT",label:"虚拟商品"},{value:"REAL_PRODUCT",label:"实物商品"}],V=[{value:"",label:"全部"},{value:"PURCHASE",label:"采购商品"},{value:"CONSIGNMENT",label:"代销商品"}],x=e.ref([]),c=e.ref([]),i=[{label:"供应商名称",labelWidth:85,prop:"shopId",valueType:"select",options:x,fieldProps:{placeholder:"请输入店铺名称",props:{value:"id",label:"name",expandTrigger:"hover"},filterable:!0,remote:!0,reserveKeyword:!0,emptyValues:[null,void 0,""],remoteMethod:s=>{k(s)}}},{label:"商品名称",labelWidth:75,prop:"supplierGoodsName",valueType:"copy",fieldProps:{placeholder:"请输入商品名称"}},{label:"平台类目",prop:"cascaderModel",valueType:"cascader",options:c,fieldProps:{placeholder:"请选择平台类目",props:{value:"id",label:"name",expandTrigger:"hover"},showAllLevels:!1,onChange:s=>{s.length>1&&(n.platformCategoryId=s[s.length-1])}}},{label:"商品类型",labelWidth:75,prop:"productType",valueType:"select",options:P,fieldProps:{placeholder:"请选择"}},{label:"销售方式",labelWidth:75,prop:"sellType",valueType:"select",options:V,fieldProps:{placeholder:"请选择"}}],h=()=>{n.platformCategoryId=n.platformCategoryId==="0"?"":n.platformCategoryId,N("getSearchParams",n)},E=()=>{Object.keys(n).forEach(s=>n[s]=""),h()},k=async s=>{const d=await q.doGetSeachSupplierSearchList({supplierName:s});x.value=(d==null?void 0:d.data.map(r=>({...r,label:r.name,value:r.id})))||[]};e.watch(()=>b.tabsActive,s=>{s!==" "&&(n.status="")});const O=e.reactive({pageSize:20,pageNum:1,total:0});T();async function T(){const{data:s}=await F.doGetCategory({current:O.pageNum,size:1e3});O.total=s.total,_(s.records,"secondCategoryVos"),s.records.unshift({categoryId:"0",id:"0",name:"全部类目",parentId:"0",sort:1}),c.value=s.records}function _(s,d){s.forEach(r=>{r[d]&&(r.children=r[d],delete r[d],r.children.length&&_(r.children,"categoryThirdlyVos"))})}return(s,d)=>{const r=e.resolveComponent("el-config-provider");return e.openBlock(),e.createElementBlock("div",de,[e.createVNode(r,{"empty-values":[void 0,null]},{default:e.withCtx(()=>[e.createVNode(ee,{modelValue:n,"onUpdate:modelValue":d[0]||(d[0]=l=>n=l),columns:i,onSearchHandle:h,onHandleReset:E},null,8,["modelValue"])]),_:1})])}}}),pe={class:"commodity"},me={class:"commodity__left"},fe={class:"commodity__right"},ge=["title"],_e={key:0,class:"virtual_product"},xe=["title"],he={key:0,class:"virtual_product"},ye=e.defineComponent({__name:"CommodityInfo",props:{info:{type:Object,default(){return{}}}},setup(m){const g=m;return(b,N)=>{var V,x,c;const n=e.resolveComponent("el-image"),P=e.resolveComponent("el-tooltip");return e.openBlock(),e.createElementBlock("div",pe,[e.createElementVNode("div",me,[e.createVNode(n,{style:{width:"68px",height:"68px"},src:(x=(V=g.info.albumPics)==null?void 0:V.split(","))==null?void 0:x.shift(),fit:"fill"},null,8,["src"])]),e.createElementVNode("div",fe,[g.info.productName.length>=30?(e.openBlock(),e.createBlock(P,{key:0,class:"box-item",effect:"dark",content:g.info.productName,placement:"bottom"},{default:e.withCtx(()=>{var i;return[e.createElementVNode("div",{class:"commodity__right--name",title:g.info.productName},[((i=g.info)==null?void 0:i.productType)==="VIRTUAL_PRODUCT"?(e.openBlock(),e.createElementBlock("span",_e,"虚拟")):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(g.info.productName),1)],8,ge)]}),_:1},8,["content"])):(e.openBlock(),e.createElementBlock("div",{key:1,class:"commodity__right--name",title:g.info.productName},[((c=g.info)==null?void 0:c.productType)==="VIRTUAL_PRODUCT"?(e.openBlock(),e.createElementBlock("span",he,"虚拟")):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(g.info.productName),1)],8,xe))])])}}}),tt="",Ce={class:"details"},Ne=["innerHTML"];var K=(m=>(m.CONSIGNMENT="代销商品",m.PURCHASE="采购商品",m.OWN="自有商品",m))(K||{});const Ve=e.defineComponent({__name:"commodityDetail",props:{commodityId:{type:String,default:""},shopId:{type:String,default:""}},setup(m){const{divTenThousand:g}=j(),{toClipboard:b}=ae(),N=m,n=e.ref({});(async()=>{const{code:x,msg:c,data:i}=await q.doGetSupplierCommodityDetails(N.commodityId,{shopId:N.shopId});x===200?n.value=i:u.ElMessage.error({message:c})})();const V=async x=>{try{await b(x),u.ElMessage.success("复制成功")}catch{u.ElMessage.error("复制失败")}};return(x,c)=>{const i=e.resolveComponent("el-col"),h=e.resolveComponent("el-row"),E=e.resolveComponent("el-link"),k=e.resolveComponent("el-table-column"),O=e.resolveComponent("el-image"),T=e.resolveComponent("el-table");return e.openBlock(),e.createElementBlock("div",Ce,[e.createVNode(h,{gutter:8},{default:e.withCtx(()=>[e.createVNode(i,{span:24,style:{"font-weight":"600"}},{default:e.withCtx(()=>{var _;return[e.createTextVNode(e.toDisplayString((_=n.value)==null?void 0:_.name),1)]}),_:1})]),_:1}),e.createVNode(h,{gutter:8},{default:e.withCtx(()=>{var _,s,d;return[e.createVNode(i,{span:(_=n.value)!=null&&_.collectionUrl?8:12},{default:e.withCtx(()=>[e.createVNode(h,{gutter:8},{default:e.withCtx(()=>[e.createVNode(i,{span:6},{default:e.withCtx(()=>c[1]||(c[1]=[e.createTextVNode("平台类目：")])),_:1}),e.createVNode(i,{span:18},{default:e.withCtx(()=>{var r,l,y,I,M,$;return[e.createTextVNode(e.toDisplayString((l=(r=n.value)==null?void 0:r.platformCategoryName)==null?void 0:l.oneName)+"/"+e.toDisplayString((I=(y=n.value)==null?void 0:y.platformCategoryName)==null?void 0:I.twoName)+"/"+e.toDisplayString(($=(M=n.value)==null?void 0:M.platformCategoryName)==null?void 0:$.threeName),1)]}),_:1})]),_:1})]),_:1},8,["span"]),e.createVNode(i,{span:(s=n.value)!=null&&s.collectionUrl?8:12},{default:e.withCtx(()=>[e.createVNode(h,{gutter:8},{default:e.withCtx(()=>[e.createVNode(i,{span:6},{default:e.withCtx(()=>c[2]||(c[2]=[e.createTextVNode("销售方式：")])),_:1}),e.createVNode(i,{span:18},{default:e.withCtx(()=>{var r;return[e.createTextVNode(e.toDisplayString(K[(r=n.value)==null?void 0:r.sellType]),1)]}),_:1})]),_:1})]),_:1},8,["span"]),(d=n.value)!=null&&d.collectionUrl?(e.openBlock(),e.createBlock(i,{key:0,span:8},{default:e.withCtx(()=>[e.createVNode(h,{gutter:8},{default:e.withCtx(()=>[e.createVNode(i,{span:6},{default:e.withCtx(()=>c[3]||(c[3]=[e.createTextVNode("采集地址：")])),_:1}),e.createVNode(i,{span:18},{default:e.withCtx(()=>[e.createVNode(E,{type:"primary",onClick:c[0]||(c[0]=r=>V(n.value.collectionUrl))},{default:e.withCtx(()=>c[4]||(c[4]=[e.createTextVNode("复制")])),_:1})]),_:1})]),_:1})]),_:1})):e.createCommentVNode("",!0)]}),_:1}),e.createVNode(h,{gutter:8},{default:e.withCtx(()=>[e.createVNode(i,{span:24},{default:e.withCtx(()=>{var _;return[e.createVNode(T,{data:(_=n.value)==null?void 0:_.storageSkus,"max-height":"230px",size:"small","cell-style":{height:"48px"}},{default:e.withCtx(()=>{var s,d,r;return[e.createVNode(k,{label:"规格"},{default:e.withCtx(({row:l})=>{var y,I;return[e.createTextVNode(e.toDisplayString((y=l==null?void 0:l.specs)!=null&&y.length?(I=l==null?void 0:l.specs)==null?void 0:I.join(";"):"单规格"),1)]}),_:1}),(s=n.value)!=null&&s.storageSkus&&((r=(d=n.value)==null?void 0:d.storageSkus[0])!=null&&r.image)?(e.openBlock(),e.createBlock(k,{key:0,label:"SKU图"},{default:e.withCtx(({row:l})=>[e.createVNode(O,{src:l==null?void 0:l.image,style:{width:"50px",height:"50px"}},null,8,["src"])]),_:1})):e.createCommentVNode("",!0),e.createVNode(k,{label:"销售价(元)"},{default:e.withCtx(({row:l})=>[e.createTextVNode(e.toDisplayString(e.unref(g)(l==null?void 0:l.salePrice)),1)]),_:1}),e.createVNode(k,{label:"划线价(元)"},{default:e.withCtx(({row:l})=>[e.createTextVNode(e.toDisplayString(e.unref(g)(l==null?void 0:l.price)),1)]),_:1}),e.createVNode(k,{label:"重量(kg)",prop:"weight"})]}),_:1},8,["data"])]}),_:1})]),_:1}),e.createVNode(h,{gutter:8},{default:e.withCtx(()=>[e.createVNode(i,{span:24},{default:e.withCtx(()=>{var _;return[e.createElementVNode("div",{class:"details-more",innerHTML:(_=n.value)==null?void 0:_.detail},null,8,Ne)]}),_:1})]),_:1})])}}}),ot="",X=(m,g)=>{const b=m.__vccOpts||m;for(const[N,n]of g)b[N]=n;return b},ue=X(Ve,[["__scopeId","data-v-b1e6d1d6"]]),be={class:"tab_container"},Ee={class:"commodity__right--price"},ke=["title"],Te=["title"],Se={key:0},Le={key:1},we={class:"dialog-footer"},Pe={style:{"margin-left":"28px"}},Ie={class:"evidence"},De={class:"dialog-footer"},Oe={style:{"line-height":"30px"},class:"explainData"},Be={style:{display:"flex"}},Re={style:{flex:"1"}},Fe=["src"];var Y=(m=>(m.CONSIGNMENT="代销商品",m.PURCHASE="采购商品",m.OWN="自有商品",m))(Y||{});const qe=e.defineComponent({__name:"PlatformCommodityList",props:{properties:{type:Object,default:()=>({})}},setup(m){const b=m.properties.VITE_PLATFORM_NAME,{divTenThousand:N}=j(),n={PROHIBITED:"违禁品",COUNTERFEIT:"假冒伪劣",EXCESSIVE_PLATFORM_INTERVENTION:"平台介入率太高",TITLE_IRREGULARITY:"标题有问题",OTHER:"其他"},P=ne.useRoute(),V=e.ref(P.query.name?String(P.query.name):""),x=e.ref([]),c=e.ref([]),i=e.reactive({pageSize:20,pageNum:1,total:0}),h=e.ref({platformCategoryId:"",sellType:"",productType:"",status:"",shopId:"",supplierGoodsName:"",sort:""}),E=e.ref(!1),k=e.ref(),O=e.ref(),T=e.ref(!1);S();const _=e.ref(),s={violationType:[{required:!0,message:"类型为必选项",trigger:"change"}],violationExplain:[{required:!0,message:"违规说明为必填项",trigger:"blur"}],violationEvidence:[{required:!0,message:"相关证据为必选项",trigger:"change"}]},d=e.ref(!1),r=b||"启山智软",l=e.ref({violationType:[],violationExplain:"",violationEvidence:"",rummager:r}),y=e.ref([]),I=a=>{y.value.splice(a,1),l.value.violationEvidence=y.value.join(",")},M=(a,t)=>{y.value.push(a),l.value.violationEvidence=y.value.join(",")},$=e.reactive([{label:"PLATFORM_SELL_OFF",name:"下架"}]);let J={};const Me=async(a,t)=>{var p;if(t.status===a){const C=(p=$.find(L=>a))==null?void 0:p.name;u.ElMessage.error(`该商品已${C}`);return}J=t,d.value=!0},$e=async()=>{var a;(a=_.value)==null||a.validate(async t=>{if(t){const p={productIds:[J.id],productViolation:l.value};try{const{code:C,success:L}=await q.doUpdateSupplierSellStatus(p,"PLATFORM_SELL_OFF");C===200&&L?(u.ElMessage.success("更新成功"),S(),d.value=!1):u.ElMessage.error("更新失败")}catch{return}}})},Ue=()=>{l.value={violationType:[],violationExplain:"",violationEvidence:"",rummager:r},y.value=[],d.value=!1},z=e.ref(!1),B=e.ref({rummager:"",violationType:"",violationExplain:"",violationEvidence:[],examineDateTime:""}),Z=e.ref(),Ae=async a=>{E.value=!0,Z.value={shopId:a.shopId,productId:a.id}},ze=async()=>{const{code:a}=await q.doPostSupplierRestoreSale(Z.value);a===200?(u.ElMessage.success("恢复成功"),E.value=!1,S()):u.ElMessage.error("恢复失败")},Ge=async(a={})=>{var C;const t=se.cloneDeep(a);t.violationEvidence=t!=null&&t.violationEvidence?t.violationEvidence.split(","):[];const p=[];(C=t==null?void 0:t.violationType)==null||C.forEach(L=>{p.push(n[L])}),t.violationType=p.join(","),B.value=t,z.value=!0},je=a=>{i.pageSize=a,S()},He=a=>{i.pageNum=a,S()},We=a=>{h.value=a,S()};async function S(){let a={...h.value,current:i.pageNum,size:i.pageSize},t=200,p={records:[],total:0};const{code:C,data:L,success:R}=await q.doGetSupplierList({...a,supplierProductStatus:V.value});t=C,p=L,t===200?(c.value=p.records,console.log(c.value,"tableList.value"),i.total=p.total):u.ElMessage.error("获取商品列表失败")}const Ke=()=>{S()},Q=a=>{x.value=[a],T.value=!0},Xe=a=>{const t=(a==null?void 0:a.salePrices)||[],p=Math.max(...t),C=Math.min(...t);return p===C?N(C).toFixed(2):`${N(C).toFixed(2)}~${N(p).toFixed(2)}`},Ye=()=>{const a=["SALE_PRICE_ASC","SALE_PRICE_DESC",""],p=(a.indexOf(h.value.sort)+1)%a.length;h.value.sort=a[p],S()};return(a,t)=>{const p=e.resolveComponent("el-tab-pane"),C=e.resolveComponent("el-tabs"),L=e.resolveComponent("el-tooltip"),R=e.resolveComponent("el-link"),U=e.resolveComponent("el-dialog"),A=e.resolveComponent("el-button"),Je=e.resolveComponent("el-checkbox-button"),Ze=e.resolveComponent("el-checkbox-group"),G=e.resolveComponent("el-form-item"),Qe=e.resolveComponent("el-input"),ve=e.resolveComponent("el-icon"),et=e.resolveComponent("el-form");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(ce,{ref_key:"commoditySearchRef",ref:k,"tabs-active":V.value,onGetSearchParams:We},null,8,["tabs-active"]),e.createElementVNode("div",be,[e.createVNode(C,{modelValue:V.value,"onUpdate:modelValue":t[0]||(t[0]=o=>V.value=o),class:"tabs",onTabChange:Ke},{default:e.withCtx(()=>[e.createVNode(p,{label:"全部",name:""}),e.createVNode(p,{label:"已上架",name:"SELL_ON"}),e.createVNode(p,{label:"已下架",name:"SELL_OFF"}),e.createVNode(p,{label:"违规下架",name:"PLATFORM_SELL_OFF"})]),_:1},8,["modelValue"])]),e.createVNode(e.unref(te),{ref_key:"multipleTableRef",ref:O,"checked-item":x.value,"onUpdate:checkedItem":t[1]||(t[1]=o=>x.value=o),data:c.value,style:{"margin-top":"10px"},"no-border":"",class:"q-table",onChangeSort:Ye},{noData:e.withCtx(()=>[e.createVNode(re)]),default:e.withCtx(()=>[e.createVNode(D,{label:"商品",prop:"goodInfo",align:"left",width:"350"},{default:e.withCtx(({row:o})=>[e.createVNode(ye,{info:o,style:{height:"83px"}},null,8,["info"])]),_:1}),e.createVNode(D,{label:"销售价",align:"left",width:"180"},{default:e.withCtx(({row:o})=>[e.createElementVNode("div",Ee,"￥"+e.toDisplayString(Xe(o)),1)]),_:1}),e.createVNode(D,{label:"所属供应商",align:"left",width:"180"},{default:e.withCtx(({row:o})=>{var f;return[((f=o.supplierName)==null?void 0:f.length)>=10?(e.openBlock(),e.createBlock(L,{key:0,class:"box-item",effect:"dark",content:o.supplierName,placement:"bottom"},{default:e.withCtx(()=>[e.createElementVNode("span",{title:o.supplierName,class:"shop-name"},e.toDisplayString(o.supplierName),9,ke)]),_:2},1032,["content"])):(e.openBlock(),e.createElementBlock("span",{key:1,title:o.supplierName,class:"shop-name"},e.toDisplayString(o.supplierName),9,Te))]}),_:1}),e.createVNode(D,{label:"销售方式",prop:"sellType",align:"left",width:"170"},{default:e.withCtx(({row:o})=>[e.createTextVNode(e.toDisplayString(Y[o==null?void 0:o.sellType]),1)]),_:1}),e.createVNode(D,{label:"商品状态",prop:"status",align:"left",width:"110"},{default:e.withCtx(({row:o})=>[e.createElementVNode("span",{style:e.normalizeStyle({color:["PLATFORM_SELL_OFF"].includes(o==null?void 0:o.status)?"#F54319":["SELL_OFF","SUPPLIER_SELL_OFF"].includes(o==null?void 0:o.status)?"#999":"#333"})},e.toDisplayString(e.unref(le.usePlatformGoodStatus)(o==null?void 0:o.status)),5)]),_:1}),e.createVNode(D,{label:"操作",align:"right",width:"200",fixed:"right"},{default:e.withCtx(({row:o})=>[(o==null?void 0:o.status)==="PLATFORM_SELL_OFF"?(e.openBlock(),e.createElementBlock("div",Se,[e.createVNode(R,{underline:!1,type:"primary",round:"",onClick:f=>Q(o)},{default:e.withCtx(()=>t[12]||(t[12]=[e.createTextVNode("查看")])),_:2},1032,["onClick"]),e.createVNode(R,{underline:!1,type:"primary",round:"",style:{"margin-left":"15px"},onClick:f=>Ae(o)},{default:e.withCtx(()=>t[13]||(t[13]=[e.createTextVNode(" 恢复销售 ")])),_:2},1032,["onClick"]),e.createVNode(R,{underline:!1,type:"primary",round:"",style:{"margin-left":"15px"},onClick:f=>{var w;return Ge((w=o==null?void 0:o.extra)==null?void 0:w.productViolation)}},{default:e.withCtx(()=>t[14]||(t[14]=[e.createTextVNode(" 违规原因 ")])),_:2},1032,["onClick"])])):(e.openBlock(),e.createElementBlock("div",Le,[e.createVNode(R,{underline:!1,type:"primary",round:"",onClick:f=>Q(o)},{default:e.withCtx(()=>t[15]||(t[15]=[e.createTextVNode("查看")])),_:2},1032,["onClick"]),e.createVNode(R,{underline:!1,type:"danger",round:"",style:{"margin-left":"15px"},onClick:f=>Me("PLATFORM_SELL_OFF",o)},{default:e.withCtx(()=>t[16]||(t[16]=[e.createTextVNode(" 违规下架 ")])),_:2},1032,["onClick"])]))]),_:1})]),_:1},8,["checked-item","data"]),e.createVNode(oe,{class:"pagination","page-size":i.pageSize,"page-num":i.pageNum,total:i.total,onHandleSizeChange:je,onHandleCurrentChange:He},null,8,["page-size","page-num","total"]),e.createVNode(U,{modelValue:T.value,"onUpdate:modelValue":t[2]||(t[2]=o=>T.value=o),title:"商品详情",width:"60%",top:"5vh","destroy-on-close":"",onClose:t[3]||(t[3]=o=>T.value=!1)},{default:e.withCtx(()=>{var o,f,w,v;return[e.createVNode(ue,{"commodity-id":(f=(o=x.value)==null?void 0:o[0])==null?void 0:f.id,"shop-id":(v=(w=x.value)==null?void 0:w[0])==null?void 0:v.shopId},null,8,["commodity-id","shop-id"])]}),_:1},8,["modelValue"]),e.createVNode(U,{modelValue:E.value,"onUpdate:modelValue":t[5]||(t[5]=o=>E.value=o),title:"恢复销售",width:"500",center:""},{footer:e.withCtx(()=>[e.createElementVNode("div",we,[e.createVNode(A,{onClick:t[4]||(t[4]=o=>E.value=!1)},{default:e.withCtx(()=>t[17]||(t[17]=[e.createTextVNode("取消")])),_:1}),e.createVNode(A,{type:"primary",onClick:ze},{default:e.withCtx(()=>t[18]||(t[18]=[e.createTextVNode(" 确定 ")])),_:1})])]),default:e.withCtx(()=>[t[19]||(t[19]=e.createElementVNode("div",null,"请确认是否将商品重置为【下架】状态，商家整改后可正常销售商品！！！",-1))]),_:1},8,["modelValue"]),e.createVNode(U,{modelValue:d.value,"onUpdate:modelValue":t[9]||(t[9]=o=>d.value=o),title:"违规下架",width:"650px",center:"","destroy-on-close":"",onClose:Ue},{footer:e.withCtx(()=>[e.createElementVNode("span",De,[e.createVNode(A,{onClick:t[8]||(t[8]=o=>d.value=!1)},{default:e.withCtx(()=>t[21]||(t[21]=[e.createTextVNode("取消")])),_:1}),e.createVNode(A,{type:"primary",onClick:$e},{default:e.withCtx(()=>t[22]||(t[22]=[e.createTextVNode(" 确定 ")])),_:1})])]),default:e.withCtx(()=>[e.createVNode(et,{ref_key:"formSellOffRef",ref:_,model:l.value,"label-width":"120px",rules:s},{default:e.withCtx(()=>[e.createVNode(G,{label:"类型（多选）",prop:"violationType",class:"first-rules"},{default:e.withCtx(()=>[e.createVNode(Ze,{modelValue:l.value.violationType,"onUpdate:modelValue":t[6]||(t[6]=o=>l.value.violationType=o)},{default:e.withCtx(()=>[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(n,(o,f)=>e.createVNode(Je,{key:f,label:f},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(o),1)]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1}),e.createVNode(G,{label:"违规说明",prop:"violationExplain"},{default:e.withCtx(()=>[e.createVNode(Qe,{modelValue:l.value.violationExplain,"onUpdate:modelValue":t[7]||(t[7]=o=>l.value.violationExplain=o),style:{width:"450px","margin-left":"28px"},maxlength:50,placeholder:"只限50字"},null,8,["modelValue"])]),_:1}),e.createVNode(G,{label:"相关证据",prop:"violationEvidence"},{default:e.withCtx(()=>[e.createElementVNode("div",Pe,[t[20]||(t[20]=e.createElementVNode("div",{class:"notification"},"最多5张图片(jpg、gif、jpeg、png、webp、bmp)，单个图片1MB以内",-1)),e.createElementVNode("div",Ie,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(y.value,(o,f)=>(e.openBlock(),e.createElementBlock("div",{key:f,style:{position:"relative"}},[e.createVNode(H,{src:y.value[f],"onUpdate:src":w=>y.value[f]=w,width:80,height:80,format:{size:1,types:["image/png","image/jpg","image/jpeg","image/gif","image/webp","image/bmp"],width:80,height:80,isBeyondLimit:!0},"is-cropper":!1},null,8,["src","onUpdate:src"]),o?(e.openBlock(),e.createBlock(ve,{key:0,style:{position:"absolute",right:"-5px",top:"-5px",background:"#fff","border-radius":"50%"},color:"#7f7f7f",size:"20px",onClick:w=>I(f)},{default:e.withCtx(()=>[e.createVNode(e.unref(ie.CircleClose))]),_:2},1032,["onClick"])):e.createCommentVNode("",!0)]))),128)),e.withDirectives(e.createVNode(H,{width:80,height:80,format:{size:1,types:["image/png","image/jpg","image/jpeg","image/gif","image/webp","image/bmp"],width:80,height:80,isBeyondLimit:!0},"is-cropper":!1,onChange:M},null,512),[[e.vShow,y.value.length<5]])])])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),e.createVNode(U,{modelValue:z.value,"onUpdate:modelValue":t[10]||(t[10]=o=>z.value=o),title:"违规原因",width:"500px",center:"",onClose:t[11]||(t[11]=o=>d.value=!1)},{default:e.withCtx(()=>[e.createElementVNode("div",Oe,[e.createElementVNode("div",null,[t[23]||(t[23]=e.createElementVNode("p",{class:"explainData_label"},"检查员：",-1)),e.createTextVNode(" "+e.toDisplayString(B.value.rummager),1)]),e.createElementVNode("div",null,[t[24]||(t[24]=e.createElementVNode("p",{class:"explainData_label"},"检查时间：",-1)),e.createTextVNode(" "+e.toDisplayString(B.value.examineDateTime),1)]),e.createElementVNode("div",null,[t[25]||(t[25]=e.createElementVNode("p",{class:"explainData_label"},"类型：",-1)),e.createTextVNode(" "+e.toDisplayString(B.value.violationType),1)]),e.createElementVNode("div",null,[t[26]||(t[26]=e.createElementVNode("p",{class:"explainData_label"},"违规说明：",-1)),e.createTextVNode(" "+e.toDisplayString(B.value.violationExplain),1)]),e.createElementVNode("div",Be,[t[27]||(t[27]=e.createElementVNode("p",{class:"explainData_label"},"相关证据：",-1)),e.createElementVNode("div",Re,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(B.value.violationEvidence,(o,f)=>(e.openBlock(),e.createElementBlock("img",{key:f,src:o,class:"violation-evidence"},null,8,Fe))),128))])])])]),_:1},8,["modelValue"])],64)}}}),at="";return X(qe,[["__scopeId","data-v-9d47b8a2"]])});
